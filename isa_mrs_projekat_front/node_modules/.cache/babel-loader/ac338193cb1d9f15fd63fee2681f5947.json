{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e9ec041e\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"mt-3 mx-5 me-4 p-0\"\n};\nconst _hoisted_2 = {\n  class: \"card px-0 mb-2\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-header py-2\"\n}, [/*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"card-heading\"\n}, \"Reservation History\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_4 = {\n  key: 0,\n  class: \"card-body\"\n};\nconst _hoisted_5 = {\n  class: \"row\"\n};\nconst _hoisted_6 = {\n  class: \"col-md-4\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"col-md-4\"\n};\nconst _hoisted_9 = {\n  class: \"row\"\n};\nconst _hoisted_10 = {\n  class: \"rentalObjectName align-items-center text-start\",\n  style: {\n    \"display\": \"flex\"\n  }\n};\nconst _hoisted_11 = {\n  class: \"display-6 me-1 card-title cut-text\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_13 = {\n  class: \"row\"\n};\nconst _hoisted_14 = {\n  class: \"h4\"\n};\n\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", {\n  style: {\n    \"color\": \"#008970\"\n  }\n}, \"Date:\", -1\n/* HOISTED */\n));\n\nconst _hoisted_16 = {\n  class: \"row\"\n};\nconst _hoisted_17 = {\n  class: \"h4\"\n};\n\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", {\n  style: {\n    \"color\": \"#008970\"\n  }\n}, \"Total:\", -1\n/* HOISTED */\n));\n\nconst _hoisted_19 = {\n  class: \"col-md-4 p-5 d-flex flex-grow-1 justify-content-center align-items-center\",\n  style: {\n    \"height\": \"25vh\"\n  }\n};\nconst _hoisted_20 = {\n  style: {\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_21 = {\n  class: \"row\"\n};\nconst _hoisted_22 = [\"data-bs-target\"];\nconst _hoisted_23 = {\n  class: \"row\"\n};\nconst _hoisted_24 = [\"data-bs-target\"];\nconst _hoisted_25 = {\n  class: \"row\"\n};\nconst _hoisted_26 = [\"data-bs-target\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  const _component_ReservationPreview = _resolveComponent(\"ReservationPreview\");\n\n  const _component_ReservationReview = _resolveComponent(\"ReservationReview\");\n\n  const _component_ReservationReport = _resolveComponent(\"ReservationReport\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, this.clientInfo.reservations ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.getPastReservations, (reservation, i) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: i,\n      class: \"card reservation mb-3\"\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_router_link, {\n      to: $options.getPath(reservation),\n      class: \"link\",\n      onClick: $event => $options.setRentalIdAndType(reservation)\n    }, {\n      default: _withCtx(() => [$data.images[i] ? (_openBlock(), _createElementBlock(\"img\", {\n        key: 0,\n        class: \"rentalPhoto\",\n        src: $data.images[i],\n        alt: \"\"\n      }, null, 8\n      /* PROPS */\n      , _hoisted_7)) : _createCommentVNode(\"v-if\", true)]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"to\", \"onClick\"])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", null, [_createElementVNode(\"h1\", _hoisted_11, _toDisplayString(reservation.rentalObject.name), 1\n    /* TEXT */\n    )]), _hoisted_12])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"p\", _hoisted_14, [_hoisted_15, _createTextVNode(\" \" + _toDisplayString($options.getDateSpan(reservation)), 1\n    /* TEXT */\n    )])]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"p\", _hoisted_17, [_hoisted_18, _createTextVNode(\" $\" + _toDisplayString($options.calculateTotal(reservation)), 1\n    /* TEXT */\n    )])])]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"button\", {\n      class: \"w-100 btn mb-2\",\n      style: {\n        \"font-weight\": \"500\",\n        \"color\": \"white\"\n      },\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": '#bill-' + reservation.id\n    }, \" Reservation Preview \", 8\n    /* PROPS */\n    , _hoisted_22), _createVNode(_component_ReservationPreview, {\n      services: reservation.additionalServices,\n      days: $options.getNumberOfDays(reservation),\n      price: reservation.price,\n      total: $options.calculateTotal(reservation),\n      id: reservation.id,\n      specialOffer: reservation.specialOffer\n    }, null, 8\n    /* PROPS */\n    , [\"services\", \"days\", \"price\", \"total\", \"id\", \"specialOffer\"])]), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"button\", {\n      class: \"w-100 btn mb-2\",\n      style: {\n        \"background-color\": \"#ffd055\",\n        \"border\": \"1px solid #ffd055\",\n        \"font-weight\": \"500\",\n        \"color\": \"white\"\n      },\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": '#review-' + reservation.id\n    }, \" Review \", 8\n    /* PROPS */\n    , _hoisted_24), _createVNode(_component_ReservationReview, {\n      id: reservation.id,\n      reviews: reservation.reviews,\n      resId: reservation.id\n    }, null, 8\n    /* PROPS */\n    , [\"id\", \"reviews\", \"resId\"])]), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"button\", {\n      class: \"w-100 btn\",\n      style: {\n        \"background-color\": \"#e23c52\",\n        \"border\": \"1px solid #e23c52\",\n        \"font-weight\": \"500\",\n        \"color\": \"white\"\n      },\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": '#report-' + reservation.id\n    }, \" Report \", 8\n    /* PROPS */\n    , _hoisted_26), _createVNode(_component_ReservationReport, {\n      id: reservation.id,\n      resId: reservation.id,\n      reports: reservation.reports\n    }, null, 8\n    /* PROPS */\n    , [\"id\", \"resId\", \"reports\"])])])])])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","style","_createElementBlock","_hoisted_3","clientInfo","reservations","_Fragment","_renderList","$options","reservation","i","key","_createVNode","_component_router_link","to","onClick","$data","src","alt","_toDisplayString","rentalObject","name","_hoisted_12","_hoisted_15","_hoisted_18","id","_hoisted_22","_component_ReservationPreview","services","additionalServices","days","price","total","specialOffer","_hoisted_24","_component_ReservationReview","reviews","resId","_hoisted_26","_component_ReservationReport","reports"],"sourceRoot":"","sources":["C:\\Users\\Sa≈°ka\\Downloads\\MRS_ISA\\isa_mrs_projekat_front\\src\\components\\Client\\ClientPage\\components\\ClientProfile\\ClientReservations\\ClientReservationsHistory\\ClientReservationsHistory.vue"],"sourcesContent":["<template>\r\n  <div class=\"mt-3 mx-5 me-4 p-0\">\r\n    <div class=\"card px-0 mb-2\">\r\n      <div class=\"card-header py-2\">\r\n        <h4 class=\"card-heading\">Reservation History</h4>\r\n      </div>\r\n      <div v-if=\"this.clientInfo.reservations\" class=\"card-body\">\r\n\r\n        <div  v-for=\"(reservation, i) in getPastReservations\" :key=\"i\" class=\"card reservation mb-3\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4\" >\r\n              <router-link :to=\"getPath(reservation)\" class=\"link\" @click=\"setRentalIdAndType(reservation)\">\r\n                <img v-if=\"images[i]\" class=\"rentalPhoto\" :src=\"images[i]\" alt=\"\"/>\r\n              </router-link>\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n              <div class=\"row\">\r\n                <div class=\"rentalObjectName align-items-center text-start\" style=\"display: flex;\">\r\n                  <div>\r\n                    <h1 class=\"display-6 me-1 card-title cut-text\">{{ reservation.rentalObject.name }}</h1>\r\n                  </div>\r\n                  <hr>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\">\r\n                <p class=\"h4\" ><strong style=\"color:#008970;\">Date:</strong> {{  getDateSpan(reservation) }}</p>\r\n              </div>\r\n              <div class=\"row\">\r\n                <p class=\"h4\"><strong style=\"color:#008970;\">Total:</strong> ${{  calculateTotal(reservation) }}</p>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-4 p-5 d-flex flex-grow-1 justify-content-center align-items-center\" style=\"height: 25vh;\">\r\n              <div style=\"width: 100%;\">\r\n                <div class=\"row\">\r\n                  <button class=\"w-100 btn mb-2\" style=\"font-weight: 500; color: white;\" data-bs-toggle=\"modal\"\r\n                          :data-bs-target=\"'#bill-'+reservation.id\">\r\n                    Reservation Preview\r\n                  </button>\r\n                  <ReservationPreview :services=\"reservation.additionalServices\"\r\n                                      :days=\"getNumberOfDays(reservation)\"\r\n                                      :price=\"reservation.price\"\r\n                                      :total=\"calculateTotal(reservation)\"\r\n                                      :id=\"reservation.id\"\r\n                                      :specialOffer=\"reservation.specialOffer\"/>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <button class=\"w-100 btn mb-2\" style=\"background-color: #ffd055; border: 1px solid #ffd055;\r\n                  font-weight: 500; color: white;\" data-bs-toggle=\"modal\"\r\n                          :data-bs-target=\"'#review-'+reservation.id\">\r\n                    Review\r\n                  </button>\r\n                  <ReservationReview :id=\"reservation.id\"\r\n                                     :reviews=\"reservation.reviews\"\r\n                                     :resId=\"reservation.id\"/>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <button class=\"w-100 btn\" style=\"background-color:#e23c52; border: 1px solid #e23c52;\r\n                          font-weight: 500; color: white;\" data-bs-toggle=\"modal\"\r\n                          :data-bs-target=\"'#report-'+reservation.id\">\r\n                    Report\r\n                  </button>\r\n                  <ReservationReport :id=\"reservation.id\"\r\n                                     :resId=\"reservation.id\"\r\n                                     :reports=\"reservation.reports\"/>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport axios from \"axios/index\";\r\nimport ReservationPreview\r\n  from \"@/components/Client/ClientPage/components/ClientProfile/ClientReservations/ReservationPreview\";\r\nimport ReservationReview\r\n  from \"@/components/Client/ClientPage/components/ClientProfile/ClientReservations/ReservationReview\";\r\nimport ReservationReport\r\n  from \"@/components/Client/ClientPage/components/ClientProfile/ClientReservations/ReservationReport\";\r\n//import {useStore} from \"vuex\";\r\n\r\nexport default {\r\n  name: \"ClientReservationHistory\",\r\n  components: {ReservationReport, ReservationPreview, ReservationReview},\r\n  data() {\r\n    return {\r\n      clientInfo: [],\r\n      images: [],\r\n    }\r\n  },\r\n  computed: {\r\n    getPastReservations() {\r\n      let past = [];\r\n      const today = new Date();\r\n      today.setHours(23, 59, 59, 998);\r\n      for(let i=0; i<this.clientInfo.reservations.length; i++) {\r\n        let date = new Date(this.clientInfo.reservations[i].initDate);\r\n        date.setDate(date.getDate() + 1);\r\n        if(date < today) past.push(this.clientInfo.reservations[i]);\r\n      }\r\n      return past.sort((a, b) => new Date(b.initDate) > new Date(a.initDate) ? 1: -1);\r\n    }\r\n  },\r\n  methods: {\r\n    calculateTotal(reservation) {\r\n      let days = this.getNumberOfDays(reservation);\r\n      let services = this.calculateAdditionalServices(reservation);\r\n      let price = reservation.price;\r\n      if(reservation.specialOffer !== null) {\r\n        return (days*price)/100 * (100-reservation.specialOffer.discount);\r\n      }\r\n      return days*price+services;\r\n    },\r\n    getNumberOfDays(reservation) {\r\n      let initDate = reservation.initDate, termDate = reservation.termDate;\r\n      let date1 = new Date(initDate), date2 = new Date(termDate);\r\n      date1.setHours(0, 0, 0);\r\n      date2.setHours(0, 0, 0);\r\n      let timeDiff = date2.getTime() - date1.getTime();\r\n      let daysDiff = timeDiff / (1000 * 3600 * 24);\r\n      return daysDiff + 1;\r\n    },\r\n    calculateAdditionalServices(reservation) {\r\n      let services = reservation.additionalServices, totalServices = 0;\r\n      for(let i=0; i<services.length; i++) totalServices += services[i].price;\r\n      return totalServices;\r\n    },\r\n    getDateSpan(reservation) {\r\n      let initDate = reservation.initDate, termDate = reservation.termDate;\r\n      let date1 = new Date(initDate), date2 = new Date(termDate);\r\n      // date1.setHours(0, 0, 0);\r\n      // date2.setHours(0, 0, 0);\r\n      let dateDisplay = date1.getDate() + '.' + (date1.getMonth() + 1) + '.' +  date1.getFullYear() + '.';\r\n      if(date1.getFullYear() !== date2.getFullYear() || date1.getMonth() !== date2.getMonth() || date1.getDate() !== date2.getDate())\r\n        dateDisplay += ' - ' + date2.getDate() + '.' + (date2.getMonth() + 1) + '.' +  date2.getFullYear() + '.';\r\n      return dateDisplay;\r\n    },\r\n    setRentalIdAndType(reservation) {\r\n      this.$store.dispatch(\"rentalId\", reservation.rentalObject.id);\r\n      this.$store.dispatch(\"rentalType\", reservation.rentalObject.rentalObjectType);\r\n    },\r\n    getPath(reservation) {\r\n      return \"/client/RentalProfile/\" + reservation.rentalObject.rentalObjectType + \"-\"\r\n          + reservation.rentalObject.id;\r\n    },\r\n    getPhotos() {\r\n      let reservations = this.getPastReservations;\r\n      for (let i=0; i < reservations.length; i++) {\r\n        if(!reservations[i].rentalObject.displayPhoto.photo) { this.images[i] = null; continue; }\r\n        axios.get(\"/Photos/\", {\r\n          headers: {\r\n            Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n          },\r\n          params: {\r\n            path: reservations[i].rentalObject.displayPhoto.photo,\r\n          },\r\n          responseType: \"blob\"\r\n        })\r\n        .then(response => {\r\n          this.images[i] = URL.createObjectURL(response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    axios.get(\"/Users/getClientProfile\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.$store.getters.access_token\r\n      }\r\n    })\r\n    .then((response) => {\r\n      this.clientInfo = response.data;\r\n      this.reservations = this.clientInfo.reservations;\r\n      this.getPhotos(this.reservations);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nhr {\r\n  flex-grow: 1;\r\n}\r\n.cut-text {\r\n  width: 100%;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 1;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n}\r\ndiv.rentalObjectName {\r\n  display: flex;\r\n}\r\ndiv.reservation {\r\n  box-shadow: 0.1rem 0.1rem 0.4rem rgb(0 0 0 / 15%);\r\n  background-color: #ffffff;\r\n}\r\ndiv.reservation:hover {\r\n  padding: 3px;\r\n}\r\nimg.rentalPhoto {\r\n  height: 25vh;\r\n  width: 100%;\r\n  border-radius: 1rem;\r\n  object-fit: cover;\r\n  object-position: center;\r\n}\r\n.card {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: fit-content;\r\n  min-width: 0;\r\n  word-wrap: break-word;\r\n  background-color: #fff;\r\n  background-clip: border-box;\r\n  border: none;\r\n  box-shadow: 0 0.5rem 1rem rgb(0 0 0 / 15%);\r\n  border-radius: 1rem;\r\n}\r\n.card-header:first-child {\r\n  border-radius: calc(1rem - 1px) calc(1rem - 1px) 0 0;\r\n}\r\n.card-header {\r\n  position: relative;\r\n  padding: 2rem 2rem;\r\n  border-bottom: none;\r\n  background-color: inherit;\r\n  box-shadow: 0 0.125rem 0.25rem rgb(0 0 0 / 8%);\r\n  z-index: 2;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}