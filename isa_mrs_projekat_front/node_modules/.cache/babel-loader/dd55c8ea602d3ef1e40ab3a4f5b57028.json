{"ast":null,"code":"import IncomeRateView from \"@/components/Administrator/AdminPage/components/AdminMainViews/AdminIncomeRateComponents/IncomeRateView\";\nimport { Line } from 'vue-chartjs';\nimport { Chart as ChartJS, Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale, LineElement, PointElement, LineController } from 'chart.js';\nimport axios from \"axios\";\nimport { useStore } from \"vuex\";\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale, LineElement, PointElement, LineController);\nexport default {\n  name: \"AdminContentPage\",\n  components: {\n    IncomeRateView,\n    Line\n  },\n\n  data() {\n    return {\n      totalReservations: 0,\n      reservationsLastYear: 0,\n      reservationsLastMonth: 0,\n      reservationsLastWeek: 0,\n      totalOwners: 0,\n      totalClients: 0,\n      totalVacationRentals: 0,\n      totalBoats: 0,\n      totalAdventures: 0,\n      incomeLastYear: 0,\n      incomeLastMonth: 0,\n      incomeLastWeek: 0,\n      chartData: {\n        labels: [],\n        datasets: [{\n          label: 'Reservation income',\n          backgroundColor: '#008970',\n          borderColor: 'rgb(0, 137, 112, 0.4)',\n          data: []\n        }, {\n          label: 'Cancellation income',\n          backgroundColor: '#e23c52',\n          borderColor: 'rgb(226, 60, 82, 0.4)',\n          data: []\n        }]\n      }\n    };\n  },\n\n  mounted() {\n    const store = useStore();\n    axios.get(\"/Profits/adminDashboard\", {\n      headers: {\n        Authorization: \"Bearer \" + store.getters.access_token\n      }\n    }).then(response => {\n      const dashboardData = response.data;\n      this.totalAdventures = dashboardData.totalAdventures;\n      this.totalReservations = dashboardData.totalReservations;\n      this.reservationsLastYear = dashboardData.reservationsLastYear;\n      this.reservationsLastMonth = dashboardData.reservationsLastMonth;\n      this.reservationsLastWeek = dashboardData.reservationsLastWeek;\n      this.totalOwners = dashboardData.totalOwners;\n      this.totalClients = dashboardData.totalClients;\n      this.totalVacationRentals = dashboardData.totalVacationRentals;\n      this.totalBoats = dashboardData.totalBoats;\n      this.incomeLastYear = dashboardData.incomeLastYear;\n      this.incomeLastMonth = dashboardData.incomeLastMonth;\n      this.incomeLastWeek = dashboardData.incomeLastWeek;\n      const nodes1 = dashboardData.reservationIncomeGraph.nodes;\n      const nodes2 = dashboardData.cancellationIncomeGraph.nodes;\n      let dataset1 = [];\n      let dataset2 = [];\n\n      for (let i = 0; i < 12; i++) {\n        this.chartData.labels.push(nodes1[i].month);\n        dataset1.push(nodes1[i].value);\n        dataset2.push(nodes2[i].value);\n      }\n\n      this.chartData.datasets[0].data = dataset1;\n      this.chartData.datasets[1].data = dataset2;\n    }).catch(e => {\n      console.log(e);\n      this.$notify({\n        title: \"Server error\",\n        text: \"Server is currently off. Please try again later...\",\n        type: \"error\"\n      });\n    });\n  }\n\n};","map":{"version":3,"mappings":"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","names":["IncomeRateView","Line","Chart","ChartJS","Title","Tooltip","Legend","BarElement","CategoryScale","LinearScale","LineElement","PointElement","LineController","axios","useStore","register","name","components","data","totalReservations","reservationsLastYear","reservationsLastMonth","reservationsLastWeek","totalOwners","totalClients","totalVacationRentals","totalBoats","totalAdventures","incomeLastYear","incomeLastMonth","incomeLastWeek","chartData","labels","datasets","label","backgroundColor","borderColor","mounted","store","get","headers","Authorization","getters","access_token","then","response","dashboardData","nodes1","reservationIncomeGraph","nodes","nodes2","cancellationIncomeGraph","dataset1","dataset2","i","push","month","value","catch","e","console","log","$notify","title","text","type"],"sourceRoot":"","sources":["C:\\Users\\Sa≈°ka\\Downloads\\ISA_MRS\\isa_mrs_projekat_front\\src\\components\\Administrator\\AdminPage\\components\\AdminMainViews\\AdminDashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-1\"></div>\r\n    <div class=\"col-10\">\r\n      <div class=\"row justify-content-between\">\r\n        <div class=\"col d-table p-3 me-5 container rounded shadow mt-5\">\r\n          <p class=\"d-table-row text-center fs-5\">Total reservations</p>\r\n          <p class=\"d-table-row text-center fw-bold fs-3\">{{totalReservations}}</p>\r\n        </div>\r\n        <div class=\"col d-table p-3 me-5 container rounded shadow mt-5\">\r\n          <p class=\"d-table-row text-center fs-5\">Reservations last year</p>\r\n          <p class=\"d-table-row text-center fw-bold fs-3\">{{reservationsLastYear}}</p>\r\n        </div>\r\n        <div class=\"col d-table p-3 me-5 container rounded shadow mt-5\">\r\n          <p class=\"d-table-row text-center fs-5\">Reservations last month</p>\r\n          <p class=\"d-table-row text-center fw-bold fs-3\">{{reservationsLastMonth}}</p>\r\n        </div>\r\n        <div class=\"col d-table p-3 container rounded shadow mt-5\">\r\n          <p class=\"d-table-row text-center fs-5\">Reservations last week</p>\r\n          <p class=\"d-table-row text-center fw-bold fs-3\">{{reservationsLastWeek}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"row justify-content-between\">\r\n        <div class=\"col d-table p-3 me-5 container rounded shadow mt-5\">\r\n          <p class=\"d-table-row text-center fs-5\">Total owners</p>\r\n          <p class=\"d-table-row text-center fw-bold fs-3\">{{totalOwners}}</p>\r\n        </div>\r\n        <div class=\"col d-table p-3 me-5 container rounded shadow mt-5\">\r\n          <p class=\"d-table-row text-center fs-5\">Total clients</p>\r\n          <p class=\"d-table-row text-center fw-bold fs-3\">{{totalClients}}</p>\r\n        </div>\r\n        <div class=\"col d-table p-3 me-5 container rounded shadow mt-5\">\r\n          <p class=\"d-table-row text-center fs-5\">Total vacation houses</p>\r\n          <p class=\"d-table-row text-center fw-bold fs-3\">{{totalVacationRentals}}</p>\r\n        </div>\r\n        <div class=\"col d-table p-3 container rounded shadow mt-5\">\r\n          <p class=\"d-table-row text-center fs-5\">Total boats</p>\r\n          <p class=\"d-table-row text-center fw-bold fs-3\">{{totalBoats}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"row justify-content-between\">\r\n        <div class=\"col d-table p-3 me-5 container rounded shadow mt-5\">\r\n          <p class=\"d-table-row text-center fs-5\">Total adventures</p>\r\n          <p class=\"d-table-row text-center fw-bold fs-3\">{{totalAdventures}}</p>\r\n        </div>\r\n        <div class=\"col d-table p-3 me-5 container rounded shadow mt-5\">\r\n          <p class=\"d-table-row text-center fs-5\">Income last year</p>\r\n          <p class=\"d-table-row text-center fw-bold fs-3\">{{ incomeLastYear.toFixed(1) }}$</p>\r\n        </div>\r\n        <div class=\"col d-table p-3 me-5 container rounded shadow mt-5\">\r\n          <p class=\"d-table-row text-center fs-5\">Income last month</p>\r\n          <p class=\"d-table-row text-center fw-bold fs-3\">{{ incomeLastMonth.toFixed(1) }}$</p>\r\n        </div>\r\n        <div class=\"col d-table p-3 container rounded shadow mt-5\">\r\n          <p class=\"d-table-row text-center fs-5\">Income last week</p>\r\n          <p class=\"d-table-row text-center fw-bold fs-3\">{{ incomeLastWeek.toFixed(1) }}$</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"container d-flex justify-content-center p-3 rounded shadow mt-5 mb-5\">\r\n          <div class=\"row\">\r\n            <div class=\"my-auto mx-auto\">\r\n              <income-rate-view></income-rate-view>\r\n            </div>\r\n          </div>\r\n          <Line :chart-data=\"chartData\" :key=\"chartData.datasets[0].data\"></Line>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-1\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport IncomeRateView\r\n  from \"@/components/Administrator/AdminPage/components/AdminMainViews/AdminIncomeRateComponents/IncomeRateView\";\r\nimport { Line } from 'vue-chartjs';\r\nimport { Chart as ChartJS, Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale, LineElement, PointElement, LineController } from 'chart.js';\r\nimport axios from \"axios\";\r\nimport {useStore} from \"vuex\";\r\n\r\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale, LineElement, PointElement, LineController)\r\n\r\nexport default {\r\n  name: \"AdminContentPage\",\r\n  components: {IncomeRateView, Line},\r\n  data() {\r\n    return {\r\n      totalReservations: 0,\r\n      reservationsLastYear: 0,\r\n      reservationsLastMonth: 0,\r\n      reservationsLastWeek: 0,\r\n      totalOwners: 0,\r\n      totalClients: 0,\r\n      totalVacationRentals: 0,\r\n      totalBoats: 0,\r\n      totalAdventures: 0,\r\n      incomeLastYear: 0,\r\n      incomeLastMonth: 0,\r\n      incomeLastWeek: 0,\r\n      chartData: {\r\n        labels: [],\r\n        datasets: [\r\n          {\r\n            label: 'Reservation income',\r\n            backgroundColor: '#008970',\r\n            borderColor: 'rgb(0, 137, 112, 0.4)',\r\n            data: []\r\n          },\r\n          {\r\n            label: 'Cancellation income',\r\n            backgroundColor: '#e23c52',\r\n            borderColor: 'rgb(226, 60, 82, 0.4)',\r\n            data: []\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    const store = useStore();\r\n    axios.get(\"/Profits/adminDashboard\", {headers: {\r\n        Authorization: \"Bearer \" + store.getters.access_token,\r\n      }\r\n    })\r\n    .then((response) => {\r\n      const dashboardData = response.data;\r\n      this.totalAdventures = dashboardData.totalAdventures;\r\n      this.totalReservations = dashboardData.totalReservations;\r\n      this.reservationsLastYear = dashboardData.reservationsLastYear;\r\n      this.reservationsLastMonth = dashboardData.reservationsLastMonth;\r\n      this.reservationsLastWeek = dashboardData.reservationsLastWeek;\r\n      this.totalOwners = dashboardData.totalOwners;\r\n      this.totalClients = dashboardData.totalClients;\r\n      this.totalVacationRentals = dashboardData.totalVacationRentals;\r\n      this.totalBoats = dashboardData.totalBoats;\r\n      this.incomeLastYear = dashboardData.incomeLastYear;\r\n      this.incomeLastMonth = dashboardData.incomeLastMonth;\r\n      this.incomeLastWeek = dashboardData.incomeLastWeek;\r\n      const nodes1 = dashboardData.reservationIncomeGraph.nodes;\r\n      const nodes2 = dashboardData.cancellationIncomeGraph.nodes;\r\n      let dataset1 = [];\r\n      let dataset2 = [];\r\n      for (let i = 0; i < 12; i ++) {\r\n        this.chartData.labels.push(nodes1[i].month);\r\n        dataset1.push(nodes1[i].value);\r\n        dataset2.push(nodes2[i].value);\r\n      }\r\n      this.chartData.datasets[0].data = dataset1;\r\n      this.chartData.datasets[1].data = dataset2;\r\n    })\r\n    .catch((e) => {\r\n      console.log(e);\r\n      this.$notify({\r\n        title: \"Server error\",\r\n        text: \"Server is currently off. Please try again later...\",\r\n        type: \"error\"\r\n      });\r\n    })\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n  p {\r\n    color: #008970;\r\n    user-select: none; /* supported by Chrome and Opera */\r\n    -webkit-user-select: none; /* Safari */\r\n    -moz-user-select: none; /* Firefox */\r\n    -ms-user-select: none; /* Internet Explorer/Edge */\r\n  }\r\n\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}