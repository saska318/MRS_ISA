{"ast":null,"code":"import axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faAngleDoubleLeft, faAngleDoubleRight, faAngleLeft, faAngleRight, faFrown, faPlus, faLocationDot, faDollarSign } from \"@fortawesome/free-solid-svg-icons\";\nimport { useStore } from \"vuex\";\nimport { toggleLoading, toggleProcessing } from \"@/components/state\";\nlibrary.add(faAngleRight, faAngleLeft, faFrown, faAngleDoubleRight, faAngleDoubleLeft, faPlus, faLocationDot, faDollarSign);\nexport default {\n  name: \"AllCottagesView\",\n  components: {\n    FontAwesomeIcon\n  },\n\n  data() {\n    return {\n      cottages: [],\n      totalPages: null,\n      currentPage: 0,\n      pageSize: 10,\n      imageUrls: [],\n      changedRentals: []\n    };\n  },\n\n  mounted() {\n    toggleLoading();\n    const store = useStore();\n    axios.get(\"/RentalObjects/getVacationRentalsOwner\", {\n      headers: {\n        Authorization: \"Bearer \" + store.state.access_token\n      },\n      params: {\n        page: this.currentPage,\n        pageSize: this.pageSize,\n        field: \"name\"\n      }\n    }).then(response => {\n      this.cottages = response.data.content;\n      this.currentPage = response.data.currentPage;\n      this.totalPages = response.data.pages;\n      this.cottages.forEach(rentalObject => {\n        console.log(rentalObject.name);\n\n        if (rentalObject.photos.length > 0) {\n          const index = this.cottages.indexOf(rentalObject);\n          this.loadImage(rentalObject.photos[0].photo, index);\n        }\n      });\n      toggleLoading();\n    }).catch(() => {\n      this.$notify({\n        title: \"Server error\",\n        text: \"Something went wrong. Please try again later...\",\n        type: \"error\"\n      });\n    });\n  },\n\n  methods: {\n    saveChanges() {\n      toggleProcessing();\n      let ids = this.changedRentalsIds;\n      let lwc = {\n        list: ids\n      };\n      axios.put(\"/RentalObjects/multipleRentalsStatusChange\", lwc, {\n        headers: {\n          Authorization: \"Bearer \" + this.$store.state.access_token\n        }\n      }).then(response => {\n        let message = \"You have successfully changed status for rental objects:\";\n        response.data.forEach(rentalObject => {\n          message += \" \" + rentalObject.name + \",\";\n        });\n        message = message.slice(0, -1);\n        message += \".\";\n        this.$notify({\n          title: \"Status Change Successful\",\n          text: message,\n          type: \"success\"\n        });\n        this.changedRentals = [];\n        toggleProcessing();\n      }).catch(() => {\n        this.$notify({\n          title: \"Server error\",\n          text: \"Something went wrong. Please try again later...\",\n          type: \"error\"\n        });\n        toggleProcessing();\n      });\n    },\n\n    changeStatus(rentalObject) {\n      let index = this.changedRentals.findIndex(element => element.id === rentalObject.id);\n\n      if (index > -1) {\n        this.changedRentals.splice(index, 1);\n      } else {\n        this.changedRentals.push(rentalObject);\n      }\n    },\n\n    previousPage() {\n      this.currentPage -= 1;\n      this.refreshPage();\n    },\n\n    nextPage() {\n      this.currentPage += 1;\n      this.refreshPage();\n    },\n\n    numberedPage(buttonNumber) {\n      if (buttonNumber === 1) {\n        this.currentPage = this.button1Content - 1;\n      } else if (buttonNumber === 2) {\n        this.currentPage = this.button2Content - 1;\n      } else if (buttonNumber === 3) {\n        this.currentPage = this.button3Content - 1;\n      }\n\n      this.refreshPage();\n    },\n\n    refreshPage() {\n      toggleProcessing();\n      axios.get(\"/RentalObjects/getVacationRentalsOwner\", {\n        headers: {\n          Authorization: \"Bearer \" + this.$store.getters.access_token\n        },\n        params: {\n          page: this.currentPage,\n          pageSize: this.pageSize,\n          field: \"name\"\n        }\n      }).then(response => {\n        this.cottages = response.data.content;\n        this.currentPage = response.data.currentPage;\n        this.totalPages = response.data.pages;\n        this.cottages.forEach(rentalObject => {\n          if (rentalObject.photos.length > 0) {\n            const index = this.cottages.indexOf(rentalObject);\n            this.loadImage(rentalObject.photos[0].photo, index);\n          }\n        });\n        toggleProcessing();\n      }).catch(() => {\n        this.$notify({\n          title: \"Server error\",\n          text: \"Server is currently off. Please try again later...\",\n          type: \"error\"\n        });\n        toggleProcessing();\n      });\n    },\n\n    loadImage(name, index) {\n      axios.get(\"/Photos/\", {\n        headers: {\n          Authorization: \"Bearer \" + this.$store.getters.access_token\n        },\n        params: {\n          path: name\n        },\n        responseType: \"blob\"\n      }).then(response => {\n        this.imageUrls[index] = URL.createObjectURL(response.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    rulesOfConduct(rulesOfConduct) {\n      let pairsOfRules = [];\n      let positiveRules = this.positiveRules(rulesOfConduct);\n      let negativeRules = this.negativeRules(rulesOfConduct);\n      let size = Math.max(positiveRules.length, negativeRules.length);\n\n      for (let i = 0; i < size; i++) {\n        pairsOfRules.push({\n          \"Do\": i + 1 <= positiveRules.length ? positiveRules[i] : \"\",\n          \"DoNot\": i + 1 <= negativeRules.length ? negativeRules[i] : \"\"\n        });\n      }\n\n      return pairsOfRules;\n    },\n\n    positiveRules(rulesOfConduct) {\n      let positiveRules = [];\n      rulesOfConduct.forEach(rule => {\n        if (rule.type === \"Do\") {\n          positiveRules.push(rule.rule);\n        }\n      });\n      return positiveRules;\n    },\n\n    negativeRules(rulesOfConduct) {\n      let negativeRules = [];\n      rulesOfConduct.forEach(rule => {\n        if (rule.type === \"DoNot\") {\n          negativeRules.push(rule.rule);\n        }\n      });\n      return negativeRules;\n    }\n\n  },\n  computed: {\n    changedRentalsIds() {\n      let ids = [];\n      this.changedRentals.forEach(rentalObject => {\n        ids.push(rentalObject.id);\n      });\n      return ids;\n    },\n\n    hasChanged() {\n      return this.changedRentals.length > 0;\n    },\n\n    button1Content() {\n      return this.currentPage === 0 ? this.currentPage + 1 : this.totalPages - this.currentPage === 1 ? this.currentPage - 1 : this.currentPage;\n    },\n\n    button2Content() {\n      return this.currentPage === 0 ? this.currentPage + 2 : this.totalPages - this.currentPage === 1 ? this.currentPage : this.currentPage + 1;\n    },\n\n    button3Content() {\n      return this.currentPage === 0 ? this.currentPage + 3 : this.totalPages - this.currentPage === 1 ? this.currentPage + 1 : this.currentPage + 2;\n    },\n\n    modalMessage() {\n      let numberOfDeletedRentals = this.numberOfDeletedRentals;\n      let numberOfActivatedRentals = this.numberOfActivatedRentals;\n      let deleteMessage = \"\";\n      let activateMessage = \"\";\n\n      if (numberOfDeletedRentals > 1) {\n        deleteMessage = \"Do you want to delete vacation rentals:\";\n      } else if (numberOfDeletedRentals === 1) {\n        deleteMessage = \"Do you want to delete vacation rental:\";\n      }\n\n      if (numberOfActivatedRentals > 1) {\n        activateMessage = \"Do you want to activate vacation rentals:\";\n      } else if (numberOfActivatedRentals === 1) {\n        activateMessage = \"Do you want to activate vacation rental:\";\n      }\n\n      this.changedRentals.forEach(rentalObject => {\n        if (!rentalObject.isActive) {\n          deleteMessage += \" \" + rentalObject.name + \",\\n\";\n        } else {\n          activateMessage += \" \" + rentalObject.name + \",\\n\";\n        }\n      });\n\n      if (numberOfDeletedRentals > 0) {\n        deleteMessage = deleteMessage.slice(0, -2);\n        deleteMessage += \"?\";\n      }\n\n      if (numberOfActivatedRentals > 0) {\n        activateMessage = activateMessage.slice(0, -2);\n        activateMessage += \"?\";\n      }\n\n      return deleteMessage + \"\\n\" + activateMessage;\n    },\n\n    numberOfDeletedRentals() {\n      let counter = 0;\n      this.changedRentals.forEach(rentalObject => {\n        if (!rentalObject.isActive) {\n          counter += 1;\n        }\n      });\n      return counter;\n    },\n\n    numberOfActivatedRentals() {\n      let counter = 0;\n      this.changedRentals.forEach(rentalObject => {\n        if (rentalObject.isActive) {\n          counter += 1;\n        }\n      });\n      return counter;\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","FontAwesomeIcon","library","faAngleDoubleLeft","faAngleDoubleRight","faAngleLeft","faAngleRight","faFrown","faPlus","faLocationDot","faDollarSign","useStore","toggleLoading","toggleProcessing","add","name","components","data","cottages","totalPages","currentPage","pageSize","imageUrls","changedRentals","mounted","store","get","headers","Authorization","state","access_token","params","page","field","then","response","content","pages","forEach","rentalObject","console","log","photos","length","index","indexOf","loadImage","photo","catch","$notify","title","text","type","methods","saveChanges","ids","changedRentalsIds","lwc","list","put","$store","message","slice","changeStatus","findIndex","element","id","splice","push","previousPage","refreshPage","nextPage","numberedPage","buttonNumber","button1Content","button2Content","button3Content","getters","path","responseType","URL","createObjectURL","error","rulesOfConduct","pairsOfRules","positiveRules","negativeRules","size","Math","max","i","rule","computed","hasChanged","modalMessage","numberOfDeletedRentals","numberOfActivatedRentals","deleteMessage","activateMessage","isActive","counter"],"sourceRoot":"","sources":["C:\\Users\\Sa≈°ka\\Downloads\\MRS_ISA\\isa_mrs_projekat_front\\src\\components\\VacationRentalOwner\\VacationRentalOwnerPage\\components\\AllCottagesView\\AllCottagesView.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-1\"></div>\r\n    <div class=\"col-10 pt-5 mb-5\">\r\n      <div class=\"container-fluid pe-0 ps-0 me-0 ms-0\">\r\n        <div class=\"align-items-center\">\r\n          <div class=\"row main-col\">\r\n            <div class=\"col d-flex justify-content-start ps-0 ms-0 me-0 pe-0\">\r\n              <div class=\"col mb-1\">\r\n                <div class=\"d-flex flex-row justify-content-end\">\r\n                  <button v-if=\"hasChanged\" class=\"btn btn-red mb-1 me-1\" data-bs-toggle=\"modal\" data-bs-target=\"#confirmationDialog\">\r\n                    Save Changes\r\n                  </button>\r\n                </div>\r\n                <div class=\"modal fade\" id=\"confirmationDialog\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                  <div class=\"modal-dialog\">\r\n                    <div class=\"modal-content\">\r\n                      <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Rental Objects' Status Change</h5>\r\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                      </div>\r\n                      <div class=\"modal-body\">\r\n                        {{modalMessage}}\r\n                      </div>\r\n                      <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-red\" style=\"margin-right: 2vh;\" data-bs-dismiss=\"modal\">No</button>\r\n                        <button type=\"button\" class=\"btn\" @click=\"saveChanges\" data-bs-dismiss=\"modal\">Yes</button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <router-link to=\"/vacationRentalOwner/newCottage\" class=\"btn btn-default mb-1 d-flex my-auto\">\r\n                <font-awesome-icon class=\"my-auto pe-2\" icon=\"plus\"></font-awesome-icon>\r\n                Create new\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n          <div class=\"row main-col text-center header rounded mb-3\">\r\n            <div class=\"card\" v-for=\"(rentalObject, index) in this.cottages\" :key=\"index\" style=\"width:275px; margin: 0.5%; border-color: #008970\">\r\n              <img v-if=\"rentalObject.photos.length !== 0\" :src=\"imageUrls[index]\" style=\"width:100%\" class=\"img-fluid rounded border-1\" alt=\"\">\r\n              <div class=\"card-body\">\r\n                <div class=\"align-items-center text-start pb-3\" style=\"display: flex;\">\r\n                <router-link to=\"#\" style=\"color: #008970\">\r\n                <h4 class=\"card-title\">{{ rentalObject.name }}</h4>\r\n                  <hr class=\"ms-1\">\r\n                </router-link>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <h5>\r\n                    <font-awesome-icon class=\"my-auto\" icon=\"location-dot\"></font-awesome-icon>:\r\n                    {{rentalObject.address.city + \", \" + rentalObject.address.country}}\r\n                  </h5>\r\n                  <h5>\r\n                    <font-awesome-icon class=\"my-auto\" icon=\"dollar-sign\"></font-awesome-icon>:\r\n                    {{rentalObject.price + \"$\"}}\r\n                  </h5>\r\n                </div>\r\n                <a href=\"#\" class=\"btn btn-primary\">See Profile</a>\r\n              </div>\r\n            </div>\r\n            <table>\r\n              <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th>Name</th>\r\n                <th>Address</th>\r\n                <th></th>\r\n                <th>Price</th>\r\n                <th>Active</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr class=\"p-1\" v-for=\"(rentalObject, index) in this.cottages\" :key=\"index\" :class=\"index%2!==0?'odd':'even'\">\r\n                <td class=\"col-1\">\r\n                  <img v-if=\"rentalObject.photos.length !== 0\" :src=\"imageUrls[index]\" style=\"height: 6vh;width: 6vh\" class=\"img-fluid rounded border-1\" alt=\"\">\r\n                  <font-awesome-icon v-else icon=\"user\" class=\"img-fluid rounded border-1\" style=\"height: 3vh\"></font-awesome-icon>\r\n                </td>\r\n                <td>\r\n                  <router-link class=\"profile-link\" :to=\"'/vacationRentalOwner/VacationRental/' + rentalObject.id\">{{rentalObject.name}}</router-link>\r\n                </td>\r\n                <td>\r\n                  {{rentalObject.address.city + \", \" + rentalObject.address.country}}\r\n                </td>\r\n                <td>\r\n                  <button :id=\"index\" class=\"eye-btn border-0 text-decoration-none\" type=\"button\" data-bs-toggle=\"modal\" :data-bs-target=\"'#profileModal' + index\">\r\n                    <font-awesome-icon class=\"text-decoration-underline\" icon=\"eye\"></font-awesome-icon>\r\n                  </button>\r\n                  <div class=\"modal fade\" :id=\"'profileModal' + index\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                    <div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg\">\r\n                      <div class=\"modal-content\">\r\n                        <div class=\"modal-header\">\r\n                          <h5 class=\"modal-title\">Vacation Rental Profile</h5>\r\n                          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                        </div>\r\n                        <div class=\"modal-body\">\r\n                          <div class=\"row justify-content-center\">\r\n                            <div class=\"row\">\r\n                              <div class=\"col me-lg-3 me-md-2\">\r\n                                <div class=\"row text-center\">\r\n                                  <img v-if=\"rentalObject.photos.length !== 0\" :src=\"imageUrls[index]\" class=\"img-fluid rounded p-0\" alt=\"\">\r\n                                  <font-awesome-icon v-else icon=\"user\" class=\"img-fluid rounded p-0\" style=\"background-color: #B0B8B4FF; color: white\"></font-awesome-icon>\r\n                                </div>\r\n                              </div>\r\n                              <div class=\"col\">\r\n                                <div class=\"row text-center\">\r\n                                  <div class=\"container-fluid rounded\" style=\"border: 1px solid #008970; color: #008970\" >\r\n                                    <h5>{{rentalObject.name}}</h5>\r\n                                    <hr>\r\n                                    <div class=\"row pb-5\">\r\n                                      <div class=\"col text-start\">\r\n                                        <h6>Price: <span style=\"color: black\">{{rentalObject.price}}$</span></h6>\r\n                                        <h6>Description: <span style=\"color: black\">{{rentalObject.description}}</span></h6>\r\n                                        <h6>Address: <span style=\"color: black\">{{rentalObject.address.street + \" \" + rentalObject.address.number + \", \" + rentalObject.address.city + \", \" + rentalObject.address.country}}</span></h6>\r\n                                        <h6>Activity:\r\n                                          <input v-if=\"rentalObject.isActive\" class=\"form-check-input\" type=\"checkbox\" checked disabled>\r\n                                          <input v-else class=\"form-check-input\" type=\"checkbox\" disabled></h6>\r\n                                        <h6>Capacity: <span style=\"color: black\">{{rentalObject.capacity}}</span></h6>\r\n                                        <h6>Rules of Conduct:</h6>\r\n                                        <table class=\"rounded\">\r\n                                          <thead style=\"background-color: transparent\">\r\n                                          <tr>\r\n                                            <th style=\"background-color: #008970; color: #f7f7f2; ; border-bottom: #008970 1px solid\">Do</th>\r\n                                            <th style=\"background-color: #e23c52; color: #f7f7f2; border-left: #008970 1px solid; border-bottom: #e23c52 1px solid\">Don't</th>\r\n                                          </tr>\r\n                                          </thead>\r\n                                          <tbody>\r\n                                          <tr v-for=\"(rule, index) in rulesOfConduct(rentalObject.conductRules)\" :key=\"index\" :class=\"index%2!==0?'odd':'even'\">\r\n                                            <td style=\"border-right: #008970 1px solid\">{{rule.Do}}</td>\r\n                                            <td>{{rule.DoNot}}</td>\r\n                                          </tr>\r\n                                          </tbody>\r\n                                        </table>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  {{rentalObject.price + \"$\"}}\r\n                </td>\r\n                <td>\r\n                  <input class=\"form-check-input\" type=\"checkbox\" :value=\"!rentalObject.isActive\" v-model=\"rentalObject.isActive\" @change=\"changeStatus(rentalObject)\" :disabled=\"!rentalObject.isDeletable\">\r\n                </td>\r\n              </tr>\r\n              </tbody>\r\n            </table>\r\n            <nav aria-label=\"Page navigation\">\r\n              <ul class=\"pagination justify-content-center mt-3\">\r\n                <li class=\"page-item\" v-if=\"totalPages > 1\"><button class=\"page-link\" :disabled=\"currentPage===0\" @click=\"previousPage\">Previous</button></li>\r\n                <li class=\"page-item mt-auto me-1 ms-1\" v-if=\"currentPage > 1 && totalPages > 3\">...</li>\r\n                <li class=\"page-item\"><button class=\"page-link\" :disabled=\"currentPage === 0\" @click=\"numberedPage(1)\">{{button1Content}}</button></li>\r\n                <li class=\"page-item\" v-if=\"totalPages > 1\"><button class=\"page-link\" :disabled=\"currentPage !== 0 && totalPages - currentPage > 1\" @click=\"numberedPage(2)\">{{button2Content}}</button></li>\r\n                <li class=\"page-item\" v-if=\"totalPages > 2\"><button class=\"page-link\" :disabled=\"totalPages - currentPage === 1\" @click=\"numberedPage(3)\">{{button3Content}}</button></li>\r\n                <li class=\"page-item mt-auto me-1 ms-1\" v-if=\"totalPages - currentPage > 1 && totalPages > 3 && button3Content !== totalPages\">...</li>\r\n                <li class=\"page-item\" v-if=\"totalPages > 1\"><button class=\"page-link\" :disabled=\"totalPages - currentPage === 1\" @click=\"nextPage\">Next</button></li>\r\n              </ul>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-1\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from \"axios\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/vue-fontawesome\";\r\nimport {library} from \"@fortawesome/fontawesome-svg-core\";\r\nimport {faAngleDoubleLeft, faAngleDoubleRight, faAngleLeft, faAngleRight, faFrown, faPlus, faLocationDot, faDollarSign}\r\n  from \"@fortawesome/free-solid-svg-icons\";\r\nimport {useStore} from \"vuex\";\r\nimport {toggleLoading, toggleProcessing} from \"@/components/state\";\r\n\r\nlibrary.add(faAngleRight, faAngleLeft, faFrown, faAngleDoubleRight, faAngleDoubleLeft, faPlus, faLocationDot, faDollarSign);\r\n\r\nexport default {\r\n  name: \"AllCottagesView\",\r\n  components: {\r\n    FontAwesomeIcon\r\n  },\r\n  data() {\r\n    return {\r\n      cottages: [],\r\n      totalPages: null,\r\n      currentPage: 0,\r\n      pageSize: 10,\r\n      imageUrls: [],\r\n      changedRentals: []\r\n    }\r\n  },\r\n  mounted() {\r\n    toggleLoading();\r\n    const store = useStore();\r\n    axios.get(\"/RentalObjects/getVacationRentalsOwner\", {headers: {\r\n        Authorization: \"Bearer \" + store.state.access_token,\r\n      },\r\n      params: {\r\n        page: this.currentPage,\r\n        pageSize: this.pageSize,\r\n        field: \"name\",\r\n      }},\r\n    ).then(response => {\r\n      this.cottages = response.data.content;\r\n      this.currentPage = response.data.currentPage;\r\n      this.totalPages = response.data.pages;\r\n      this.cottages.forEach(rentalObject => {\r\n        console.log(rentalObject.name);\r\n        if (rentalObject.photos.length > 0) {\r\n          const index = this.cottages.indexOf(rentalObject);\r\n          this.loadImage(rentalObject.photos[0].photo, index);\r\n        }\r\n      });\r\n      toggleLoading();\r\n    })\r\n        .catch(() =>{\r\n          this.$notify({\r\n            title: \"Server error\",\r\n            text: \"Something went wrong. Please try again later...\",\r\n            type: \"error\"\r\n          });\r\n        })\r\n  },\r\n  methods: {\r\n    saveChanges() {\r\n      toggleProcessing();\r\n      let ids = this.changedRentalsIds;\r\n      let lwc = {list: ids};\r\n      axios.put(\"/RentalObjects/multipleRentalsStatusChange\",\r\n          lwc,\r\n          {headers: {\r\n              Authorization: \"Bearer \" + this.$store.state.access_token,\r\n            }\r\n          })\r\n          .then((response) => {\r\n            let message = \"You have successfully changed status for rental objects:\";\r\n            response.data.forEach((rentalObject) => {message += \" \" + rentalObject.name + \",\"});\r\n            message = message.slice(0, -1);\r\n            message += \".\";\r\n            this.$notify({\r\n              title: \"Status Change Successful\",\r\n              text: message,\r\n              type: \"success\"\r\n            });\r\n            this.changedRentals = [];\r\n            toggleProcessing();\r\n          })\r\n          .catch(() =>{\r\n            this.$notify({\r\n              title: \"Server error\",\r\n              text: \"Something went wrong. Please try again later...\",\r\n              type: \"error\"\r\n            });\r\n            toggleProcessing();\r\n          })\r\n    },\r\n    changeStatus(rentalObject) {\r\n      let index = this.changedRentals.findIndex(element => element.id === rentalObject.id);\r\n      if (index > -1) {\r\n        this.changedRentals.splice(index, 1);\r\n      } else {\r\n        this.changedRentals.push(rentalObject);\r\n      }\r\n    },\r\n    previousPage() {\r\n      this.currentPage -= 1;\r\n      this.refreshPage();\r\n    },\r\n    nextPage() {\r\n      this.currentPage += 1;\r\n      this.refreshPage();\r\n    },\r\n    numberedPage(buttonNumber) {\r\n      if (buttonNumber === 1) {\r\n        this.currentPage = this.button1Content - 1;\r\n      } else if (buttonNumber === 2) {\r\n        this.currentPage = this.button2Content - 1;\r\n      } else if (buttonNumber === 3) {\r\n        this.currentPage = this.button3Content - 1;\r\n      }\r\n      this.refreshPage();\r\n    },\r\n    refreshPage() {\r\n      toggleProcessing();\r\n      axios.get(\"/RentalObjects/getVacationRentalsOwner\", {headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        },\r\n        params: {\r\n          page: this.currentPage,\r\n          pageSize: this.pageSize,\r\n          field: \"name\"\r\n        }\r\n      })\r\n          .then(response => {\r\n            this.cottages = response.data.content;\r\n            this.currentPage = response.data.currentPage;\r\n            this.totalPages = response.data.pages;\r\n            this.cottages.forEach(rentalObject => {\r\n              if (rentalObject.photos.length > 0) {\r\n                const index = this.cottages.indexOf(rentalObject);\r\n                this.loadImage(rentalObject.photos[0].photo, index);\r\n              }\r\n            });\r\n            toggleProcessing();\r\n          })\r\n          .catch(() =>{\r\n            this.$notify({\r\n              title: \"Server error\",\r\n              text: \"Server is currently off. Please try again later...\",\r\n              type: \"error\"\r\n            });\r\n            toggleProcessing();\r\n          });\r\n    },\r\n    loadImage(name, index) {\r\n      axios.get(\"/Photos/\", {headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        },\r\n        params: {\r\n          path: name,\r\n        },\r\n        responseType: \"blob\"\r\n      })\r\n          .then(response => {\r\n            this.imageUrls[index] = URL.createObjectURL(response.data);\r\n          })\r\n          .catch((error) =>{\r\n            console.log(error);\r\n          });\r\n    },\r\n    rulesOfConduct(rulesOfConduct) {\r\n      let pairsOfRules = [];\r\n      let positiveRules = this.positiveRules(rulesOfConduct);\r\n      let negativeRules = this.negativeRules(rulesOfConduct);\r\n      let size = Math.max(positiveRules.length, negativeRules.length);\r\n      for (let i = 0; i < size; i++) {\r\n        pairsOfRules.push({\r\n          \"Do\": i+1<=positiveRules.length?positiveRules[i]:\"\",\r\n          \"DoNot\": i+1<=negativeRules.length?negativeRules[i]:\"\"\r\n        });\r\n      }\r\n      return pairsOfRules;\r\n    },\r\n    positiveRules(rulesOfConduct) {\r\n      let positiveRules = [];\r\n      rulesOfConduct.forEach(rule => {\r\n        if (rule.type === \"Do\") {\r\n          positiveRules.push(rule.rule);\r\n        }\r\n      });\r\n      return positiveRules;\r\n    },\r\n    negativeRules(rulesOfConduct) {\r\n      let negativeRules = [];\r\n      rulesOfConduct.forEach(rule => {\r\n        if (rule.type === \"DoNot\") {\r\n          negativeRules.push(rule.rule);\r\n        }\r\n      });\r\n      return negativeRules;\r\n    }\r\n  },\r\n  computed: {\r\n    changedRentalsIds() {\r\n      let ids = [];\r\n      this.changedRentals.forEach(rentalObject => {ids.push(rentalObject.id)});\r\n      return ids;\r\n    },\r\n    hasChanged() {\r\n      return this.changedRentals.length > 0;\r\n    },\r\n    button1Content() {\r\n      return this.currentPage === 0 ? this.currentPage+1: this.totalPages - this.currentPage === 1 ? this.currentPage - 1 : this.currentPage;\r\n    },\r\n    button2Content() {\r\n      return this.currentPage === 0 ? this.currentPage+2: this.totalPages - this.currentPage === 1 ? this.currentPage : this.currentPage+1;\r\n    },\r\n    button3Content() {\r\n      return this.currentPage === 0 ? this.currentPage+3: this.totalPages - this.currentPage === 1 ? this.currentPage + 1 : this.currentPage+2;\r\n    },\r\n    modalMessage() {\r\n      let numberOfDeletedRentals = this.numberOfDeletedRentals;\r\n      let numberOfActivatedRentals = this.numberOfActivatedRentals;\r\n      let deleteMessage = \"\";\r\n      let activateMessage = \"\";\r\n      if (numberOfDeletedRentals > 1) {\r\n        deleteMessage = \"Do you want to delete vacation rentals:\";\r\n      } else if (numberOfDeletedRentals === 1) {\r\n        deleteMessage = \"Do you want to delete vacation rental:\";\r\n      }\r\n      if (numberOfActivatedRentals > 1) {\r\n        activateMessage = \"Do you want to activate vacation rentals:\";\r\n      } else if (numberOfActivatedRentals === 1) {\r\n        activateMessage = \"Do you want to activate vacation rental:\";\r\n      }\r\n      this.changedRentals.forEach(rentalObject => {\r\n        if (!rentalObject.isActive) {\r\n          deleteMessage += \" \" + rentalObject.name + \",\\n\";\r\n        } else {\r\n          activateMessage += \" \" + rentalObject.name + \",\\n\";\r\n        }\r\n      });\r\n      if (numberOfDeletedRentals > 0) {\r\n        deleteMessage = deleteMessage.slice(0, -2);\r\n        deleteMessage += \"?\";\r\n      }\r\n      if (numberOfActivatedRentals > 0) {\r\n        activateMessage = activateMessage.slice(0, -2);\r\n        activateMessage += \"?\";\r\n      }\r\n      return deleteMessage + \"\\n\" + activateMessage;\r\n    },\r\n    numberOfDeletedRentals() {\r\n      let counter = 0;\r\n      this.changedRentals.forEach(rentalObject => {\r\n        if (!rentalObject.isActive) {\r\n          counter += 1;\r\n        }\r\n      });\r\n      return counter;\r\n    },\r\n    numberOfActivatedRentals() {\r\n      let counter = 0;\r\n      this.changedRentals.forEach(rentalObject => {\r\n        if (rentalObject.isActive) {\r\n          counter += 1;\r\n        }\r\n      });\r\n      return counter;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.profile-link {\r\n  color: #008970;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}