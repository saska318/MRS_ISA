{"ast":null,"code":"import { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faLocationDot } from \"@fortawesome/free-solid-svg-icons\";\nimport { Map, NavigationControl, Marker } from 'maplibre-gl';\nimport { shallowRef, onMounted, onUnmounted, markRaw } from 'vue';\nlibrary.add(faLocationDot);\nexport default {\n  name: \"RentalAddress\",\n  components: {\n    FontAwesomeIcon\n  },\n  props: [\"address\"],\n\n  setup(props) {\n    const mapContainer = shallowRef(null);\n    const map = shallowRef(null);\n    onMounted(() => {\n      const apiKey = 'nhoszMgknD7huJIF4K2D';\n      const initialState = {\n        lng: props.address.longitude,\n        lat: props.address.latitude,\n        zoom: 14\n      };\n      map.value = markRaw(new Map({\n        container: mapContainer.value,\n        style: `https://api.maptiler.com/maps/streets/style.json?key=${apiKey}`,\n        center: [initialState.lng, initialState.lat],\n        zoom: initialState.zoom\n      }));\n      map.value.addControl(new NavigationControl(), 'top-right');\n      new Marker({\n        color: \"#e23c52\"\n      }).setLngLat([props.address.longitude, props.address.latitude]).addTo(map.value);\n    }), onUnmounted(() => {\n      map.value?.remove();\n    });\n    return {\n      map,\n      mapContainer\n    };\n  },\n\n  computed: {\n    getAddress() {\n      return this.address.street + (this.address.number ? ' ' + this.address.number : \"\") + ', ' + this.address.city + ', ' + this.address.country;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAUA,SAAQA,eAAR,QAA8B,8BAA9B;AACA,SAASC,OAAT,QAAwB,mCAAxB;AACA,SAASC,aAAT,QAA8B,mCAA9B;AACA,SAASC,GAAT,EAAcC,iBAAd,EAAiCC,MAAjC,QAA+C,aAA/C;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,WAAhC,EAA6CC,OAA7C,QAA4D,KAA5D;AAEAR,OAAO,CAACS,GAAR,CAAYR,aAAZ;AAEA,eAAe;AACbS,MAAI,EAAE,eADO;AAEbC,YAAU,EAAE;AAACZ;AAAD,GAFC;AAGba,OAAK,EAAE,CAAC,SAAD,CAHM;;AAIbC,OAAI,CAAGD,KAAH,EAAU;AACZ,UAAME,YAAW,GAAIT,UAAU,CAAC,IAAD,CAA/B;AACA,UAAMU,GAAE,GAAIV,UAAU,CAAC,IAAD,CAAtB;AAEAC,aAAS,CAAC,MAAM;AACd,YAAMU,MAAK,GAAI,sBAAf;AAEA,YAAMC,YAAW,GAAI;AAAEC,WAAG,EAAEN,KAAK,CAACO,OAAN,CAAcC,SAArB;AAAgCC,WAAG,EAAET,KAAK,CAACO,OAAN,CAAcG,QAAnD;AAA6DC,YAAI,EAAE;AAAnE,OAArB;AAEAR,SAAG,CAACS,KAAJ,GAAYhB,OAAO,CAAC,IAAIN,GAAJ,CAAQ;AAC1BuB,iBAAS,EAAEX,YAAY,CAACU,KADE;AAE1BE,aAAK,EAAG,wDAAuDV,MAAO,EAF5C;AAG1BW,cAAM,EAAE,CAACV,YAAY,CAACC,GAAd,EAAmBD,YAAY,CAACI,GAAhC,CAHkB;AAI1BE,YAAI,EAAEN,YAAY,CAACM;AAJO,OAAR,CAAD,CAAnB;AAMAR,SAAG,CAACS,KAAJ,CAAUI,UAAV,CAAqB,IAAIzB,iBAAJ,EAArB,EAA8C,WAA9C;AACA,UAAIC,MAAJ,CAAW;AAACyB,aAAK,EAAE;AAAR,OAAX,EACKC,SADL,CACe,CAAClB,KAAK,CAACO,OAAN,CAAcC,SAAf,EAA0BR,KAAK,CAACO,OAAN,CAAcG,QAAxC,CADf,EAEKS,KAFL,CAEWhB,GAAG,CAACS,KAFf;AAID,KAhBQ,CAAT,EAiBIjB,WAAW,CAAC,MAAM;AAChBQ,SAAG,CAACS,KAAJ,EAAWQ,MAAX;AACD,KAFU,CAjBf;AAqBA,WAAO;AACLjB,SADK;AACAD;AADA,KAAP;AAGD,GAhCY;;AAiCbmB,UAAQ,EAAE;AACRC,cAAU,GAAG;AACX,aAAO,KAAKf,OAAL,CAAagB,MAAb,IAAuB,KAAKhB,OAAL,CAAaiB,MAAb,GAAqB,MAAK,KAAKjB,OAAL,CAAaiB,MAAvC,GAA8C,EAArE,IAA2E,IAA3E,GAAkF,KAAKjB,OAAL,CAAckB,IAAhG,GAAuG,IAAvG,GAA8G,KAAKlB,OAAL,CAAamB,OAAlI;AACF;;AAHQ;AAjCG,CAAf","names":["FontAwesomeIcon","library","faLocationDot","Map","NavigationControl","Marker","shallowRef","onMounted","onUnmounted","markRaw","add","name","components","props","setup","mapContainer","map","apiKey","initialState","lng","address","longitude","lat","latitude","zoom","value","container","style","center","addControl","color","setLngLat","addTo","remove","computed","getAddress","street","number","city","country"],"sourceRoot":"","sources":["C:\\Users\\Sa≈°ka\\Downloads\\MRS_ISA\\isa_mrs_projekat_front\\src\\components\\UnregisteredUser\\components\\Rental\\RentalAddress.vue"],"sourcesContent":["<template>\r\n  <p class=\"h4\" style=\"font-family: Cambria\">\r\n    <font-awesome-icon class=\"me-1\" icon=\"location-dot\" style=\"color: #008970\"></font-awesome-icon><small>{{ getAddress }}</small>\r\n  </p>\r\n  <div class=\"map-wrap\">\r\n    <div class=\"map\" ref=\"mapContainer\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {FontAwesomeIcon} from \"@fortawesome/vue-fontawesome\";\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { faLocationDot } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Map, NavigationControl, Marker } from 'maplibre-gl';\r\nimport { shallowRef, onMounted, onUnmounted, markRaw } from 'vue';\r\n\r\nlibrary.add(faLocationDot);\r\n\r\nexport default {\r\n  name: \"RentalAddress\",\r\n  components: {FontAwesomeIcon},\r\n  props: [\"address\"],\r\n  setup (props) {\r\n    const mapContainer = shallowRef(null);\r\n    const map = shallowRef(null);\r\n\r\n    onMounted(() => {\r\n      const apiKey = 'nhoszMgknD7huJIF4K2D';\r\n\r\n      const initialState = { lng: props.address.longitude, lat: props.address.latitude, zoom: 14 };\r\n\r\n      map.value = markRaw(new Map({\r\n        container: mapContainer.value,\r\n        style: `https://api.maptiler.com/maps/streets/style.json?key=${apiKey}`,\r\n        center: [initialState.lng, initialState.lat],\r\n        zoom: initialState.zoom\r\n      }));\r\n      map.value.addControl(new NavigationControl(), 'top-right');\r\n      new Marker({color: \"#e23c52\"})\r\n          .setLngLat([props.address.longitude, props.address.latitude])\r\n          .addTo(map.value);\r\n\r\n    }),\r\n        onUnmounted(() => {\r\n          map.value?.remove();\r\n        })\r\n\r\n    return {\r\n      map, mapContainer\r\n    };\r\n  },\r\n  computed: {\r\n    getAddress() {\r\n      return this.address.street + (this.address.number? ' ' +this.address.number:\"\") + ', ' + this.address. city + ', ' + this.address.country\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import '~maplibre-gl/dist/maplibre-gl.css';\r\n\r\n.map-wrap {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 30vh; /* calculate height of the screen minus the heading */\r\n}\r\n\r\n.map {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}