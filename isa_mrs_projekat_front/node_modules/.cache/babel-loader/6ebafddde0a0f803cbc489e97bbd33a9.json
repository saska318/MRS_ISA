{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-1\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  class: \"col-10 pt-5 mb-5\"\n};\nconst _hoisted_4 = {\n  class: \"row container-fluid pe-0 ps-0 me-0 ms-0\"\n};\nconst _hoisted_5 = {\n  class: \"col-4 text-center\"\n};\nconst _hoisted_6 = {\n  class: \"col-8\"\n};\nconst _hoisted_7 = {\n  class: \"align-items-center\"\n};\nconst _hoisted_8 = {\n  class: \"row main-col text-center header rounded mb-3\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"ID\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Type\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Time Stamp\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-end pe-5\"\n}, \"Value\")])], -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = {\n  class: \"text-end pe-5\"\n};\nconst _hoisted_11 = {\n  style: {\n    \"background-color\": \"#6c757d\",\n    \"color\": \"white\"\n  }\n};\n\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"td\", {\n  class: \"fw-bolder text-start\"\n}, \"Total:\", -1\n/* HOISTED */\n);\n\nconst _hoisted_13 = {\n  colspan: \"3\",\n  class: \"fw-bolder text-end pe-5\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-1\"\n}, null, -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_date_picker = _resolveComponent(\"date-picker\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_date_picker, {\n    mode: \"range\",\n    modelValue: $data.range,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.range = $event),\n    \"is-range\": \"\"\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"]), _createElementVNode(\"button\", {\n    class: \"btn mt-2\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.generateReport && $options.generateReport(...args))\n  }, \"Generate Report\")]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"table\", null, [_hoisted_9, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.incomes, (income, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index,\n      class: _normalizeClass(index % 2 !== 0 ? 'odd' : 'even')\n    }, [_createElementVNode(\"td\", null, _toDisplayString(income.id), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(income.type), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(income.timeStamp.replace('T', ' ')), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_10, _toDisplayString(income.value) + \"$\", 1\n    /* TEXT */\n    )], 2\n    /* CLASS */\n    );\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _createElementVNode(\"tr\", _hoisted_11, [_hoisted_12, _createElementVNode(\"td\", _hoisted_13, _toDisplayString($options.totalIncome.toFixed(1)) + \"$\", 1\n  /* TEXT */\n  )])])])])])])]), _hoisted_14])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","style","colspan","_createElementBlock","_hoisted_2","_createVNode","_component_date_picker","mode","$data","$event","onClick","$options","_hoisted_9","_Fragment","_renderList","incomes","income","index","key","_toDisplayString","id","type","timeStamp","replace","value","_hoisted_12","toFixed","_hoisted_14"],"sourceRoot":"","sources":["C:\\Users\\Sa≈°ka\\Downloads\\ISA_MRS\\isa_mrs_projekat_front\\src\\components\\Administrator\\AdminPage\\components\\AdminMainViews\\AdminFinancesView.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-1\"></div>\r\n    <div class=\"col-10 pt-5 mb-5\">\r\n      <div class=\"row container-fluid pe-0 ps-0 me-0 ms-0\">\r\n        <div class=\"col-4 text-center\">\r\n          <date-picker mode=\"range\" v-model=\"range\" is-range></date-picker>\r\n          <button class=\"btn mt-2\" @click=\"generateReport\">Generate Report</button>\r\n        </div>\r\n        <div class=\"col-8\">\r\n          <div class=\"align-items-center\">\r\n            <div class=\"row main-col text-center header rounded mb-3\">\r\n              <table>\r\n                <thead>\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>Type</th>\r\n                  <th>Time Stamp</th>\r\n                  <th class=\"text-end pe-5\">Value</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr v-for=\"(income, index) in this.incomes\" :key=\"index\" :class=\"index%2!==0?'odd':'even'\">\r\n                  <td>{{income.id}}</td>\r\n                  <td>{{income.type}}</td>\r\n                  <td>{{income.timeStamp.replace('T', ' ')}}</td>\r\n                  <td class=\"text-end pe-5\">{{income.value}}$</td>\r\n                </tr>\r\n                <tr style=\"background-color: #6c757d; color: white\">\r\n                  <td class=\"fw-bolder text-start\">Total:</td>\r\n                  <td colspan=\"3\" class=\"fw-bolder text-end pe-5\">{{totalIncome.toFixed(1)}}$</td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-1\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {DatePicker} from \"v-calendar\";\r\nimport {toggleLoading} from \"@/components/state\";\r\nimport axios from \"axios\";\r\nimport store from \"@/store\";\r\n\r\nexport default {\r\n  name: \"AdminFinancesView\",\r\n  components: {DatePicker},\r\n  data() {\r\n    return {\r\n      incomes: [],\r\n      range: {\r\n        start: new Date(new Date().setFullYear(new Date().getFullYear() - 1)),\r\n        end: new Date()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    generateReport() {\r\n      toggleLoading();\r\n      const start = this.range.start.toISOString().slice(0, 19);\r\n      const end = this.range.end.toISOString().slice(0, 19);\r\n      console.log(start);\r\n      console.log(end);\r\n      axios.get(\"/Profits/adminReport\", {headers: {\r\n          Authorization: \"Bearer \" + store.getters.access_token,\r\n        },\r\n        params: {\r\n          start: start,\r\n          end: end\r\n        }\r\n      })\r\n      .then((response) => {\r\n        this.incomes = response.data;\r\n        toggleLoading();\r\n      })\r\n      .catch(() => {\r\n        this.$notify({\r\n          title: \"Server error\",\r\n          text: \"Server is currently off. Please try again later...\",\r\n          type: \"error\"\r\n        });\r\n        toggleLoading();\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.generateReport();\r\n  },\r\n  computed: {\r\n    totalIncome() {\r\n      let income = 0;\r\n      this.incomes.forEach(i => {\r\n        income += i.value;\r\n      })\r\n      return income;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}