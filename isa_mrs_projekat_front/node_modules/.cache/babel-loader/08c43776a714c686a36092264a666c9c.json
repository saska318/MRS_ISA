{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../../../../../Images/warn.png';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-eb7dbab2\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = [\"id\"];\nconst _hoisted_2 = {\n  class: \"modal-dialog modal-dialog-centered modal-dialog-scrollable\"\n};\nconst _hoisted_3 = {\n  class: \"modal-content\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"modal-header p-0 m-0\",\n  style: {\n    \"border-bottom\": \"none\"\n  }\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = {\n  class: \"modal-body pt-0 mt-0\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"row text-center pb-0 mb-0\\\" style=\\\"border-bottom:1px solid lightgray;\\\" data-v-eb7dbab2><h1 class=\\\"modal-title pb-1\\\" style=\\\"color:#e23c52;font-weight:700;\\\" data-v-eb7dbab2>Report</h1></div><div class=\\\"row d-flex justify-content-center\\\" data-v-eb7dbab2><img src=\\\"\" + _imports_0 + \"\\\" alt=\\\"\\\" style=\\\"height:50%;width:50%;\\\" data-v-eb7dbab2></div><div data-v-eb7dbab2><p class=\\\"h5 mt-3\\\" data-v-eb7dbab2>Please write your complaint in great detail.</p></div>\", 3);\n\nconst _hoisted_9 = [\"value\"];\nconst _hoisted_10 = [\"id\", \"content\", \"disabled\"];\nconst _hoisted_11 = {\n  key: 2,\n  id: \"missingRentalGradeMessage\",\n  class: \"row text-center\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"h6 mt-3\",\n  style: {\n    \"color\": \"#e23c52\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"You must enter a complaint.\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_13 = [_hoisted_12];\nconst _hoisted_14 = {\n  key: 3,\n  class: \"form-check h4 mt-3 d-flex justify-content-center align-items-center\"\n};\nconst _hoisted_15 = [\"checked\"];\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-check-label ms-2\",\n  for: \"flexCheckDefault_1\"\n}, \" Client hasn't showed up \", -1\n/* HOISTED */\n));\n\nconst _hoisted_17 = {\n  key: 4,\n  class: \"form-check h4 mt-3 d-flex justify-content-center align-items-center\"\n};\nconst _hoisted_18 = [\"checked\", \"id\"];\nconst _hoisted_19 = [\"for\"];\nconst _hoisted_20 = {\n  class: \"modal-footer d-flex\",\n  style: {\n    \"border-top\": \"none\",\n    \"justify-content\": \"space-evenly\"\n  }\n};\nconst _hoisted_21 = {\n  key: 0,\n  type: \"button\",\n  class: \"btn btn-secondary\",\n  \"data-bs-dismiss\": \"modal\",\n  style: {\n    \"background-color\": \"#e23c52\",\n    \"color\": \"white\",\n    \"width\": \"40%\"\n  }\n};\nconst _hoisted_22 = [\"disabled\"];\nconst _hoisted_23 = {\n  key: 2,\n  type: \"button\",\n  class: \"btn btn-secondary w-100\",\n  \"data-bs-dismiss\": \"modal\",\n  style: {\n    \"color\": \"white\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return this.reports ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"modal fade\",\n    id: 'report-' + this.id,\n    \"aria-labelledby\": \"exampleModalLabel\",\n    \"aria-hidden\": \"true\"\n  }, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, $options.isReportPresent ? (_openBlock(), _createElementBlock(\"textarea\", {\n    key: 0,\n    id: \"reportExists\",\n    value: this.newReport.comment,\n    disabled: \"\",\n    rows: \"3\",\n    placeholder: \"Leave a complaint here\",\n    class: \"w-100 p-2 px-3\",\n    style: {\n      \"background-color\": \"#e23c52\",\n      \"border-radius\": \"20px\",\n      \"resize\": \"none\"\n    },\n    maxlength: \"1000\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_9)) : _createCommentVNode(\"v-if\", true), !$options.isReportPresent ? (_openBlock(), _createElementBlock(\"textarea\", {\n    key: 1,\n    id: 'insertReport' + this.resId,\n    content: this.newReport.comment,\n    disabled: $data.isSaved,\n    rows: \"3\",\n    placeholder: \"Leave a complaint here\",\n    class: \"w-100 p-2 px-3\",\n    style: {\n      \"background-color\": \"#e23c52\",\n      \"border-radius\": \"20px\",\n      \"resize\": \"none\"\n    },\n    maxlength: \"1000\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_10)) : _createCommentVNode(\"v-if\", true), $data.complaintMissing ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _hoisted_13)) : _createCommentVNode(\"v-if\", true), $options.isReportPresent ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_createElementVNode(\"input\", {\n    checked: !$data.newReport.showedUp,\n    class: \"form-check-input\",\n    type: \"checkbox\",\n    value: \"\",\n    id: \"flexCheckDefault_1\",\n    disabled: \"\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_15), _hoisted_16])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_createElementVNode(\"input\", {\n    checked: !$data.newReport.showedUp,\n    class: \"form-check-input\",\n    type: \"checkbox\",\n    value: \"\",\n    id: 'flexCheckDefault_2-' + this.id\n  }, null, 8\n  /* PROPS */\n  , _hoisted_18), _createElementVNode(\"label\", {\n    class: \"form-check-label ms-2\",\n    for: 'flexCheckDefault_2-' + this.id\n  }, \" Client hasn't showed up \", 8\n  /* PROPS */\n  , _hoisted_19)]))]), _createElementVNode(\"div\", _hoisted_20, [!$options.isReportPresent ? (_openBlock(), _createElementBlock(\"button\", _hoisted_21, _toDisplayString(this.closeButtonTxt), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true), !$options.isReportPresent ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    disabled: this.isSaved,\n    type: \"button\",\n    class: \"btn btn-secondary\",\n    style: {\n      \"color\": \"white\",\n      \"width\": \"40%\"\n    },\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.save && $options.save(...args))\n  }, _toDisplayString(this.saveButtonTxt), 9\n  /* TEXT, PROPS */\n  , _hoisted_22)) : _createCommentVNode(\"v-if\", true), $options.isReportPresent ? (_openBlock(), _createElementBlock(\"button\", _hoisted_23, \"Close\")) : _createCommentVNode(\"v-if\", true)])])])], 8\n  /* PROPS */\n  , _hoisted_1)) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"mappings":"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","names":["_imports_0","class","_createElementVNode","style","id","_hoisted_12","for","type","reports","_createElementBlock","_hoisted_4","_hoisted_6","$options","value","newReport","comment","disabled","rows","placeholder","maxlength","resId","content","$data","_hoisted_13","checked","showedUp","_hoisted_16","_hoisted_19","_toDisplayString","closeButtonTxt","isSaved","onClick","saveButtonTxt","_hoisted_22"],"sourceRoot":"","sources":["C:\\Users\\Sa≈°ka\\Downloads\\ISA_MRS\\isa_mrs_projekat_front\\src\\components\\FishingInstructor\\FishingInstructorPage\\components\\InstructorMainViews\\InstructorReservations\\InstructorReservationReport.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"this.reports\" class=\"modal fade\" :id=\"'report-'+this.id\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header p-0 m-0\" style=\"border-bottom: none\">\r\n        </div>\r\n        <div class=\"modal-body pt-0 mt-0\">\r\n          <div class=\"row text-center pb-0 mb-0\" style=\"border-bottom: 1px solid lightgray;\">\r\n            <h1 class=\"modal-title pb-1\" style=\"color:#e23c52; font-weight: 700;\">Report</h1>\r\n          </div>\r\n          <div class=\"row d-flex justify-content-center\">\r\n            <img src=\"../../../../../Images/warn.png\" alt=\"\" style=\"height: 50%; width:50%;\"/>\r\n          </div>\r\n          <div>\r\n            <p class=\"h5 mt-3\">Please write your complaint in great detail.</p>\r\n          </div>\r\n\r\n          <textarea v-if=\"isReportPresent\" id=\"reportExists\" :value=\"this.newReport.comment\" disabled\r\n                    rows=\"3\" placeholder=\"Leave a complaint here\" class=\"w-100 p-2 px-3\"\r\n                    style=\"background-color: #e23c52; border-radius: 20px; resize: none;\" maxlength=\"1000\"></textarea>\r\n\r\n          <textarea v-if=\"!isReportPresent\" :id=\"'insertReport'+this.resId\" :content=\"this.newReport.comment\"\r\n                    :disabled=\"isSaved\" rows=\"3\" placeholder=\"Leave a complaint here\" class=\"w-100 p-2 px-3\"\r\n                    style=\"background-color: #e23c52; border-radius: 20px; resize: none;\" maxlength=\"1000\"></textarea>\r\n\r\n          <div v-if=\"complaintMissing\" id=\"missingRentalGradeMessage\" class=\"row text-center\">\r\n            <p class=\"h6 mt-3\" style=\"color: #e23c52\"><strong>You must enter a complaint.</strong></p>\r\n          </div>\r\n\r\n\r\n          <div v-if=\"isReportPresent\" class=\"form-check h4 mt-3 d-flex justify-content-center align-items-center\">\r\n            <input :checked=\"!newReport.showedUp\" class=\"form-check-input\"\r\n                   type=\"checkbox\" value=\"\" id=\"flexCheckDefault_1\" disabled>\r\n            <label class=\"form-check-label ms-2\" for=\"flexCheckDefault_1\">\r\n              Client hasn't showed up\r\n            </label>\r\n          </div>\r\n\r\n          <div v-else class=\"form-check h4 mt-3 d-flex justify-content-center align-items-center\">\r\n            <input :checked=\"!newReport.showedUp\" class=\"form-check-input\"\r\n                   type=\"checkbox\" value=\"\" :id=\"'flexCheckDefault_2-'+this.id\">\r\n            <label class=\"form-check-label ms-2\" :for=\"'flexCheckDefault_2-'+this.id\">\r\n              Client hasn't showed up\r\n            </label>\r\n          </div>\r\n\r\n\r\n\r\n        </div>\r\n        <div class=\"modal-footer d-flex\" style=\"border-top: none; justify-content: space-evenly;\">\r\n          <button v-if=\"!isReportPresent\" type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\"\r\n                  style=\"background-color: #e23c52; color: white; width: 40%\">{{ this.closeButtonTxt }}</button>\r\n          <button :disabled=\"this.isSaved\" v-if=\"!isReportPresent\" type=\"button\" class=\"btn btn-secondary\"\r\n                  style=\"color: white; width: 40%\" @click=\"save\">{{ this.saveButtonTxt }}\r\n          </button>\r\n          <button v-if=\"isReportPresent\" type=\"button\" class=\"btn btn-secondary w-100\" data-bs-dismiss=\"modal\"\r\n                  style=\"color: white;\">Close</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport axios from \"axios\";\r\nimport store from \"@/store\";\r\n\r\nexport default {\r\n  name: \"InstructorReservationReport\",\r\n  props: [\"id\", \"resId\", \"reports\"],\r\n  components: {},\r\n  data() {\r\n    return {\r\n      complaintMissing: false,\r\n      isSaved: false,\r\n      saveButtonTxt: \"Save\",\r\n      closeButtonTxt: \"Cancel\",\r\n      newReport: {\r\n        reservationId: this.resId,\r\n        comment: null,\r\n        showedUp: true,\r\n      },\r\n    }\r\n  },\r\n  mounted() {\r\n    this.newReport.comment =  this.getReportComment;\r\n    this.newReport.showedUp = this.getShowedUp;\r\n  },\r\n  methods: {\r\n    save() {\r\n      this.newReport.comment = document.getElementById(\"insertReport\"+this.resId).value;\r\n      this.newReport.showedUp = !(document.getElementById('flexCheckDefault_2-'+this.id).checked);\r\n      if(!this.saveChecks()) this.saveReport();\r\n    },\r\n    saveChecks() {\r\n      this.complaintMissing = false;\r\n      if(!this.newReport.showedUp) {\r\n        console.log(\"usli\");\r\n        return false;\r\n      }\r\n      this.newReport.comment = document.getElementById(\"insertReport\"+this.resId).value;\r\n      if(this.newReport.comment === \"\") this.complaintMissing = true;\r\n      return this.complaintMissing;\r\n    },\r\n    saveReport() {\r\n      console.log(\"SEJVUJEMO\");\r\n      axios.post(\"/Reservations/addInstructorReport\", this.newReport, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.accessToken,\r\n        }\r\n      })\r\n          .then(() => {\r\n            this.saveButtonTxt = \"Saved!\";\r\n            this.isSaved = true;\r\n            this.closeButtonTxt = \"Close\";\r\n          })\r\n          .catch(error => {\r\n            if (error.response.status === 404) {\r\n              this.$notify({\r\n                title: \"Invalid Status\",\r\n                text: \"Something went wrong. Try again later.\",\r\n                position: \"bottom right\",\r\n                type: \"warn\"\r\n              })\r\n            } else if (error.response.status === 500) {\r\n              this.$notify({\r\n                title: \"Internal Server Error\",\r\n                text: \"Something went wrong on the server! Please try again later...\",\r\n                position: \"bottom right\",\r\n                type: \"error\"\r\n              })\r\n            }\r\n          })\r\n\r\n    },\r\n  },\r\n  computed: {\r\n    accessToken() {\r\n      return store.state.access_token;\r\n    },\r\n    getShowedUp() {\r\n      let showedUp = true;\r\n      for(let i=0; i<this.reports.length; i++)\r\n        if(this.reports[i].user === \"Instructor\") showedUp = this.reports[i].showedUp;\r\n      return showedUp;\r\n    },\r\n    isReportPresent() {\r\n      for(let i=0; i<this.reports.length; i++)\r\n        if(this.reports[i].user === \"Instructor\") return true;\r\n      return false;\r\n    },\r\n    getReportComment() {\r\n      let comment = \"\";\r\n      for(let i=0; i<this.reports.length; i++)\r\n        if(this.reports[i].user === \"Instructor\") comment = this.reports[i].comment;\r\n      return comment;\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ntextarea {\r\n  color: white;\r\n  font-style: italic;\r\n  font-weight: 500;\r\n  text-align: justify;\r\n}\r\n\r\ntextarea::placeholder {\r\n  color: white;\r\n  font-weight: 400;\r\n}\r\n\r\nbutton:disabled {\r\n  background-color: #008970;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}