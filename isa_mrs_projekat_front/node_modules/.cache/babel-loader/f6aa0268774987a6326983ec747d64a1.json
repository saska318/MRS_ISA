{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-40a386c8\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"row\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"col-8 pt-5 mb-5\"\n};\nconst _hoisted_4 = {\n  class: \"container px-4 py-3 rounded form\",\n  spellcheck: \"false\"\n};\nconst _hoisted_5 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = {\n  key: 1\n};\nconst _hoisted_8 = {\n  key: 2\n};\nconst _hoisted_9 = {\n  class: \"row main justify-content-center\"\n};\nconst _hoisted_10 = {\n  class: \"row main\"\n};\nconst _hoisted_11 = {\n  class: \"col main\"\n};\nconst _hoisted_12 = {\n  class: \"row\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-4\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_14 = {\n  class: \"col-6\"\n};\nconst _hoisted_15 = {\n  key: 0,\n  class: \"row\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"userType\"\n}, \"User type\", -1\n/* HOISTED */\n));\n\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"Client\",\n  selected: \"selected\"\n}, \"Client\", -1\n/* HOISTED */\n));\n\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"VacationRentalOwner\"\n}, \"House Owner\", -1\n/* HOISTED */\n));\n\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"BoatOwner\"\n}, \"Boat Owner\", -1\n/* HOISTED */\n));\n\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"Instructor\"\n}, \"Fishing Instructor\", -1\n/* HOISTED */\n));\n\nconst _hoisted_21 = {\n  key: 0,\n  value: \"Admin\"\n};\nconst _hoisted_22 = {\n  class: \"row\"\n};\n\nconst _hoisted_23 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\"\n}, \"Name\", -1\n/* HOISTED */\n));\n\nconst _hoisted_24 = {\n  key: 0\n};\nconst _hoisted_25 = {\n  class: \"row\"\n};\n\nconst _hoisted_26 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"surname\"\n}, \"Surname\", -1\n/* HOISTED */\n));\n\nconst _hoisted_27 = {\n  key: 0\n};\nconst _hoisted_28 = {\n  class: \"row\"\n};\n\nconst _hoisted_29 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \"Email\", -1\n/* HOISTED */\n));\n\nconst _hoisted_30 = [\"disabled\"];\nconst _hoisted_31 = {\n  key: 0\n};\nconst _hoisted_32 = {\n  key: 1\n};\nconst _hoisted_33 = {\n  key: 2\n};\nconst _hoisted_34 = {\n  key: 1,\n  class: \"row\"\n};\n\nconst _hoisted_35 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputPassword2\"\n}, \"Password\", -1\n/* HOISTED */\n));\n\nconst _hoisted_36 = {\n  key: 0\n};\nconst _hoisted_37 = {\n  key: 1\n};\n\nconst _hoisted_38 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"small\", {\n  id: \"passwordHelpBlock\",\n  class: \"form-text text-muted\"\n}, \" Your password must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji. \", -1\n/* HOISTED */\n));\n\nconst _hoisted_39 = {\n  key: 2,\n  class: \"row\"\n};\n\nconst _hoisted_40 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputPassword3\"\n}, \"Confirm Password\", -1\n/* HOISTED */\n));\n\nconst _hoisted_41 = {\n  key: 0\n};\nconst _hoisted_42 = {\n  key: 1\n};\n\nconst _hoisted_43 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_44 = {\n  class: \"col main\"\n};\nconst _hoisted_45 = {\n  class: \"row\"\n};\n\nconst _hoisted_46 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_47 = {\n  class: \"col-6\"\n};\nconst _hoisted_48 = {\n  class: \"row\"\n};\n\nconst _hoisted_49 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"country\"\n}, \"Country\", -1\n/* HOISTED */\n));\n\nconst _hoisted_50 = {\n  key: 0\n};\nconst _hoisted_51 = {\n  key: 1\n};\nconst _hoisted_52 = {\n  class: \"row\"\n};\n\nconst _hoisted_53 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"city\"\n}, \"City\", -1\n/* HOISTED */\n));\n\nconst _hoisted_54 = {\n  key: 0\n};\nconst _hoisted_55 = {\n  key: 1\n};\nconst _hoisted_56 = {\n  class: \"row\"\n};\n\nconst _hoisted_57 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"street\"\n}, \"Street\", -1\n/* HOISTED */\n));\n\nconst _hoisted_58 = {\n  key: 0\n};\nconst _hoisted_59 = {\n  key: 1\n};\nconst _hoisted_60 = {\n  class: \"row\"\n};\n\nconst _hoisted_61 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"number\"\n}, \"Number\", -1\n/* HOISTED */\n));\n\nconst _hoisted_62 = {\n  key: 0\n};\nconst _hoisted_63 = {\n  key: 1\n};\nconst _hoisted_64 = {\n  class: \"row\"\n};\n\nconst _hoisted_65 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"phone\"\n}, \"Phone\", -1\n/* HOISTED */\n));\n\nconst _hoisted_66 = {\n  key: 0\n};\nconst _hoisted_67 = {\n  key: 0,\n  class: \"row\"\n};\n\nconst _hoisted_68 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"motivationLetter\"\n}, \"Motivation Letter\", -1\n/* HOISTED */\n));\n\nconst _hoisted_69 = {\n  key: 0\n};\nconst _hoisted_70 = {\n  key: 1\n};\n\nconst _hoisted_71 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-4\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_72 = {\n  class: \"d-flex pt-3 justify-content-center\"\n};\n\nconst _hoisted_73 = /*#__PURE__*/_createTextVNode(\"Cancel\");\n\nconst _hoisted_74 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_vue_tel_input = _resolveComponent(\"vue-tel-input\");\n\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [$options.isAdmin ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_6, \"New User\")) : $data.isUpdate ? (_openBlock(), _createElementBlock(\"h3\", _hoisted_7, \"Profile Update\")) : (_openBlock(), _createElementBlock(\"h3\", _hoisted_8, \"Sign Up\")), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _createElementVNode(\"div\", _hoisted_14, [!$data.isUpdate ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_hoisted_16, _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.user.userType = $event),\n    id: \"userType\"\n  }, [_hoisted_17, _hoisted_18, _hoisted_19, _hoisted_20, $options.isAdmin ? (_openBlock(), _createElementBlock(\"option\", _hoisted_21, \"Admin\")) : _createCommentVNode(\"v-if\", true)], 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, $data.user.userType]])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_22, [_hoisted_23, _withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    type: \"text\",\n    id: \"name\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.user.name = $event),\n    placeholder: \"E.g. John\",\n    onInput: _cache[2] || (_cache[2] = $event => $data.nameIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.name]]), !$data.nameIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_24, \"'Name' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_25, [_hoisted_26, _withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    type: \"text\",\n    id: \"surname\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.user.surname = $event),\n    placeholder: \"E.g. Doe\",\n    onInput: _cache[4] || (_cache[4] = $event => $data.surnameIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.surname]]), !$data.surnameIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_27, \"'Surname' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_28, [_hoisted_29, _withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    disabled: $data.isUpdate,\n    type: \"email\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.user.email = $event),\n    placeholder: \"E.g. john@email.com\",\n    onInput: _cache[6] || (_cache[6] = (...args) => $options.emailChanged && $options.emailChanged(...args))\n  }, null, 40\n  /* PROPS, HYDRATE_EVENTS */\n  , _hoisted_30), [[_vModelText, $data.user.email]]), !$data.emailIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_31, \"'Email' is a mandatory field.\")) : !$options.emailValidation ? (_openBlock(), _createElementBlock(\"p\", _hoisted_32, \"Invalid email format.\")) : !$data.emailIsUnique ? (_openBlock(), _createElementBlock(\"p\", _hoisted_33, \"Email is already taken.\")) : _createCommentVNode(\"v-if\", true)]), !$options.isAdmin && !$data.isUpdate ? (_openBlock(), _createElementBlock(\"div\", _hoisted_34, [_hoisted_35, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"inputPassword2\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.user.password = $event),\n    class: \"form-control col-sm-auto col-lg-4\",\n    \"aria-describedby\": \"passwordHelpBlock\",\n    placeholder: \"New password\",\n    onInput: _cache[8] || (_cache[8] = $event => $data.passwordISEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.password]]), !$data.passwordISEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_36, \"'Password' is a mandatory field.\")) : !$options.passwordValidation.valid ? (_openBlock(), _createElementBlock(\"p\", _hoisted_37, _toDisplayString($options.passwordValidation.errors[0]), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true), _hoisted_38])) : _createCommentVNode(\"v-if\", true), !$options.isAdmin && !$data.isUpdate ? (_openBlock(), _createElementBlock(\"div\", _hoisted_39, [_hoisted_40, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"inputPassword3\",\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.checkPassword = $event),\n    class: \"form-control col-sm-auto col-lg-4\",\n    \"aria-describedby\": \"passwordHelpBlock\",\n    placeholder: \"Confirm password\",\n    onInput: _cache[10] || (_cache[10] = $event => $data.confirmationPasswordIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.checkPassword, void 0, {\n    lazy: true\n  }]]), !$data.confirmationPasswordIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_41, \"'Confirmation Password' is a mandatory field.\")) : $options.notSamePasswords ? (_openBlock(), _createElementBlock(\"p\", _hoisted_42, \"Passwords don't match.\")) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]), _hoisted_43])]), _createElementVNode(\"div\", _hoisted_44, [_createElementVNode(\"div\", _hoisted_45, [_hoisted_46, _createElementVNode(\"div\", _hoisted_47, [_createElementVNode(\"div\", _hoisted_48, [_hoisted_49, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.user.address.country = $event),\n    class: \"form-control\",\n    type: \"text\",\n    id: \"country\",\n    placeholder: \"Country\",\n    onInput: _cache[12] || (_cache[12] = $event => $data.countryIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.address.country]]), !$data.countryIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_50, \"'Country' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true), !$data.addressIsValid ? (_openBlock(), _createElementBlock(\"p\", _hoisted_51, \"Invalid address data.\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_52, [_hoisted_53, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.user.address.city = $event),\n    class: \"form-control\",\n    type: \"text\",\n    id: \"city\",\n    placeholder: \"City\",\n    onInput: _cache[14] || (_cache[14] = $event => $data.cityIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.address.city]]), !$data.cityIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_54, \"'City' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true), !$data.addressIsValid ? (_openBlock(), _createElementBlock(\"p\", _hoisted_55, \"Invalid address data.\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_56, [_hoisted_57, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $data.user.address.street = $event),\n    class: \"form-control\",\n    type: \"text\",\n    id: \"street\",\n    placeholder: \"Street\",\n    onInput: _cache[16] || (_cache[16] = $event => $data.streetIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.address.street]]), !$data.streetIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_58, \"'Street' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true), !$data.addressIsValid ? (_openBlock(), _createElementBlock(\"p\", _hoisted_59, \"Invalid address data.\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_60, [_hoisted_61, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[17] || (_cache[17] = $event => $data.user.address.number = $event),\n    class: \"form-control\",\n    type: \"text\",\n    id: \"number\",\n    placeholder: \"House Number\",\n    onInput: _cache[18] || (_cache[18] = $event => $data.numberIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.address.number]]), !$data.numberIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_62, \"'Number' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true), !$data.addressIsValid ? (_openBlock(), _createElementBlock(\"p\", _hoisted_63, \"Invalid address data.\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_64, [_hoisted_65, _createVNode(_component_vue_tel_input, {\n    modelValue: $data.phoneInput,\n    \"onUpdate:modelValue\": _cache[19] || (_cache[19] = $event => $data.phoneInput = $event),\n    placeholder: this.user.phone,\n    id: \"phone\",\n    mode: \"international\",\n    defaultCountry: \"RS\",\n    onlyCountries: $data.onlyCountries,\n    onInput: $options.onTelephoneInput\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\", \"placeholder\", \"onlyCountries\", \"onInput\"]), !$data.phoneIsValid ? (_openBlock(), _createElementBlock(\"p\", _hoisted_66, \"Invalid phone number.\")) : _createCommentVNode(\"v-if\", true)]), $options.isRentalObjectOwner && !$options.isAdmin && !$data.isUpdate ? (_openBlock(), _createElementBlock(\"div\", _hoisted_67, [_hoisted_68, _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[20] || (_cache[20] = $event => $data.user.reason = $event),\n    class: \"form-control\",\n    rows: \"10\",\n    maxlength: \"300\",\n    placeholder: \"Please describe why you want to join our community in 50-500 characters.\",\n    id: \"motivationLetter\",\n    onInput: _cache[21] || (_cache[21] = $event => $data.reasonIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.reason]]), !$data.reasonIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_69, \"'Motivation Letter' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true), !$data.reasonIsValid ? (_openBlock(), _createElementBlock(\"p\", _hoisted_70, \"Minimum characters is 50.\")) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]), _hoisted_71])])])]), _createElementVNode(\"div\", _hoisted_72, [$options.isAdmin ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 0,\n    to: \"/admin/users\",\n    class: \"btn btn-red mt-3 me-1\"\n  }, {\n    default: _withCtx(() => [_hoisted_73]),\n    _: 1\n    /* STABLE */\n\n  })) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn mt-3\",\n    onClick: _cache[22] || (_cache[22] = (...args) => $options.submit && $options.submit(...args))\n  }, \"Submit\")])])])]), _hoisted_74]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","spellcheck","for","value","selected","id","_createElementBlock","_hoisted_2","$options","_hoisted_6","$data","_hoisted_7","_hoisted_8","_hoisted_13","_hoisted_16","userType","$event","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_23","type","name","placeholder","onInput","_hoisted_24","_hoisted_26","surname","_hoisted_27","_hoisted_29","disabled","email","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_35","password","_hoisted_36","valid","_hoisted_37","_toDisplayString","errors","_hoisted_38","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_46","_hoisted_49","address","country","_hoisted_50","_hoisted_51","_hoisted_53","city","_hoisted_54","_hoisted_55","_hoisted_57","street","_hoisted_58","_hoisted_59","_hoisted_61","number","_hoisted_62","_hoisted_63","_hoisted_65","_createVNode","_component_vue_tel_input","user","phone","mode","defaultCountry","onlyCountries","_hoisted_66","_hoisted_68","reason","rows","maxlength","_hoisted_69","_hoisted_70","_hoisted_71","_createBlock","_component_router_link","to","onClick","_hoisted_74"],"sourceRoot":"","sources":["C:\\Users\\Saška\\Downloads\\ISA_MRS\\isa_mrs_projekat_front\\src\\components\\UnregisteredUser\\components\\RegistrationPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-2\"></div>\r\n    <div class=\"col-8 pt-5 mb-5\">\r\n      <div class=\"container px-4 py-3 rounded form\" spellcheck=\"false\" >\r\n        <div class=\"container-fluid\">\r\n          <h3 v-if=\"isAdmin\">New User</h3>\r\n          <h3 v-else-if=\"isUpdate\">Profile Update</h3>\r\n          <h3 v-else>Sign Up</h3>\r\n          <div class=\"row main justify-content-center\">\r\n            <div class=\"row main\">\r\n              <div class=\"col main\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-4\"></div>\r\n                  <div class=\"col-6\">\r\n                    <div v-if=\"!isUpdate\" class=\"row\">\r\n                      <label for=\"userType\">User type</label>\r\n                      <select class=\"form-control\" v-model=\"user.userType\" id=\"userType\">\r\n                        <option value=\"Client\" selected=\"selected\">Client</option>\r\n                        <option value=\"VacationRentalOwner\">House Owner</option>\r\n                        <option value=\"BoatOwner\">Boat Owner</option>\r\n                        <option value=\"Instructor\">Fishing Instructor</option>\r\n                        <option v-if=\"isAdmin\" value=\"Admin\">Admin</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <label for=\"name\">Name</label>\r\n                      <input class=\"form-control\" type=\"text\" id=\"name\" v-model=\"user.name\" placeholder=\"E.g. John\" @input=\"nameIsEntered=true\">\r\n                      <p v-if='!nameIsEntered'>'Name' is a mandatory field.</p>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <label for=\"surname\">Surname</label>\r\n                      <input class=\"form-control\" type=\"text\" id=\"surname\" v-model=\"user.surname\" placeholder=\"E.g. Doe\" @input=\"surnameIsEntered=true\">\r\n                      <p v-if='!surnameIsEntered'>'Surname' is a mandatory field.</p>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <label for=\"email\">Email</label>\r\n                      <input class=\"form-control\" :disabled=\"isUpdate\" type=\"email\" id=\"email\" v-model=\"user.email\" placeholder=\"E.g. john@email.com\" @input=\"emailChanged\">\r\n                      <p v-if='!emailIsEntered'>'Email' is a mandatory field.</p>\r\n                      <p v-else-if='!emailValidation'>Invalid email format.</p>\r\n                      <p v-else-if='!emailIsUnique'>Email is already taken.</p>\r\n                    </div>\r\n                    <div v-if=\"!isAdmin&&!isUpdate\" class=\"row\">\r\n                      <label for=\"inputPassword2\">Password</label>\r\n                      <input type=\"password\" id=\"inputPassword2\" v-model=\"user.password\" class=\"form-control col-sm-auto col-lg-4\" aria-describedby=\"passwordHelpBlock\" placeholder=\"New password\" @input=\"passwordISEntered=true\">\r\n                      <p v-if=\"!passwordISEntered\">'Password' is a mandatory field.</p>\r\n                      <p v-else-if='!passwordValidation.valid'>{{ passwordValidation.errors[0] }}</p>\r\n                      <small id=\"passwordHelpBlock\" class=\"form-text text-muted\">\r\n                        Your password must be 8-20 characters long, contain letters and numbers, and must not contain spaces, special characters, or emoji.\r\n                      </small>\r\n                    </div>\r\n                    <div v-if=\"!isAdmin&&!isUpdate\" class=\"row\">\r\n                      <label for=\"inputPassword3\">Confirm Password</label>\r\n                      <input type=\"password\" id=\"inputPassword3\" v-model.lazy=\"checkPassword\" class=\"form-control col-sm-auto col-lg-4\" aria-describedby=\"passwordHelpBlock\" placeholder=\"Confirm password\" @input=\"confirmationPasswordIsEntered=true\">\r\n                      <p v-if=\"!confirmationPasswordIsEntered\">'Confirmation Password' is a mandatory field.</p>\r\n                      <p  v-else-if='notSamePasswords'>Passwords don't match.</p>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-2\"></div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col main\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-2\"></div>\r\n                  <div class=\"col-6\">\r\n                    <div class=\"row\">\r\n                      <label for=\"country\">Country</label>\r\n                      <input v-model=\"user.address.country\" class=\"form-control\" type=\"text\" id=\"country\" placeholder=\"Country\" @input=\"countryIsEntered=true\">\r\n                      <p v-if='!countryIsEntered'>'Country' is a mandatory field.</p>\r\n                      <p v-if='!addressIsValid'>Invalid address data.</p>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <label for=\"city\">City</label>\r\n                      <input v-model=\"user.address.city\" class=\"form-control\" type=\"text\" id=\"city\" placeholder=\"City\" @input=\"cityIsEntered=true\">\r\n                      <p v-if='!cityIsEntered'>'City' is a mandatory field.</p>\r\n                      <p v-if='!addressIsValid'>Invalid address data.</p>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <label for=\"street\">Street</label>\r\n                      <input v-model=\"user.address.street\" class=\"form-control\" type=\"text\" id=\"street\" placeholder=\"Street\" @input=\"streetIsEntered=true\">\r\n                      <p v-if='!streetIsEntered'>'Street' is a mandatory field.</p>\r\n                      <p v-if='!addressIsValid'>Invalid address data.</p>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <label for=\"number\">Number</label>\r\n                      <input v-model=\"user.address.number\" class=\"form-control\"  type=\"text\" id=\"number\" placeholder=\"House Number\" @input=\"numberIsEntered=true\">\r\n                      <p v-if='!numberIsEntered'>'Number' is a mandatory field.</p>\r\n                      <p v-if='!addressIsValid'>Invalid address data.</p>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <label for=\"phone\">Phone</label>\r\n                      <vue-tel-input v-model=\"phoneInput\" :placeholder=\"this.user.phone\" id=\"phone\" mode=\"international\" defaultCountry=\"RS\" :onlyCountries=onlyCountries @input=\"onTelephoneInput\"></vue-tel-input>\r\n                      <p v-if='!phoneIsValid'>Invalid phone number.</p>\r\n                    </div>\r\n                    <div class=\"row\" v-if=\"isRentalObjectOwner && !isAdmin && !isUpdate\">\r\n                      <label for=\"motivationLetter\">Motivation Letter</label>\r\n                      <textarea v-model=\"user.reason\" class=\"form-control\" rows=\"10\" maxlength=\"300\" placeholder=\"Please describe why you want to join our community in 50-500 characters.\" id=\"motivationLetter\" @input=\"reasonIsEntered=true\"></textarea>\r\n                      <p v-if='!reasonIsEntered'>'Motivation Letter' is a mandatory field.</p>\r\n                      <p v-if='!reasonIsValid'>Minimum characters is 50.</p>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-4\">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex pt-3 justify-content-center\">\r\n            <router-link v-if=\"isAdmin\" to=\"/admin/users\" class=\"btn btn-red mt-3 me-1\">Cancel</router-link>\r\n            <button type=\"button\" class=\"btn mt-3\" @click=\"submit\">Submit</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-2\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { VueTelInput }  from 'vue3-tel-input';\r\nimport 'vue3-tel-input/dist/vue3-tel-input.css';\r\nimport store from \"@/store\";\r\nimport axios from \"axios\";\r\nimport {toggleProcessing} from \"@/components/state\";\r\n\r\nexport default {\r\n  name: \"RegistrationPage\",\r\n  components: {VueTelInput},\r\n  data() {\r\n    return {\r\n      rules: [\r\n        { message:'One lowercase letter required.', regex:/[a-z]+/ },\r\n        { message:\"One uppercase letter required.\",  regex:/[A-Z]+/ },\r\n        { message:\"8-20 characters required.\", regex:/.{8,20}/ },\r\n        { message:\"One number required.\", regex:/[0-9]+/ }\r\n      ],\r\n      options: null,\r\n      checkPassword:'',\r\n      onlyCountries: ['RS', 'BA', 'HR', 'ME', 'SI', 'MK'],\r\n      phoneInput: null,\r\n      user: {\r\n        userType: \"Client\",\r\n        name: null,\r\n        surname: null,\r\n        phone: null,\r\n        email: null,\r\n        password: '',\r\n        reason: null,\r\n        address: {\r\n          street: null,\r\n          number: null,\r\n          city: null,\r\n          country: null,\r\n          latitude: null,\r\n          longitude: null\r\n        }\r\n      },\r\n      nameIsEntered: true,\r\n      surnameIsEntered: true,\r\n      emailIsEntered: true,\r\n      countryIsEntered: true,\r\n      cityIsEntered: true,\r\n      streetIsEntered: true,\r\n      numberIsEntered: true,\r\n      phoneIsEntered: true,\r\n      passwordISEntered: true,\r\n      confirmationPasswordIsEntered: true,\r\n      reasonIsEntered: true,\r\n      addressIsValid: true,\r\n      phoneIsValid: true,\r\n      reasonIsValid: true,\r\n      emailIsUnique: true,\r\n      isUpdate: false,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.isUpdate = this.$route.params.id !== undefined;\r\n    if (this.isUpdate) {\r\n      axios.get(\"/Users/getUser\", {\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token\r\n        }\r\n      })\r\n      .then((response) => {\r\n        this.user = response.data;\r\n        this.phoneInput = this.user.phone;\r\n      })\r\n      .catch(() => {\r\n\r\n      });\r\n    }\r\n  },\r\n  computed: {\r\n    accessToken() {\r\n      return store.state.access_token;\r\n    },\r\n    isAdmin() {\r\n      return store.state.isSuperAdmin;\r\n    },\r\n    isRentalObjectOwner() {\r\n      return (this.user.userType !== \"Client\" && this.user.userType !== \"Admin\" && this.user.userType !== \"SuperAdmin\");\r\n    },\r\n    isNameEntered() {\r\n      return Boolean(this.user.name);\r\n    },\r\n    isSurnameEntered() {\r\n      return Boolean(this.user.surname);\r\n    },\r\n    isEmailEntered() {\r\n      return Boolean(this.user.email);\r\n    },\r\n    isCountryEntered() {\r\n      return Boolean(this.user.address.country);\r\n    },\r\n    isCityEntered() {\r\n      return Boolean(this.user.address.city);\r\n    },\r\n    isStreetEntered() {\r\n      return Boolean(this.user.address.street);\r\n    },\r\n    isNumberEntered() {\r\n      return Boolean(this.user.address.number);\r\n    },\r\n    isPasswordEntered() {\r\n      return Boolean(this.user.password);\r\n    },\r\n    isConfirmationPasswordEntered() {\r\n      return Boolean(this.checkPassword);\r\n    },\r\n    isReasonEntered() {\r\n      return Boolean(this.user.reason);\r\n    },\r\n    notSamePasswords () {\r\n      if (this.isPasswordEntered && this.isConfirmationPasswordEntered) {\r\n        return (this.user.password !== this.checkPassword)\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    passwordValidation () {\r\n      let errors = []\r\n      if (this.user.password !== ''){\r\n        for (let condition of this.rules) {\r\n          if (!condition.regex.test(this.user.password)) {\r\n            errors.push(condition.message)\r\n          }\r\n        }\r\n        if (errors.length === 0) {\r\n          return { valid:true, errors }\r\n        } else {\r\n          return { valid:false, errors }\r\n        }\r\n      }\r\n      else {\r\n        return { valid:true, errors }\r\n      }\r\n    },\r\n    emailValidation() {\r\n      if (this.isEmailEntered) {\r\n        let emailRule = {regex:/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}/};\r\n        return emailRule.regex.test(this.user.email);\r\n      }\r\n      return true;\r\n    }\r\n  },\r\n  methods: {\r\n    update() {\r\n      toggleProcessing();\r\n      if (this.isDataEntered()) {\r\n        if (!this.isPhoneValid()){\r\n          this.phoneIsValid = false;\r\n          return false;\r\n        } else {\r\n          const apiKey = 'VrDrl5BjEA0Whvb-chHbFz96HV4qlCXB-yoiTRRLKno';\r\n          const url = 'https://geocoder.ls.hereapi.com/6.2/geocode.json' +\r\n              '?apiKey=' + apiKey +\r\n              '&housenumber=' + this.user.address.number +\r\n              '&street=' + this.user.address.street +\r\n              '&city=' + this.user.address.city +\r\n              '&country=' + this.user.address.country;\r\n          fetch(url)\r\n              .then(response => response.json())\r\n              .then(data => {\r\n                const responseView = data.Response.View;\r\n                if (responseView.length === 0) {\r\n                  this.addressIsValid = false;\r\n                }\r\n                else {\r\n                  const location = responseView[0].Result[0].Location.DisplayPosition;\r\n                  const address = responseView[0].Result[0].Location.Address;\r\n                  this.user.address.city = this.transliterate(address.City);\r\n                  this.user.address.country = this.transliterate(address.AdditionalData[0].value);\r\n                  this.user.address.street = this.transliterate(address.Street);\r\n                  this.user.address.longitude = location.Longitude;\r\n                  this.user.address.latitude = location.Latitude;\r\n                  this.addressIsValid = true;\r\n                  axios.put(\"/Users/updateUser\", this.user, {\r\n                    headers: {\r\n                      Authorization: \"Bearer \" + this.accessToken,\r\n                    }\r\n                  })\r\n                  .then(() => {\r\n                    this.$notify({\r\n                      title: \"Successful update\",\r\n                      text: \"You have successfully updated your profile.\",\r\n                      position: \"bottom right\",\r\n                      type: \"success\"\r\n                    });\r\n                    toggleProcessing();\r\n                  })\r\n                  .catch(error => {\r\n                    if (!error.response) {\r\n                      this.$notify({\r\n                        title: \"Server error\",\r\n                        text: \"Server is currently off. Please try again later...\",\r\n                        type: \"error\"\r\n                      });\r\n                      toggleProcessing();\r\n                    } else if (error.response.status === 500) {\r\n                      this.$notify({\r\n                        title: \"Internal Server Error\",\r\n                        text: \"Something went wrong on the server! Please try again later...\",\r\n                        position: \"bottom right\",\r\n                        type: \"error\"\r\n                      });\r\n                      toggleProcessing();\r\n                    }\r\n                  })\r\n                }\r\n              })\r\n              .catch(() => {\r\n                this.addressIsValid = false;\r\n              });\r\n        }\r\n      }\r\n    },\r\n    emailChanged() {\r\n      this.emailIsEntered = true;\r\n      this.emailIsUnique = true;\r\n    },\r\n    submit() {\r\n      if (this.isUpdate) {\r\n        this.update();\r\n      }\r\n      else {\r\n        if (this.passwordValidation.valid && !this.notSamePasswords) {\r\n          if (this.isDataEntered()) {\r\n            this.isDataCorrect();\r\n          }\r\n        }\r\n      }\r\n    },\r\n    makeRequest() {\r\n      if (this.isAdmin) {\r\n        axios.post(\"/Users/addUser\", this.user, {\r\n          headers: {\r\n            Authorization: \"Bearer \" + this.accessToken,\r\n          }\r\n        })\r\n        .then(() => {\r\n          this.$notify( {\r\n            title: \"Successful adding\",\r\n            text: \"You have successfully added a new user. Verification email has been sent to \" + this.user.email + \".\",\r\n            position: \"bottom right\",\r\n            type: \"success\"\r\n          });\r\n          toggleProcessing();\r\n          this.$router.push(\"/admin/users\");\r\n        })\r\n        .catch(error => {\r\n          if (!error.response) {\r\n            this.$notify({\r\n              title: \"Server error\",\r\n              text: \"Server is currently off. Please try again later...\",\r\n              type: \"error\"\r\n            });\r\n            toggleProcessing();\r\n          } else if (error.response.status === 422) {\r\n            toggleProcessing();\r\n            this.emailIsUnique = false;\r\n          } else if (error.response.status === 500) {\r\n            this.$notify({\r\n              title: \"Internal Server Error\",\r\n              text: \"Something went wrong on the server! Please try again later...\",\r\n              position: \"bottom right\",\r\n              type: \"error\"\r\n            });\r\n            toggleProcessing();\r\n          }\r\n        })\r\n      }\r\n      else if (this.accessToken !== null) {\r\n        this.isUpdate = true;\r\n      }\r\n      else {\r\n        axios.post(\"/Requests/signUp\", this.user, {\r\n          headers: {\r\n            Authorization: \"Bearer \" + this.accessToken,\r\n          }\r\n        })\r\n        .then(() => {\r\n          let message = \"Successful Sign Up\";\r\n          if(this.user.userType === \"Client\") message += \"Verification email has been sent to \" + this.user.email + \". Please go and check your mail.\";\r\n          else message += \"Your request is pending. Keep checking your email for a response.\"\r\n          this.$notify( {\r\n            title: \"Sign up\",\r\n            text: message,\r\n            position: \"bottom right\",\r\n            type: \"success\"\r\n          });\r\n          toggleProcessing();\r\n          this.$router.push(\"/\");\r\n        })\r\n        .catch(error => {\r\n          if (!error.response) {\r\n            this.$notify({\r\n              title: \"Server error\",\r\n              text: \"Server is currently off. Please try again later...\",\r\n              type: \"error\"\r\n            });\r\n            toggleProcessing();\r\n          } else if (error.response.status === 422) {\r\n            toggleProcessing();\r\n            this.emailIsUnique = false;\r\n          } else if (error.response.status === 400) {\r\n            this.$notify({\r\n              title: \"Invalid Request Status\",\r\n              text: \"Bad registration request.\",\r\n              position: \"bottom right\",\r\n              type: \"warn\"\r\n            });\r\n            toggleProcessing();\r\n          } else if (error.response.status === 500) {\r\n            this.$notify({\r\n              title: \"Internal Server Error\",\r\n              text: \"Something went wrong on the server! Please try again later...\",\r\n              position: \"bottom right\",\r\n              type: \"error\"\r\n            });\r\n            toggleProcessing();\r\n          }\r\n        })\r\n      }\r\n\r\n    },\r\n    isDataEntered() {\r\n      if (!this.isNameEntered) {\r\n        this.nameIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isSurnameEntered) {\r\n        this.surnameIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isEmailEntered) {\r\n        this.emailIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isPasswordEntered && !this.isAdmin && !this.isUpdate) {\r\n        this.passwordISEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isConfirmationPasswordEntered  && !this.isAdmin && !this.isUpdate) {\r\n        this.confirmationPasswordIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isCountryEntered) {\r\n        this.countryIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isCityEntered) {\r\n        this.cityIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isStreetEntered) {\r\n        this.streetIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isNumberEntered) {\r\n        this.numberIsEntered = false;\r\n        return false;\r\n      }\r\n      if (this.isRentalObjectOwner && !this.isReasonEntered && !this.isAdmin && !this.isUpdate) {\r\n        this.reasonIsEntered = false;\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    async isDataCorrect() {\r\n      if (!this.isPhoneValid()){\r\n        this.phoneIsValid = false;\r\n        return false;\r\n      }\r\n      else if (this.isRentalObjectOwner && this.isReasonValid() && !this.isAdmin && !this.isUpdate) {\r\n        this.reasonIsValid = false;\r\n        return false;\r\n      } else {\r\n        this.validateAddress();\r\n      }\r\n    },\r\n    onTelephoneInput(phone, phoneObject) {\r\n      this.phoneIsEntered = true;\r\n      if (phoneObject?.valid) {\r\n        this.phoneIsValid = true;\r\n        this.user.phone = phoneObject.number;\r\n      } else if (phoneObject) {\r\n        this.user.phone = null;\r\n      }\r\n    },\r\n    isReasonValid() {\r\n      return this.user.reason.length >= 50;\r\n    },\r\n    isPhoneValid() {\r\n      return Boolean(this.user.phone);\r\n    },\r\n    validateAddress() {\r\n      toggleProcessing();\r\n      const apiKey = 'VrDrl5BjEA0Whvb-chHbFz96HV4qlCXB-yoiTRRLKno';\r\n      const url = 'https://geocoder.ls.hereapi.com/6.2/geocode.json' +\r\n          '?apiKey=' + apiKey +\r\n          '&housenumber=' + this.user.address.number +\r\n          '&street=' + this.user.address.street +\r\n          '&city=' + this.user.address.city +\r\n          '&country=' + this.user.address.country;\r\n      fetch(url)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            const responseView = data.Response.View;\r\n            if (responseView.length === 0) {\r\n              this.addressIsValid = false;\r\n            }\r\n            else {\r\n              const location = responseView[0].Result[0].Location.DisplayPosition;\r\n              const address = responseView[0].Result[0].Location.Address;\r\n              this.user.address.city = this.transliterate(address.City);\r\n              this.user.address.country = this.transliterate(address.AdditionalData[0].value);\r\n              this.user.address.street = this.transliterate(address.Street);\r\n              this.user.address.longitude = location.Longitude;\r\n              this.user.address.latitude = location.Latitude;\r\n              this.addressIsValid = true;\r\n              this.makeRequest();\r\n            }\r\n          })\r\n          .catch(() => {\r\n            this.addressIsValid = false;\r\n          });\r\n    },\r\n    transliterate(word) {\r\n      let letters = {\"Б\":\"B\", \"В\":\"V\", \"Г\":\"G\", \"Д\":\"D\", \"Ђ\":\"Đ\", \"Ж\":\"Ž\", \"З\":\"Z\", \"И\":\"I\", \"К\":\"K\", \"Л\":\"L\", \"Љ\":\"Lj\", \"М\":\"M\", \"Н\":\"N\", \"Њ\":\"Nj\", \"П\":\"P\",\r\n        \"Р\":\"R\", \"С\":\"S\", \"Ћ\":\"Ć\", \"У\":\"U\", \"Ф\":\"F\", \"Х\":\"H\", \"Ц\":\"C\", \"Ч\":\"Č\", \"Џ\":\"Dž\", \"Ш\":\"Š\", \"б\":\"b\", \"в\":\"v\", \"г\":\"g\", \"д\":\"d\", \"ђ\":\"đ\", \"ж\":\"ž\", \"з\":\"z\", \"и\":\"i\", \"к\":\"k\", \"л\":\"l\", \"љ\":\"lj\", \"м\":\"m\", \"н\":\"n\", \"њ\":\"nj\", \"п\":\"p\",\r\n        \"р\":\"r\", \"с\":\"s\", \"т\":\"t\", \"ћ\":\"ć\", \"у\":\"u\", \"ф\":\"f\", \"х\":\"h\", \"ц\":\"c\", \"ч\":\"č\", \"џ\":\"dž\", \"ш\":\"š\"};\r\n      return word.split('').map(function (char) {\r\n        return letters[char] || char;\r\n      }).join(\"\");\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  textarea {\r\n    resize: none;\r\n    width: 100%;\r\n    text-align: justify;\r\n  }\r\n\r\n  input[type='text'], input[type='email'] {\r\n    width: 100%;\r\n  }\r\n\r\n  input::placeholder {\r\n    color: grey;\r\n  }\r\n\r\n  h3 {\r\n    text-align: center;\r\n  }\r\n\r\n  p {\r\n    color: #e23c52;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}