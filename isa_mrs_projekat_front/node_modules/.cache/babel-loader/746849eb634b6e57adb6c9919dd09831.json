{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-35f21460\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = [\"id\"];\nconst _hoisted_2 = {\n  class: \"modal-dialog modal-dialog-centered modal-dialog-scrollable\"\n};\nconst _hoisted_3 = {\n  class: \"modal-content\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"modal-header p-0 m-0\",\n  style: {\n    \"border-bottom\": \"none\"\n  }\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = {\n  class: \"modal-body pt-0 mt-0\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"row text-center pb-0 mb-0\",\n  style: {\n    \"border-bottom\": \"1px solid lightgray\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"modal-title pb-1\",\n  style: {\n    \"color\": \"#ffd055\",\n    \"font-weight\": \"700\"\n  }\n}, \"Reviews\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"h5 mt-3\"\n}, \"What did you think about the owner/instructor?\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_8 = {\n  class: \"row my-0 py-0 my-3\"\n};\nconst _hoisted_9 = {\n  class: \"col-12 d-flex justify-content-center align-items-center\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  id: \"missingOwnerGradeMessage\",\n  class: \"row text-center\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"h6 mt-3\",\n  style: {\n    \"color\": \"#e23c52\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"You must select a grade.\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_12 = [_hoisted_11];\nconst _hoisted_13 = [\"hidden\", \"value\"];\nconst _hoisted_14 = [\"id\", \"content\", \"disabled\"];\n\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"h5 mt-3\"\n}, \"What was your experience like?\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_16 = {\n  class: \"row my-0 py-0 my-3\"\n};\nconst _hoisted_17 = {\n  class: \"col-12 d-flex justify-content-center align-items-center\"\n};\nconst _hoisted_18 = {\n  key: 0,\n  id: \"missingRentalGradeMessage\",\n  class: \"row text-center\"\n};\n\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"h6 mt-3\",\n  style: {\n    \"color\": \"#e23c52\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"You must select a grade.\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_20 = [_hoisted_19];\nconst _hoisted_21 = [\"hidden\", \"value\"];\nconst _hoisted_22 = [\"id\", \"content\", \"disabled\"];\nconst _hoisted_23 = {\n  class: \"modal-footer d-flex\",\n  style: {\n    \"border-top\": \"none\",\n    \"justify-content\": \"space-evenly\"\n  }\n};\nconst _hoisted_24 = {\n  key: 0,\n  type: \"button\",\n  class: \"btn btn-secondary\",\n  \"data-bs-dismiss\": \"modal\",\n  style: {\n    \"background-color\": \"#e23c52\",\n    \"color\": \"white\",\n    \"width\": \"40%\"\n  }\n};\nconst _hoisted_25 = [\"disabled\"];\nconst _hoisted_26 = {\n  key: 2,\n  type: \"button\",\n  class: \"btn btn-secondary w-100\",\n  \"data-bs-dismiss\": \"modal\",\n  style: {\n    \"color\": \"white\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_star_rating = _resolveComponent(\"star-rating\");\n\n  return this.reviews ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"modal fade\",\n    id: 'review-' + this.id,\n    \"aria-labelledby\": \"exampleModalLabel\",\n    \"aria-hidden\": \"true\"\n  }, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_star_rating, {\n    \"text-class\": \"h1 my-0 font-weight-normal\",\n    \"round-start-rating\": false,\n    glow: 5,\n    \"glow-color\": \"#ffd055\",\n    \"star-size\": 50,\n    \"read-only\": $options.isReviewPresent || $data.isSaved,\n    rating: $options.getOwnerGrade,\n    \"onUpdate:rating\": _cache[0] || (_cache[0] = $event => this.newReviews.ownerReview.grade = $event)\n  }, null, 8\n  /* PROPS */\n  , [\"read-only\", \"rating\"])]), $data.ownerGradeMissing ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _hoisted_12)) : _createCommentVNode(\"v-if\", true)]), $options.isReviewPresent ? (_openBlock(), _createElementBlock(\"textarea\", {\n    key: 0,\n    id: \"ownerCommentExists\",\n    hidden: !$options.ownerCommentExists,\n    value: this.newReviews.ownerReview.comment,\n    disabled: \"\",\n    rows: \"3\",\n    class: \"w-100 p-2 px-3\",\n    style: {\n      \"background-color\": \"#ffd055\",\n      \"border-radius\": \"20px\",\n      \"resize\": \"none\"\n    },\n    maxlength: \"1000\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_13)) : _createCommentVNode(\"v-if\", true), !$options.isReviewPresent ? (_openBlock(), _createElementBlock(\"textarea\", {\n    key: 1,\n    id: 'insertOwnerComment' + this.resId,\n    content: this.newReviews.ownerReview.comment,\n    disabled: $data.isSaved,\n    rows: \"3\",\n    placeholder: \"Leave a review here\",\n    class: \"w-100 p-2 px-3\",\n    style: {\n      \"background-color\": \"#ffd055\",\n      \"border-radius\": \"20px\",\n      \"resize\": \"none\"\n    },\n    maxlength: \"1000\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_14)) : _createCommentVNode(\"v-if\", true), _hoisted_15, _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createVNode(_component_star_rating, {\n    \"text-class\": \"h1 my-0 font-weight-normal\",\n    \"round-start-rating\": false,\n    glow: 5,\n    \"glow-color\": \"#ffd055\",\n    \"star-size\": 50,\n    \"read-only\": $options.isReviewPresent || $data.isSaved,\n    rating: $options.getRentalGrade,\n    \"onUpdate:rating\": _cache[1] || (_cache[1] = $event => this.newReviews.rentalReview.grade = $event)\n  }, null, 8\n  /* PROPS */\n  , [\"read-only\", \"rating\"])]), $data.rentalGradeMissing ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, _hoisted_20)) : _createCommentVNode(\"v-if\", true)]), $options.isReviewPresent ? (_openBlock(), _createElementBlock(\"textarea\", {\n    key: 2,\n    id: \"rentalCommentExists\",\n    hidden: !$options.rentalCommentExists,\n    value: this.newReviews.rentalReview.comment,\n    disabled: \"\",\n    rows: \"3\",\n    class: \"w-100 p-2 px-3\",\n    style: {\n      \"background-color\": \"#ffd055\",\n      \"border-radius\": \"20px\",\n      \"resize\": \"none\"\n    },\n    maxlength: \"1000\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_21)) : _createCommentVNode(\"v-if\", true), !$options.isReviewPresent ? (_openBlock(), _createElementBlock(\"textarea\", {\n    key: 3,\n    id: 'insertRentalComment' + this.resId,\n    content: this.newReviews.rentalReview.comment,\n    disabled: $data.isSaved,\n    rows: \"3\",\n    placeholder: \"Leave a review here\",\n    class: \"w-100 p-2 px-3\",\n    style: {\n      \"background-color\": \"#ffd055\",\n      \"border-radius\": \"20px\",\n      \"resize\": \"none\"\n    },\n    maxlength: \"1000\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_22)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_23, [!$options.isReviewPresent ? (_openBlock(), _createElementBlock(\"button\", _hoisted_24, _toDisplayString(this.closeButtonTxt), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true), !$options.isReviewPresent ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    disabled: this.isSaved,\n    type: \"button\",\n    class: \"btn btn-secondary\",\n    style: {\n      \"color\": \"white\",\n      \"width\": \"40%\"\n    },\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.save && $options.save(...args))\n  }, _toDisplayString(this.saveButtonTxt), 9\n  /* TEXT, PROPS */\n  , _hoisted_25)) : _createCommentVNode(\"v-if\", true), $options.isReviewPresent ? (_openBlock(), _createElementBlock(\"button\", _hoisted_26, \"Close\")) : _createCommentVNode(\"v-if\", true)])])])], 8\n  /* PROPS */\n  , _hoisted_1)) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","style","id","_hoisted_11","_hoisted_19","type","reviews","_createElementBlock","_hoisted_4","_hoisted_6","_hoisted_7","_createVNode","_component_star_rating","glow","$options","$data","rating","newReviews","ownerReview","grade","$event","_hoisted_12","hidden","value","comment","disabled","rows","maxlength","resId","content","placeholder","_hoisted_15","rentalReview","_hoisted_20","_toDisplayString","closeButtonTxt","isSaved","onClick","saveButtonTxt","_hoisted_25"],"sourceRoot":"","sources":["C:\\Users\\Saška\\Downloads\\MRS_ISA\\isa_mrs_projekat_front\\src\\components\\Client\\ClientPage\\components\\ClientProfile\\ClientReservations\\ReservationReview.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"this.reviews\" class=\"modal fade\" :id=\"'review-'+this.id\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header p-0 m-0\" style=\"border-bottom: none\">\r\n        </div>\r\n        <div class=\"modal-body pt-0 mt-0\">\r\n          <div class=\"row text-center pb-0 mb-0\" style=\"border-bottom: 1px solid lightgray;\">\r\n            <h1 class=\"modal-title pb-1\" style=\"color:#ffd055; font-weight: 700;\">Reviews</h1>\r\n          </div>\r\n          <div>\r\n            <p class=\"h5 mt-3\">What did you think about the owner/instructor?</p>\r\n          </div>\r\n          <div class=\"row my-0 py-0 my-3\" >\r\n            <div class=\"col-12 d-flex justify-content-center align-items-center\">\r\n              <star-rating text-class=\"h1 my-0 font-weight-normal\" :round-start-rating=\"false\"\r\n                           :glow=\"5\" glow-color=\"#ffd055\" :star-size=\"50\"\r\n                           :read-only=\"isReviewPresent || isSaved\"\r\n                           :rating=\"getOwnerGrade\"\r\n                           v-model:rating=\"this.newReviews.ownerReview.grade\"></star-rating>\r\n            </div>\r\n            <div v-if=\"ownerGradeMissing\" id=\"missingOwnerGradeMessage\" class=\"row text-center\">\r\n              <p class=\"h6 mt-3\" style=\"color: #e23c52\"><strong>You must select a grade.</strong></p>\r\n            </div>\r\n          </div>\r\n          <textarea id=\"ownerCommentExists\" v-if=\"isReviewPresent\" :hidden=\"!ownerCommentExists\"\r\n                    :value=\"this.newReviews.ownerReview.comment\" disabled\r\n                    rows=\"3\" class=\"w-100 p-2 px-3\"\r\n                    style=\"background-color:#ffd055; border-radius: 20px; resize: none;\" maxlength=\"1000\" ></textarea>\r\n          <textarea :id=\"'insertOwnerComment'+this.resId\" v-if=\"!isReviewPresent\"\r\n                    :content=\"this.newReviews.ownerReview.comment\" :disabled=\"isSaved\"\r\n                    rows=\"3\" placeholder=\"Leave a review here\" class=\"w-100 p-2 px-3\"\r\n                    style=\"background-color:#ffd055; border-radius: 20px; resize: none;\" maxlength=\"1000\" ></textarea>\r\n          <div>\r\n            <p class=\"h5 mt-3\">What was your experience like?</p>\r\n          </div>\r\n          <div class=\"row my-0 py-0  my-3\">\r\n            <div class=\"col-12 d-flex justify-content-center align-items-center\">\r\n              <star-rating text-class=\"h1 my-0 font-weight-normal\" :round-start-rating=\"false\"\r\n                           :glow=\"5\" glow-color=\"#ffd055\" :star-size=\"50\"\r\n                           :read-only=\"isReviewPresent || isSaved\"\r\n                           :rating=\"getRentalGrade\"\r\n                           v-model:rating=\"this.newReviews.rentalReview.grade\"></star-rating>\r\n            </div>\r\n            <div v-if=\"rentalGradeMissing\" id=\"missingRentalGradeMessage\" class=\"row text-center\">\r\n              <p class=\"h6 mt-3\" style=\"color: #e23c52\"><strong>You must select a grade.</strong></p>\r\n            </div>\r\n          </div>\r\n          <textarea id=\"rentalCommentExists\" v-if=\"isReviewPresent\" :hidden=\"!rentalCommentExists\"\r\n                    :value=\"this.newReviews.rentalReview.comment\" disabled\r\n                    rows=\"3\" class=\"w-100 p-2 px-3\"\r\n                    style=\"background-color:#ffd055; border-radius: 20px; resize: none;\" maxlength=\"1000\" ></textarea>\r\n\r\n          <textarea :id=\"'insertRentalComment'+this.resId\" v-if=\"!isReviewPresent\"\r\n                    :content=\"this.newReviews.rentalReview.comment\" :disabled=\"isSaved\"\r\n                    rows=\"3\" placeholder=\"Leave a review here\" class=\"w-100 p-2 px-3\"\r\n                    style=\"background-color:#ffd055; border-radius: 20px; resize: none;\" maxlength=\"1000\" ></textarea>\r\n\r\n        </div>\r\n        <div class=\"modal-footer d-flex\" style=\"border-top: none; justify-content: space-evenly\">\r\n          <button v-if=\"!isReviewPresent\" type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\"\r\n                  style=\"background-color: #e23c52; color: white; width: 40%\">{{ this.closeButtonTxt }}</button>\r\n          <button :disabled=\"this.isSaved\" v-if=\"!isReviewPresent\" type=\"button\" class=\"btn btn-secondary\"\r\n                  style=\"color: white; width: 40%\" @click=\"save\">{{ this.saveButtonTxt }}\r\n          </button>\r\n          <button v-if=\"isReviewPresent\" type=\"button\" class=\"btn btn-secondary w-100\" data-bs-dismiss=\"modal\"\r\n                  style=\"color: white;\">Close</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StarRating from \"vue-star-rating\";\r\n\r\nimport store from \"@/store\";\r\nimport axios from \"axios/index\";\r\n\r\nexport default {\r\n  name: \"ReservationReview\",\r\n  props: [\"id\", \"reviews\", \"resId\"],\r\n  components: {StarRating},\r\n  data() {\r\n    return {\r\n      isSaved: false,\r\n      saveButtonTxt: \"Save\",\r\n      closeButtonTxt: \"Cancel\",\r\n      ownerGradeMissing: false,\r\n      rentalGradeMissing: false,\r\n      // newPlaceholder: \"No comment.\",\r\n      newReviews: {\r\n        reservationId: this.resId,\r\n        ownerReview: {\r\n          grade: null,\r\n          comment: null,\r\n        },\r\n        rentalReview: {\r\n          grade: null,\r\n          comment: null,\r\n        },\r\n      },\r\n    }\r\n  },\r\n  mounted() {\r\n    this.newReviews.ownerReview.comment = this.getOwnerComment;\r\n    this.newReviews.rentalReview.comment = this.getRentalComment;\r\n  },\r\n  methods: {\r\n    save() {\r\n      this.newReviews.ownerReview.comment = document.getElementById(\"insertOwnerComment\"+this.resId).value;\r\n      this.newReviews.rentalReview.comment = document.getElementById(\"insertRentalComment\"+this.resId).value;\r\n      if(!this.saveChecks()) this.saveReviews();\r\n    },\r\n    saveChecks() {\r\n      this.ownerGradeMissing = false;\r\n      this.rentalGradeMissing = false;\r\n      if(this.newReviews.ownerReview.grade === null) this.ownerGradeMissing = true;\r\n      if(this.newReviews.rentalReview.grade === null) this.rentalGradeMissing = true;\r\n      return this.ownerGradeMissing || this.rentalGradeMissing;\r\n    },\r\n    saveReviews() {\r\n      axios.post(\"/Reservations/addReview\", this.newReviews, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.accessToken,\r\n        }\r\n      })\r\n      .then(() => {\r\n        this.saveButtonTxt = \"Saved!\";\r\n        this.isSaved = true;\r\n        this.closeButtonTxt = \"Close\";\r\n      })\r\n      .catch(error => {\r\n        if (error.response.status === 404) {\r\n          this.$notify({\r\n            title: \"Invalid Status\",\r\n            text: \"Something went wrong. Try again later.\",\r\n            position: \"bottom right\",\r\n            type: \"warn\"\r\n          })\r\n        } else if (error.response.status === 500) {\r\n          this.$notify({\r\n            title: \"Internal Server Error\",\r\n            text: \"Something went wrong on the server! Please try again later...\",\r\n            position: \"bottom right\",\r\n            type: \"error\"\r\n          })\r\n        }\r\n      })\r\n    },\r\n  },\r\n  computed: {\r\n    accessToken() {\r\n      return store.state.access_token;\r\n    },\r\n    isReviewPresent() {\r\n      for(let i=0; i<this.reviews.length; i++)\r\n        if(this.reviews[i].reviewType === \"OwnerReview\" || this.reviews[i].reviewType === \"RentalReview\") return true;\r\n      return false;\r\n    },\r\n    getOwnerGrade() {\r\n      let grade = 0;\r\n      for(let i=0; i<this.reviews.length; i++)\r\n        if(this.reviews[i].reviewType === \"OwnerReview\") grade = this.reviews[i].grade;\r\n      return grade;\r\n    },\r\n    getRentalGrade() {\r\n      let grade = 0;\r\n      for(let i=0; i<this.reviews.length; i++)\r\n        if(this.reviews[i].reviewType === \"RentalReview\") grade = this.reviews[i].grade;\r\n      return grade;\r\n    },\r\n    getOwnerComment() {\r\n      let comment = \"\";\r\n      for(let i=0; i<this.reviews.length; i++)\r\n        if(this.reviews[i].reviewType === \"OwnerReview\") comment = this.reviews[i].comment;\r\n      return comment;\r\n    },\r\n    getRentalComment() {\r\n      let comment = \"\";\r\n      for(let i=0; i<this.reviews.length; i++)\r\n        if(this.reviews[i].reviewType === \"RentalReview\") comment = this.reviews[i].comment;\r\n      return comment;\r\n    },\r\n    ownerCommentExists() {\r\n      return !(this.getOwnerComment === \"\");\r\n    },\r\n    rentalCommentExists() {\r\n      return !(this.getRentalComment === \"\");\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ntextarea {\r\n  color: white;\r\n  font-style: italic;\r\n  font-weight: 500;\r\n  text-align: justify;\r\n}\r\n\r\ntextarea::placeholder {\r\n  color: white;\r\n  font-weight: 400;\r\n}\r\n\r\nbutton:disabled {\r\n  background-color: #008970;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}