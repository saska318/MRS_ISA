{"ast":null,"code":"import { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faPlus, faMinus, faX, faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport axios from \"axios\";\nimport { toggleLoading, toggleProcessing } from \"@/components/state\";\nimport store from \"@/store\";\nimport { DatePicker } from \"v-calendar\";\nlibrary.add(faPlus, faMinus, faX, faPlusCircle);\nexport default {\n  name: \"AdventureCreationPage\",\n  components: {\n    FontAwesomeIcon,\n    DatePicker\n  },\n\n  data() {\n    return {\n      boat: {\n        id: null,\n        name: null,\n        description: null,\n        type: null,\n        length: null,\n        enginePower: null,\n        engineNumber: null,\n        maxSpeed: null,\n        capacity: null,\n        price: null,\n        additionalServices: [],\n        conductRules: [],\n        cancellationFee: null,\n        address: {\n          country: null,\n          city: null,\n          street: null,\n          number: null,\n          longitude: null,\n          latitude: null\n        },\n        fishingEquipment: [],\n        navigationEquipment: [],\n        initDate: null,\n        termDate: null\n      },\n      photo: null,\n      range: {\n        start: null,\n        end: null\n      },\n      primaryPhotos: [],\n      date: null,\n      photos: [],\n      imageUrls: [],\n      fishingEquipmentPiece: {\n        name: \"\"\n      },\n      navigationEquipmentPiece: {\n        name: \"\"\n      },\n      additionalService: \"\",\n      additionalServicePrice: null,\n      ruleType: \"Do\",\n      ruleText: \"\",\n      ruleIsValid: true,\n      ruleAlreadyExists: false,\n      serviceAlreadyExists: false,\n      fishingEquipmentAlreadyExists: false,\n      navigationEquipmentAlreadyExists: false,\n      nameIsEntered: true,\n      descriptionIsEntered: true,\n      typeIsEntered: true,\n      lengthIsEntered: true,\n      engineNumberIsEntered: true,\n      enginePowerIsEntered: true,\n      maxSpeedIsEntered: true,\n      countryIsEntered: true,\n      cityIsEntered: true,\n      streetIsEntered: true,\n      numberIsEntered: true,\n      priceIsEntered: true,\n      capacityIsEntered: true,\n      cancellationFeeIsEntered: true,\n      photoIsEntered: true,\n      addressIsValid: true\n    };\n  },\n\n  mounted() {\n    toggleLoading();\n\n    if (this.$route.params.id !== undefined) {\n      axios.get(\"/RentalObjects/getBoatOwner\", {\n        headers: {\n          Authorization: \"Bearer \" + store.getters.access_token\n        },\n        params: {\n          id: this.$route.params.id\n        }\n      }).then(response => {\n        let boat = response.data;\n        this.boat.name = boat.name;\n        this.boat.description = boat.description;\n        this.boat.address = boat.address;\n        this.boat.price = boat.price;\n        this.boat.capacity = boat.capacity;\n        this.boat.type = boat.type;\n        this.boat.length = boat.length;\n        this.boat.enginePower = boat.enginePower;\n        this.boat.engineNumber = boat.engineNumber;\n        this.boat.maxSpeed = boat.maxSpeed;\n        this.boat.additionalServices = boat.additionalServices;\n        this.boat.conductRules = boat.conductRules;\n        this.boat.cancellationFee = boat.cancellationFee;\n        this.boat.fishingEquipment = boat.fishingEquipment;\n        this.boat.navigationEquipment = boat.navigationEquipment;\n\n        if (boat.initDate != null && boat.termDate != null) {\n          this.boat.initDate = new Date(boat.initDate);\n          this.boat.termDate = new Date(boat.termDate);\n          this.range.start = this.boat.initDate;\n          this.range.end = this.boat.termDate;\n        }\n\n        boat.photos.forEach(photo => {\n          this.photos.push(photo.photo);\n          this.primaryPhotos.push(photo.photo);\n          this.loadImage(photo.photo, this.photos.indexOf(photo.photo));\n        });\n        this.boat.id = boat.id;\n        toggleLoading();\n      }).catch(() => {\n        this.$notify({\n          title: \"Server error\",\n          text: \"Server is currently off. Please try again later...\",\n          type: \"error\"\n        });\n        toggleLoading();\n      });\n    } else {\n      toggleLoading();\n    }\n  },\n\n  computed: {\n    rulesOfConduct() {\n      let pairsOfRules = [];\n      let positiveRules = this.positiveRules(this.boat.conductRules);\n      let negativeRules = this.negativeRules(this.boat.conductRules);\n      let size = Math.max(positiveRules.length, negativeRules.length);\n\n      for (let i = 0; i < size; i++) {\n        pairsOfRules.push({\n          \"Do\": i + 1 <= positiveRules.length ? positiveRules[i] : \"\",\n          \"DoNot\": i + 1 <= negativeRules.length ? negativeRules[i] : \"\"\n        });\n      }\n\n      return pairsOfRules;\n    },\n\n    isNameEntered() {\n      return Boolean(this.boat.name);\n    },\n\n    isDescriptionEntered() {\n      return Boolean(this.boat.description);\n    },\n\n    isTypeEntered() {\n      return Boolean(this.boat.type);\n    },\n\n    isLengthEntered() {\n      return Boolean(this.boat.length);\n    },\n\n    isEngineNumberEntered() {\n      return Boolean(this.boat.engineNumber);\n    },\n\n    isEnginePowerEntered() {\n      return Boolean(this.boat.enginePower);\n    },\n\n    isMaxSpeedEntered() {\n      return Boolean(this.boat.maxSpeed);\n    },\n\n    isCountryEntered() {\n      return Boolean(this.boat.address.country);\n    },\n\n    isCityEntered() {\n      return Boolean(this.boat.address.city);\n    },\n\n    isStreetEntered() {\n      return Boolean(this.boat.address.street);\n    },\n\n    isNumberEntered() {\n      return Boolean(this.boat.address.number);\n    },\n\n    isPriceEntered() {\n      return Boolean(this.boat.price);\n    },\n\n    isCapacityEntered() {\n      return Boolean(this.boat.capacity);\n    },\n\n    isCancellationFeeEntered() {\n      return Boolean(this.boat.cancellationFee);\n    },\n\n    isPhotoEntered() {\n      return this.photos.length > 0;\n    }\n\n  },\n  methods: {\n    submit() {\n      if (this.isDataEntered()) {\n        this.isDataCorrect();\n      }\n    },\n\n    makeRequest() {\n      let boat = this.boat;\n      this.range.start.setTime(this.range.start.getTime() + 2 * 60 * 60 * 1000);\n      this.range.end.setTime(this.range.end.getTime() + 2 * 60 * 60 * 1000);\n      boat.initDate = this.range.start;\n      boat.termDate = this.range.end;\n      axios.post(\"/RentalObjects/addBoat\", boat, {\n        headers: {\n          Authorization: \"Bearer \" + this.$store.getters.access_token\n        }\n      }).then(boat => {\n        for (let i = 0; i < this.photos.length; i++) {\n          let formData = new FormData();\n          formData.append(\"file\", this.photos[i]);\n          axios.post(\"/Photos/upload\", formData, {\n            headers: {\n              Authorization: \"Bearer \" + this.$store.getters.access_token,\n              \"Content-type\": \"multipart/form-data\"\n            }\n          }).then(response => {\n            let body = {\n              id: boat.data.id,\n              photos: [response.data]\n            };\n            console.log(body);\n            axios.post(\"/RentalObjects/connectPhotosToBoat\", body, {\n              headers: {\n                Authorization: \"Bearer \" + this.$store.getters.access_token\n              }\n            }).then(() => {\n              this.$notify({\n                title: \"Successful adding\",\n                text: \"You have successfully added a new boat.\",\n                position: \"bottom right\",\n                type: \"success\"\n              });\n            });\n          });\n        }\n\n        toggleProcessing();\n      }).catch(error => {\n        if (!error.response) {\n          this.$notify({\n            title: \"Server error\",\n            text: \"Server is currently off. Please try again later...\",\n            type: \"error\"\n          });\n        } else if (error.response.status === 500) {\n          this.$notify({\n            title: \"Internal Server Error\",\n            text: \"Something went wrong on the server! Please try again later...\",\n            position: \"bottom right\",\n            type: \"error\"\n          });\n        }\n\n        toggleProcessing();\n      });\n    },\n\n    updateBoat() {\n      let boat = this.boat;\n      this.range.start.setTime(this.range.start.getTime() + 2 * 60 * 60 * 1000);\n      this.range.end.setTime(this.range.end.getTime() + 2 * 60 * 60 * 1000);\n      boat.initDate = this.range.start;\n      boat.termDate = this.range.end;\n      axios.put(\"/RentalObjects/updateBoat\", boat, {\n        headers: {\n          Authorization: \"Bearer \" + this.$store.getters.access_token\n        }\n      }).then(id => {\n        for (let i = 0; i < this.photos.length; i++) {\n          if (!this.photoExisted(this.photos[i])) {\n            let formData = new FormData();\n            formData.append(\"file\", this.photos[i]);\n            axios.post(\"/Photos/upload\", formData, {\n              headers: {\n                Authorization: \"Bearer \" + this.$store.getters.access_token,\n                \"Content-type\": \"multipart/form-data\"\n              }\n            }).then(response => {\n              let body = {\n                id: id.data,\n                photos: [response.data]\n              };\n              axios.post(\"/RentalObjects/connectPhotosToBoat\", body, {\n                headers: {\n                  Authorization: \"Bearer \" + this.$store.getters.access_token\n                }\n              }).then(() => {\n                this.$notify({\n                  title: \"Successful update\",\n                  text: \"You have successfully updated the boat.\",\n                  position: \"bottom right\",\n                  type: \"success\"\n                });\n              });\n            });\n          }\n        }\n\n        toggleProcessing();\n      }).catch(error => {\n        if (!error.response) {\n          this.$notify({\n            title: \"Server error\",\n            text: \"Server is currently off. Please try again later...\",\n            type: \"error\"\n          });\n        } else if (error.response.status === 500) {\n          this.$notify({\n            title: \"Internal Server Error\",\n            text: \"Something went wrong on the server! Please try again later...\",\n            position: \"bottom right\",\n            type: \"error\"\n          });\n        }\n\n        toggleProcessing();\n      });\n    },\n\n    isDataEntered() {\n      if (!this.isNameEntered) {\n        this.nameIsEntered = false;\n        return false;\n      }\n\n      if (!this.isDescriptionEntered) {\n        this.descriptionIsEntered = false;\n        return false;\n      }\n\n      if (!this.isTypeEntered) {\n        this.typeIsEntered = false;\n        return false;\n      }\n\n      if (!this.isLengthEntered) {\n        this.lengthIsEntered = false;\n        return false;\n      }\n\n      if (!this.isEngineNumberEntered) {\n        this.engineNumberIsEntered = false;\n        return false;\n      }\n\n      if (!this.isEnginePowerEntered) {\n        this.enginePowerIsEntered = false;\n        return false;\n      }\n\n      if (!this.isMaxSpeedEntered) {\n        this.maxSpeedIsEntered = false;\n        return false;\n      }\n\n      if (!this.isCountryEntered) {\n        this.countryIsEntered = false;\n        return false;\n      }\n\n      if (!this.isCityEntered) {\n        this.cityIsEntered = false;\n        return false;\n      }\n\n      if (!this.isStreetEntered) {\n        this.streetIsEntered = false;\n        return false;\n      }\n\n      if (!this.isNumberEntered) {\n        this.numberIsEntered = false;\n        return false;\n      }\n\n      if (!this.isPriceEntered) {\n        this.priceIsEntered = false;\n        return false;\n      }\n\n      if (!this.isCapacityEntered) {\n        this.capacityIsEntered = false;\n        return false;\n      }\n\n      if (!this.isCancellationFeeEntered) {\n        this.cancellationFeeIsEntered = false;\n        return false;\n      }\n\n      if (!this.isPhotoEntered) {\n        this.photoIsEntered = false;\n        return false;\n      }\n\n      return true;\n    },\n\n    async isDataCorrect() {\n      this.addressIsValid = false;\n      this.validateAddress();\n    },\n\n    loadImage(name, index) {\n      axios.get(\"/Photos/\", {\n        headers: {\n          Authorization: \"Bearer \" + this.$store.getters.access_token\n        },\n        params: {\n          path: name\n        },\n        responseType: \"blob\"\n      }).then(response => {\n        this.imageUrls[index] = URL.createObjectURL(response.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    validateAddress() {\n      toggleProcessing();\n      const apiKey = 'VrDrl5BjEA0Whvb-chHbFz96HV4qlCXB-yoiTRRLKno';\n      const url = 'https://geocoder.ls.hereapi.com/6.2/geocode.json' + '?apiKey=' + apiKey + '&housenumber=' + this.boat.address.number + '&street=' + this.boat.address.street + '&city=' + this.boat.address.city + '&country=' + this.boat.address.country;\n      fetch(url).then(response => response.json()).then(data => {\n        const responseView = data.Response.View;\n\n        if (responseView.length === 0) {\n          this.addressIsValid = false;\n        } else {\n          const location = responseView[0].Result[0].Location.DisplayPosition;\n          const address = responseView[0].Result[0].Location.Address;\n          this.boat.address.city = this.transliterate(address.City);\n          this.boat.address.country = this.transliterate(address.AdditionalData[0].value);\n          this.boat.address.street = this.transliterate(address.Street);\n          this.boat.address.longitude = location.Longitude;\n          this.boat.address.latitude = location.Latitude;\n          this.addressIsValid = true;\n\n          if (this.boat.id === null) {\n            this.makeRequest();\n          } else {\n            this.updateBoat();\n          }\n        }\n      }).catch(() => {\n        this.addressIsValid = false;\n        toggleProcessing();\n      });\n    },\n\n    transliterate(word) {\n      let letters = {\n        \"Б\": \"B\",\n        \"В\": \"V\",\n        \"Г\": \"G\",\n        \"Д\": \"D\",\n        \"Ђ\": \"Đ\",\n        \"Ж\": \"Ž\",\n        \"З\": \"Z\",\n        \"И\": \"I\",\n        \"К\": \"K\",\n        \"Л\": \"L\",\n        \"Љ\": \"Lj\",\n        \"М\": \"M\",\n        \"Н\": \"N\",\n        \"Њ\": \"Nj\",\n        \"П\": \"P\",\n        \"Р\": \"R\",\n        \"С\": \"S\",\n        \"Ћ\": \"Ć\",\n        \"У\": \"U\",\n        \"Ф\": \"F\",\n        \"Х\": \"H\",\n        \"Ц\": \"C\",\n        \"Ч\": \"Č\",\n        \"Џ\": \"Dž\",\n        \"Ш\": \"Š\",\n        \"б\": \"b\",\n        \"в\": \"v\",\n        \"г\": \"g\",\n        \"д\": \"d\",\n        \"ђ\": \"đ\",\n        \"ж\": \"ž\",\n        \"з\": \"z\",\n        \"и\": \"i\",\n        \"к\": \"k\",\n        \"л\": \"l\",\n        \"љ\": \"lj\",\n        \"м\": \"m\",\n        \"н\": \"n\",\n        \"њ\": \"nj\",\n        \"п\": \"p\",\n        \"р\": \"r\",\n        \"с\": \"s\",\n        \"т\": \"t\",\n        \"ћ\": \"ć\",\n        \"у\": \"u\",\n        \"ф\": \"f\",\n        \"х\": \"h\",\n        \"ц\": \"c\",\n        \"ч\": \"č\",\n        \"џ\": \"dž\",\n        \"ш\": \"š\"\n      };\n      return word.split('').map(function (char) {\n        return letters[char] || char;\n      }).join(\"\");\n    },\n\n    addPhoto(e) {\n      e.target.files.forEach(photo => {\n        this.photos.push(photo);\n        this.imageUrls.push(URL.createObjectURL(photo));\n        this.photoIsEntered = true;\n      });\n    },\n\n    removePhoto(index) {\n      this.photos.splice(index, 1);\n      this.imageUrls.splice(index, 1);\n    },\n\n    addFishingEquipment() {\n      if (this.fishingEquipmentPiece.name.trim() !== \"\") {\n        if (this.boat.fishingEquipment.indexOf(this.fishingEquipmentPiece.name.trim()) === -1) {\n          this.boat.fishingEquipment.push(this.fishingEquipmentPiece);\n          this.fishingEquipmentPiece = {\n            name: \"\"\n          };\n          this.fishingEquipmentAlreadyExists = false;\n        } else {\n          this.fishingEquipmentAlreadyExists = true;\n        }\n      }\n    },\n\n    removeFishingEquipment(equipmentName) {\n      this.boat.fishingEquipment.splice(this.boat.fishingEquipment.indexOf(equipmentName), 1);\n    },\n\n    addNavigationEquipment() {\n      if (this.navigationEquipmentPiece.name.trim() !== \"\") {\n        if (this.boat.navigationEquipment.indexOf(this.navigationEquipmentPiece.name.trim()) === -1) {\n          this.boat.navigationEquipment.push(this.navigationEquipmentPiece);\n          this.navigationEquipmentPiece = {\n            name: \"\"\n          };\n          this.navigationEquipmentAlreadyExists = false;\n        } else {\n          this.navigationEquipmentAlreadyExists = true;\n        }\n      }\n    },\n\n    removeNavigationEquipment(equipmentName) {\n      this.boat.navigationEquipment.splice(this.boat.navigationEquipment.indexOf(equipmentName), 1);\n    },\n\n    addService() {\n      if (this.additionalService.trim() !== \"\") {\n        let newService = {};\n        newService[\"name\"] = this.additionalService.trim();\n        newService[\"price\"] = this.additionalServicePrice === null ? 0 : this.additionalServicePrice;\n\n        if (this.boat.additionalServices.indexOf(newService) === -1) {\n          this.boat.additionalServices.push(newService);\n          this.additionalService = \"\";\n          this.additionalServicePrice = null;\n          this.serviceAlreadyExists = false;\n        } else {\n          this.serviceAlreadyExists = true;\n        }\n      }\n    },\n\n    removeService(service) {\n      this.boat.additionalServices.splice(this.boat.additionalServices.indexOf(service), 1);\n    },\n\n    addRule() {\n      if (this.ruleText.trim() !== \"\" && this.ruleType.trim() !== \"\") {\n        if (!this.ruleExists(this.ruleText.trim())) {\n          let newRule = {};\n          newRule[\"type\"] = this.ruleType;\n          newRule[\"rule\"] = this.ruleText;\n          this.boat.conductRules.push(newRule);\n          this.ruleType = \"\";\n          this.ruleText = \"\";\n          this.ruleIsValid = true;\n          this.ruleAlreadyExists = false;\n        } else {\n          this.ruleAlreadyExists = true;\n        }\n      } else {\n        this.ruleIsValid = false;\n      }\n    },\n\n    removeRule(rule) {\n      this.boat.conductRules.splice(this.getRuleIndex(rule), 1);\n    },\n\n    getRuleIndex(rule) {\n      let index = -1;\n      this.boat.conductRules.forEach(conductRule => {\n        if (conductRule.rule === rule) {\n          index = this.boat.conductRules.indexOf(conductRule);\n        }\n      });\n      return index;\n    },\n\n    positiveRules(rulesOfConduct) {\n      let positiveRules = [];\n      rulesOfConduct.forEach(rule => {\n        if (rule.type === \"Do\") {\n          positiveRules.push(rule.rule);\n        }\n      });\n      return positiveRules;\n    },\n\n    negativeRules(rulesOfConduct) {\n      let negativeRules = [];\n      rulesOfConduct.forEach(rule => {\n        if (rule.type === \"DoNot\") {\n          negativeRules.push(rule.rule);\n        }\n      });\n      return negativeRules;\n    },\n\n    ruleExists(rule) {\n      return this.getRuleIndex(rule) !== -1;\n    },\n\n    photoExisted(photo) {\n      for (let i = 0; i < this.primaryPhotos.length; i++) {\n        if (this.primaryPhotos[i] === photo) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["FontAwesomeIcon","library","faPlus","faMinus","faX","faPlusCircle","axios","toggleLoading","toggleProcessing","store","DatePicker","add","name","components","data","boat","id","description","type","length","enginePower","engineNumber","maxSpeed","capacity","price","additionalServices","conductRules","cancellationFee","address","country","city","street","number","longitude","latitude","fishingEquipment","navigationEquipment","initDate","termDate","photo","range","start","end","primaryPhotos","date","photos","imageUrls","fishingEquipmentPiece","navigationEquipmentPiece","additionalService","additionalServicePrice","ruleType","ruleText","ruleIsValid","ruleAlreadyExists","serviceAlreadyExists","fishingEquipmentAlreadyExists","navigationEquipmentAlreadyExists","nameIsEntered","descriptionIsEntered","typeIsEntered","lengthIsEntered","engineNumberIsEntered","enginePowerIsEntered","maxSpeedIsEntered","countryIsEntered","cityIsEntered","streetIsEntered","numberIsEntered","priceIsEntered","capacityIsEntered","cancellationFeeIsEntered","photoIsEntered","addressIsValid","mounted","$route","params","undefined","get","headers","Authorization","getters","access_token","then","response","Date","forEach","push","loadImage","indexOf","catch","$notify","title","text","computed","rulesOfConduct","pairsOfRules","positiveRules","negativeRules","size","Math","max","i","isNameEntered","Boolean","isDescriptionEntered","isTypeEntered","isLengthEntered","isEngineNumberEntered","isEnginePowerEntered","isMaxSpeedEntered","isCountryEntered","isCityEntered","isStreetEntered","isNumberEntered","isPriceEntered","isCapacityEntered","isCancellationFeeEntered","isPhotoEntered","methods","submit","isDataEntered","isDataCorrect","makeRequest","setTime","getTime","post","$store","formData","FormData","append","body","console","log","position","error","status","updateBoat","put","photoExisted","validateAddress","index","path","responseType","URL","createObjectURL","apiKey","url","fetch","json","responseView","Response","View","location","Result","Location","DisplayPosition","Address","transliterate","City","AdditionalData","value","Street","Longitude","Latitude","word","letters","split","map","char","join","addPhoto","e","target","files","removePhoto","splice","addFishingEquipment","trim","removeFishingEquipment","equipmentName","addNavigationEquipment","removeNavigationEquipment","addService","newService","removeService","service","addRule","ruleExists","newRule","removeRule","rule","getRuleIndex","conductRule"],"sourceRoot":"","sources":["C:\\Users\\Saška\\Downloads\\MRS_ISA\\isa_mrs_projekat_front\\src\\components\\BoatOwner\\BoatOwnerPage\\components\\BoatAdditionForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\" :key=\"boat.id\">\r\n    <div class=\"col-2\"></div>\r\n    <div class=\"col-8 pt-5 mb-5\">\r\n      <div class=\"container px-4 py-3 rounded form\" spellcheck=\"false\" >\r\n        <div class=\"container-fluid\">\r\n          <h3 v-if=\"boat.id === null\">New Boat</h3>\r\n          <h3 v-else>Boat</h3>\r\n          <div class=\"row main justify-content-center\">\r\n            <div class=\"row main\">\r\n              <div class=\"col-2\"></div>\r\n              <div class=\"col-8\">\r\n\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"name\">Name</label>\r\n                  </div>\r\n                  <input class=\"form-control\" v-model=\"boat.name\" type=\"text\" id=\"name\" placeholder=\"E.g. Boat\" @input=\"nameIsEntered=true\">\r\n                  <p v-if='!nameIsEntered'>'Name' is a mandatory field.</p>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"description\">Description</label>\r\n                  </div>\r\n                  <textarea  class=\"form-control\" v-model=\"boat.description\" rows=\"10\" maxlength=\"500\" placeholder=\"Please describe why you want to join our community in 50-500 characters.\" id=\"description\" @input=\"descriptionIsEntered=true\"></textarea>\r\n                  <p v-if='!descriptionIsEntered'>'Description' is a mandatory field.</p>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"name\">Type</label>\r\n                  </div>\r\n                  <input class=\"form-control\" v-model=\"boat.type\" type=\"text\" id=\"type\" placeholder=\"E.g. Yacht\" @input=\"typeIsEntered=true\">\r\n                  <p v-if='!typeIsEntered'>'Type' is a mandatory field.</p>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"name\">Length</label>\r\n                  </div>\r\n                  <input class=\"form-control\" v-model=\"boat.length\" type=\"number\" step=\"any\" min=\"0\" id=\"length\" @input=\"lengthIsEntered=true\">\r\n                  <p v-if='!lengthIsEntered'>'Length' is a mandatory field.</p>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"name\">Engine number</label>\r\n                  </div>\r\n                  <input class=\"form-control\" v-model=\"boat.engineNumber\" type=\"text\" id=\"engineNumber\" placeholder=\"E.g. 180EAT\" @input=\"engineNumberIsEntered=true\">\r\n                  <p v-if='!engineNumberIsEntered'>'Engine number' is a mandatory field.</p>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"name\">Engine power</label>\r\n                  </div>\r\n                  <input class=\"form-control\" v-model=\"boat.enginePower\" type=\"number\" step=\"any\" min=\"0\" id=\"enginePower\" @input=\"enginePowerIsEntered=true\">\r\n                  <p v-if='!enginePowerIsEntered'>'Engine power' is a mandatory field.</p>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"name\">Max speed</label>\r\n                  </div>\r\n                  <input class=\"form-control\" v-model=\"boat.maxSpeed\" type=\"number\" step=\"any\" min=\"0\" id=\"maxSpeed\" placeholder=\"E.g. Adventure\" @input=\"maxSpeedIsEntered=true\">\r\n                  <p v-if='!maxSpeedIsEntered'>'Max speed' is a mandatory field.</p>\r\n                </div>\r\n\r\n                <div class=\"row mt-4 justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"country\">Country</label>\r\n                  </div>\r\n                  <input  v-model=\"boat.address.country\" class=\"form-control\" type=\"text\" id=\"country\" placeholder=\"Country\" @input=\"countryIsEntered=true\">\r\n                  <p v-if='!countryIsEntered'>'Country' is a mandatory field.</p>\r\n                  <p v-if='!addressIsValid'>Invalid address data.</p>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"city\">City</label>\r\n                  </div>\r\n                  <input v-model=\"boat.address.city\" class=\"form-control\" type=\"text\" id=\"city\" placeholder=\"City\" @input=\"cityIsEntered=true\">\r\n                  <p v-if='!cityIsEntered'>'City' is a mandatory field.</p>\r\n                  <p v-if='!addressIsValid'>Invalid address data.</p>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"street\">Street</label>\r\n                  </div>\r\n                  <input v-model=\"boat.address.street\" class=\"form-control\" type=\"text\" id=\"street\" placeholder=\"Street\" @input=\"streetIsEntered=true\">\r\n                  <p v-if='!streetIsEntered'>'Street' is a mandatory field.</p>\r\n                  <p v-if='!addressIsValid'>Invalid address data.</p>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"number\">Number</label>\r\n                  </div>\r\n                  <input v-model=\"boat.address.number\" class=\"form-control\"  type=\"text\" id=\"number\" placeholder=\"House Number\" @input=\"numberIsEntered=true\">\r\n                  <p v-if='!numberIsEntered'>'Number' is a mandatory field.</p>\r\n                  <p v-if='!addressIsValid'>Invalid address data.</p>\r\n                </div>\r\n\r\n                <div class=\"row mt-4 justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"price\">Price</label>\r\n                  </div>\r\n                  <input v-model=\"boat.price\" type=\"number\" step=\"any\" min=\"0\"  id=\"price\" class=\"form-control\" placeholder=\"Price in $\" @input=\"priceIsEntered=true\">\r\n                  <p v-if='!priceIsEntered'>'Price' is a mandatory field.</p>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"capacity\">Capacity</label>\r\n                  </div>\r\n                  <input v-model=\"boat.capacity\" type=\"number\" step=\"any\" min=\"0\"  id=\"capacity\" class=\"form-control\" placeholder=\"Max people\" @input=\"capacityIsEntered=true\">\r\n                  <p v-if='!capacityIsEntered'>'Capacity' is a mandatory field.</p>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"cancellation\">Cancellation fee</label>\r\n                  </div>\r\n                  <input v-model=\"boat.cancellationFee\" type=\"number\" step=\"any\" min=\"0\" max=\"100\"  id=\"cancellation\" class=\"form-control\" placeholder=\"Cancellation fee in %\" @input=\"cancellationFeeIsEntered=true\">\r\n                  <p v-if='!cancellationFeeIsEntered'>'Cancellation fee' is a mandatory field.</p>\r\n                </div>\r\n\r\n                <div class=\"row mt-4 justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"equipment\">Fishing equipment</label>\r\n                  </div>\r\n                  <input class=\"form-control\" v-model=\"fishingEquipmentPiece.name\" type=\"text\" id=\"equipment\" placeholder=\"E.g. Fishing rod\" @keyup.enter=\"addFishingEquipment\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <small class=\"form-text text-muted\">\r\n                      Press Enter to add equipment\r\n                    </small>\r\n                  </div>\r\n                  <div class=\"row tag-container\">\r\n                    <p v-if='fishingEquipmentAlreadyExists'>Equipment already exists.</p>\r\n                    <div class=\"equipment-tag rounded-pill mt-1 ms-1 p-1\" v-for=\"(pieceOfFishingEquipment, index) in boat.fishingEquipment\" :key=\"index\">\r\n                      {{pieceOfFishingEquipment.name}}\r\n                      <button class=\"tag-button text-center\" @click=\"removeFishingEquipment(pieceOfFishingEquipment)\"><font-awesome-icon icon=\"x\" style=\"width: 9px; height: 9px\"></font-awesome-icon></button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row mt-4 justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"equipment\">Navigation equipment</label>\r\n                  </div>\r\n                  <input class=\"form-control\" v-model=\"navigationEquipmentPiece.name\" type=\"text\" id=\"navigationEquipment\" placeholder=\"E.g. Compass\" @keyup.enter=\"addNavigationEquipment\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <small class=\"form-text text-muted\">\r\n                      Press Enter to add equipment\r\n                    </small>\r\n                  </div>\r\n                  <div class=\"row tag-container\">\r\n                    <p v-if='navigationEquipmentAlreadyExists'>Equipment already exists.</p>\r\n                    <div class=\"equipment-tag rounded-pill mt-1 ms-1 p-1\" v-for=\"(pieceOfNavigationEquipment, index) in boat.navigationEquipment\" :key=\"index\">\r\n                      {{pieceOfNavigationEquipment.name}}\r\n                      <button class=\"tag-button text-center\" @click=\"removeNavigationEquipment(pieceOfNavigationEquipment)\"><font-awesome-icon icon=\"x\" style=\"width: 9px; height: 9px\"></font-awesome-icon></button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row mt-4 justify-content-center\">\r\n                  <div class=\"justify-content-center p-0\" style=\"max-width: 400px;\">\r\n                    <div class=\"d-flex d-inline-flex justify-content-between p-0 w-100\">\r\n                      <label for=\"additionalServices\" class=\"ms-3\">Additional Services</label>\r\n                      <div class=\"dropdown\">\r\n                        <button class=\"btn dropdown\" type=\"button\" id=\"servicesDropdown\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                          <font-awesome-icon icon=\"plus\"></font-awesome-icon>\r\n                        </button>\r\n                        <form class=\"dropdown-menu dropdown-menu-end form p-4 m-0\" aria-labelledby=\"servicesDropdown\">\r\n                          <h4>New Service</h4>\r\n                          <label for=\"service\" class=\"ms-2\">Name</label>\r\n                          <input v-model=\"additionalService\" class=\"form-control m-0\" type=\"text\" placeholder=\"E.g. Spa\" id=\"service\">\r\n                          <label for=\"servicePrice\" class=\"ms-2\">Price</label>\r\n                          <input v-model=\"additionalServicePrice\" type=\"number\" step=\"any\" min=\"0\"  id=\"servicePrice\" class=\"form-control\" placeholder=\"Price in $\">\r\n                          <div class=\"text-center\">\r\n                            <button class=\"btn mt-2\" type=\"button\" @click.prevent=\"addService\">Add</button>\r\n                          </div>\r\n                        </form>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"row tag-container\" id=\"additionalServices\">\r\n                      <p v-if='serviceAlreadyExists'>Additional service already exists.</p>\r\n                      <div class=\"equipment-tag rounded-pill mt-1 ms-1 p-1\" v-for=\"(additionalService, index) in boat.additionalServices\" :key=\"index\">\r\n                        {{additionalService.name + \" \" + (additionalService.price===null?\"Free\":additionalService.price + \"$\")}}\r\n                        <button class=\"tag-button text-center\" @click=\"removeService(additionalService)\"><font-awesome-icon icon=\"x\" style=\"width: 9px; height: 9px\"></font-awesome-icon></button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row mt-4 justify-content-center\">\r\n                  <div class=\"justify-content-center p-0\" style=\"max-width: 400px;\">\r\n                    <div class=\"d-flex d-inline-flex justify-content-between p-0 w-100\">\r\n                      <label for=\"rulesTable\" class=\"ms-3\">Rules of Conduct</label>\r\n                      <div class=\"dropdown\">\r\n                        <button class=\"btn dropdown\" type=\"button\" id=\"rulesDropdown\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                          <font-awesome-icon icon=\"plus\"></font-awesome-icon>\r\n                        </button>\r\n                        <form class=\"dropdown-menu dropdown-menu-end form p-4 m-0\" aria-labelledby=\"rulesDropdown\">\r\n                          <h4>New Rule</h4>\r\n                          <label for=\"conductRule\" class=\"ms-2\">Rule</label>\r\n                          <input v-model=\"ruleText\" class=\"form-control m-0\" type=\"text\" id=\"conductRule\">\r\n                          <label for=\"ruleType\" class=\"ms-2\">Rule Type</label>\r\n                          <select v-model=\"ruleType\" class=\"form-control m-0\" id=\"ruleType\">\r\n                            <option value=\"Do\">Do</option>\r\n                            <option value=\"DoNot\" selected=\"selected\">Don't</option>\r\n                          </select>\r\n                          <div class=\"text-center\">\r\n                            <button class=\"btn mt-2\" type=\"button\" @click.prevent=\"addRule\">Add</button>\r\n                          </div>\r\n                        </form>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\" row justify-content-center p-0\">\r\n                      <p v-if='ruleAlreadyExists'>Rule already exists.</p>\r\n                      <table class=\"mt-1 tag-container\" id=\"rulesTable\" style=\"max-width: 400px\">\r\n                        <thead v-if=\"rulesOfConduct.length > 0\" style=\"background-color: transparent\">\r\n                        <tr>\r\n                          <th style=\"background-color: #008970; color: #f7f7f2; ; border-bottom: #008970 1px solid\">Do</th>\r\n                          <th style=\"background-color: #e23c52; color: #f7f7f2; border-left: #008970 1px solid; border-bottom: #e23c52 1px solid\">Don't</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        <tr v-for=\"(rule, index) in rulesOfConduct\" :key=\"index\" :class=\"index%2!==0?'odd':'even'\">\r\n                          <td style=\"border-right: #008970 1px solid;word-wrap: break-word;\">\r\n                            <div class=\"d-flex d-inline-flex justify-content-between p-0\">\r\n                              <div>{{rule.Do}}</div><button v-if=\"rule.Do\" class=\"button\" style=\"border: none; background-color: transparent; color: #e23c52\" @click=\"removeRule(rule.Do)\"><font-awesome-icon icon=\"minus\"></font-awesome-icon></button>\r\n                            </div>\r\n                          </td>\r\n                          <td style=\"word-wrap: break-word;\">\r\n                            <div class=\"d-flex d-inline-flex justify-content-between p-0\">\r\n                              <div>{{rule.DoNot}}</div><button v-if=\"rule.DoNot\" class=\"button\" style=\"border: none; background-color: transparent; color: #e23c52\" @click=\"removeRule(rule.DoNot)\"><font-awesome-icon icon=\"minus\"></font-awesome-icon></button>                            </div>\r\n                          </td>\r\n                        </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row justify-content-center mt-4\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"imageInput\">Images</label>\r\n                    <p v-if='!photoIsEntered'>One image is mandatory.</p>\r\n                  </div>\r\n                  <div class=\"row p-0 justify-content-center\" id=\"imageInput\" style=\"max-width: 400px;min-width: 120px\">\r\n                    <label class=\"imageUploadLabel text-center rounded m-1\" style=\"background-color:white;display: table;width: 180px;height: 100px;border: 1px solid #008970;cursor: pointer\">\r\n                      <span style=\"display:table-cell; vertical-align: middle\">\r\n                        <font-awesome-icon class=\"rounded-circle\" icon=\"plus-circle\" style=\"color: #008970; background-color: transparent;height: 50px\"></font-awesome-icon>\r\n                        <input class=\"upload-button\" multiple type=\"file\" accept=\"image/jpeg\" ref=\"photo\" @change=\"addPhoto\">\r\n                      </span>\r\n                    </label>\r\n                    <div v-for=\"(url, index) in imageUrls\" class=\"m-1 rounded\" :key=\"index\" style=\"width:180px;height:100px;border: 1px solid #008970;background-color: lightgray;position: relative;text-align: center\">\r\n                      <img :src=\"url\" alt=\"\" style=\"width:100%; height:100%; object-fit: contain;\">\r\n                      <button style=\"background-color: transparent;color: #e23c52;border:none;position: absolute;top: 0;right: 0;cursor: pointer\" @click=\"removePhoto(index)\"><font-awesome-icon icon=\"x\"></font-awesome-icon></button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row justify-content-center mt-4\">\r\n                  <label class=\"ms-3\">Availability Period</label>\r\n                  <div class=\"container p-0 m-0 text-center\" style=\"max-width: 400px\">\r\n                    <date-picker v-model=\"range\" mode=\"dateTime\" is-range is24hr :firstDayOfWeek=2>\r\n                    </date-picker>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n              <div class=\"col-2\"></div>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex pt-3 justify-content-center\">\r\n            <router-link to=\"/boatOwner/boats\" class=\"btn btn-red mt-3 me-1\">Cancel</router-link>\r\n            <button type=\"button\" class=\"btn mt-3\" @click=\"submit\">Submit</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-2\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {FontAwesomeIcon} from \"@fortawesome/vue-fontawesome\";\r\nimport {library} from \"@fortawesome/fontawesome-svg-core\";\r\nimport {faPlus, faMinus, faX, faPlusCircle} from \"@fortawesome/free-solid-svg-icons\";\r\nimport axios from \"axios\";\r\nimport {toggleLoading, toggleProcessing} from \"@/components/state\";\r\nimport store from \"@/store\";\r\nimport {DatePicker} from \"v-calendar\";\r\n\r\nlibrary.add(faPlus, faMinus, faX, faPlusCircle);\r\n\r\nexport default {\r\n  name: \"AdventureCreationPage\",\r\n  components: {FontAwesomeIcon, DatePicker},\r\n  data() {\r\n    return {\r\n      boat: {\r\n        id: null,\r\n        name: null,\r\n        description: null,\r\n        type: null,\r\n        length: null,\r\n        enginePower: null,\r\n        engineNumber: null,\r\n        maxSpeed: null,\r\n        capacity: null,\r\n        price: null,\r\n        additionalServices: [],\r\n        conductRules: [],\r\n        cancellationFee: null,\r\n        address: {\r\n          country: null,\r\n          city: null,\r\n          street: null,\r\n          number: null,\r\n          longitude: null,\r\n          latitude: null\r\n        },\r\n        fishingEquipment: [],\r\n        navigationEquipment: [],\r\n        initDate: null,\r\n        termDate: null\r\n      },\r\n      photo: null,\r\n      range: {\r\n        start: null,\r\n        end: null\r\n      },\r\n      primaryPhotos: [],\r\n      date: null,\r\n      photos: [],\r\n      imageUrls: [],\r\n      fishingEquipmentPiece: {name:\"\"},\r\n      navigationEquipmentPiece: {name:\"\"},\r\n      additionalService: \"\",\r\n      additionalServicePrice: null,\r\n      ruleType: \"Do\",\r\n      ruleText: \"\",\r\n      ruleIsValid: true,\r\n      ruleAlreadyExists: false,\r\n      serviceAlreadyExists: false,\r\n      fishingEquipmentAlreadyExists: false,\r\n      navigationEquipmentAlreadyExists: false,\r\n      nameIsEntered: true,\r\n      descriptionIsEntered: true,\r\n      typeIsEntered: true,\r\n      lengthIsEntered: true,\r\n      engineNumberIsEntered: true,\r\n      enginePowerIsEntered: true,\r\n      maxSpeedIsEntered: true,\r\n      countryIsEntered: true,\r\n      cityIsEntered: true,\r\n      streetIsEntered: true,\r\n      numberIsEntered: true,\r\n      priceIsEntered: true,\r\n      capacityIsEntered: true,\r\n      cancellationFeeIsEntered: true,\r\n      photoIsEntered: true,\r\n      addressIsValid: true\r\n    }\r\n  },\r\n  mounted() {\r\n    toggleLoading();\r\n    if (this.$route.params.id !== undefined) {\r\n      axios.get(\"/RentalObjects/getBoatOwner\", {\r\n        headers: {\r\n          Authorization: \"Bearer \" + store.getters.access_token,\r\n        },\r\n        params: {\r\n          id: this.$route.params.id\r\n        }\r\n      })\r\n      .then((response) => {\r\n        let boat = response.data;\r\n        this.boat.name = boat.name;\r\n        this.boat.description = boat.description;\r\n        this.boat.address = boat.address;\r\n        this.boat.price = boat.price;\r\n        this.boat.capacity = boat.capacity;\r\n        this.boat.type = boat.type;\r\n        this.boat.length = boat.length;\r\n        this.boat.enginePower = boat.enginePower;\r\n        this.boat.engineNumber = boat.engineNumber;\r\n        this.boat.maxSpeed = boat.maxSpeed;\r\n        this.boat.additionalServices = boat.additionalServices;\r\n        this.boat.conductRules = boat.conductRules;\r\n        this.boat.cancellationFee = boat.cancellationFee;\r\n        this.boat.fishingEquipment = boat.fishingEquipment;\r\n        this.boat.navigationEquipment = boat.navigationEquipment;\r\n        if(boat.initDate != null && boat.termDate != null) {\r\n          this.boat.initDate = new Date(boat.initDate);\r\n          this.boat.termDate = new Date(boat.termDate);\r\n          this.range.start = this.boat.initDate;\r\n          this.range.end = this.boat.termDate;\r\n        }\r\n        boat.photos.forEach(photo => {\r\n          this.photos.push(photo.photo);\r\n          this.primaryPhotos.push(photo.photo);\r\n          this.loadImage(photo.photo, this.photos.indexOf(photo.photo));\r\n        });\r\n        this.boat.id = boat.id;\r\n        toggleLoading();\r\n      })\r\n      .catch(() => {\r\n        this.$notify({\r\n          title: \"Server error\",\r\n          text: \"Server is currently off. Please try again later...\",\r\n          type: \"error\"\r\n        });\r\n        toggleLoading();\r\n      })\r\n    }\r\n    else {\r\n      toggleLoading();\r\n    }\r\n  },\r\n  computed: {\r\n    rulesOfConduct() {\r\n      let pairsOfRules = [];\r\n      let positiveRules = this.positiveRules(this.boat.conductRules);\r\n      let negativeRules = this.negativeRules(this.boat.conductRules);\r\n      let size = Math.max(positiveRules.length, negativeRules.length);\r\n      for (let i = 0; i < size; i++) {\r\n        pairsOfRules.push({\r\n          \"Do\": i + 1 <= positiveRules.length ? positiveRules[i] : \"\",\r\n          \"DoNot\": i + 1 <= negativeRules.length ? negativeRules[i] : \"\"\r\n        });\r\n      }\r\n      return pairsOfRules;\r\n    },\r\n    isNameEntered() {\r\n      return Boolean(this.boat.name);\r\n    },\r\n    isDescriptionEntered() {\r\n      return Boolean(this.boat.description);\r\n    },\r\n    isTypeEntered() {\r\n      return Boolean(this.boat.type);\r\n    },\r\n    isLengthEntered() {\r\n      return Boolean(this.boat.length);\r\n    },\r\n    isEngineNumberEntered() {\r\n      return Boolean(this.boat.engineNumber);\r\n    },\r\n    isEnginePowerEntered() {\r\n      return Boolean(this.boat.enginePower);\r\n    },\r\n    isMaxSpeedEntered() {\r\n      return Boolean(this.boat.maxSpeed);\r\n    },\r\n    isCountryEntered() {\r\n      return Boolean(this.boat.address.country);\r\n    },\r\n    isCityEntered() {\r\n      return Boolean(this.boat.address.city);\r\n    },\r\n    isStreetEntered() {\r\n      return Boolean(this.boat.address.street);\r\n    },\r\n    isNumberEntered() {\r\n      return Boolean(this.boat.address.number);\r\n    },\r\n    isPriceEntered() {\r\n      return Boolean(this.boat.price);\r\n    },\r\n    isCapacityEntered() {\r\n      return Boolean(this.boat.capacity);\r\n    },\r\n    isCancellationFeeEntered() {\r\n      return Boolean(this.boat.cancellationFee);\r\n    },\r\n    isPhotoEntered() {\r\n      return this.photos.length > 0;\r\n    }\r\n  },\r\n  methods: {\r\n    submit() {\r\n      if (this.isDataEntered()) {\r\n        this.isDataCorrect();\r\n      }\r\n    },\r\n    makeRequest() {\r\n      let boat = this.boat;\r\n      this.range.start.setTime(this.range.start.getTime() + 2*60*60*1000);\r\n      this.range.end.setTime(this.range.end.getTime() + 2*60*60*1000);\r\n      boat.initDate = this.range.start;\r\n      boat.termDate = this.range.end;\r\n      axios.post(\"/RentalObjects/addBoat\", boat, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        }\r\n      })\r\n      .then((boat) => {\r\n        for (let i = 0; i < this.photos.length; i++) {\r\n          let formData = new FormData();\r\n          formData.append(\"file\", this.photos[i]);\r\n          axios.post(\"/Photos/upload\", formData, {\r\n            headers: {\r\n              Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n              \"Content-type\": \"multipart/form-data\"\r\n            },\r\n          })\r\n          .then((response) => {\r\n            let body = {id: boat.data.id, photos: [response.data]}\r\n            console.log(body);\r\n            axios.post(\"/RentalObjects/connectPhotosToBoat\", body,{\r\n              headers: {\r\n                Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n              },\r\n            }).then(() =>{\r\n              this.$notify( {\r\n                title: \"Successful adding\",\r\n                text: \"You have successfully added a new boat.\",\r\n                position: \"bottom right\",\r\n                type: \"success\"\r\n              });\r\n            })\r\n          })\r\n        }\r\n        toggleProcessing();\r\n      })\r\n      .catch(error => {\r\n        if (!error.response) {\r\n          this.$notify({\r\n            title: \"Server error\",\r\n            text: \"Server is currently off. Please try again later...\",\r\n            type: \"error\"\r\n          });\r\n        } else if (error.response.status === 500) {\r\n          this.$notify({\r\n            title: \"Internal Server Error\",\r\n            text: \"Something went wrong on the server! Please try again later...\",\r\n            position: \"bottom right\",\r\n            type: \"error\"\r\n          });\r\n        }\r\n        toggleProcessing();\r\n      })\r\n    },\r\n    updateBoat() {\r\n      let boat = this.boat;\r\n      this.range.start.setTime(this.range.start.getTime() + 2*60*60*1000);\r\n      this.range.end.setTime(this.range.end.getTime() + 2*60*60*1000);\r\n      boat.initDate = this.range.start;\r\n      boat.termDate = this.range.end;\r\n      axios.put(\"/RentalObjects/updateBoat\", boat, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        }\r\n      })\r\n      .then((id) => {\r\n        for (let i = 0; i < this.photos.length; i++) {\r\n          if (!this.photoExisted(this.photos[i])) {\r\n            let formData = new FormData();\r\n            formData.append(\"file\", this.photos[i]);\r\n            axios.post(\"/Photos/upload\", formData, {\r\n              headers: {\r\n                Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n                \"Content-type\": \"multipart/form-data\"\r\n              },\r\n            })\r\n            .then((response) => {\r\n              let body = {id: id.data, photos: [response.data]}\r\n              axios.post(\"/RentalObjects/connectPhotosToBoat\", body,{\r\n                headers: {\r\n                  Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n                },\r\n              }).then(() =>{\r\n                this.$notify( {\r\n                  title: \"Successful update\",\r\n                  text: \"You have successfully updated the boat.\",\r\n                  position: \"bottom right\",\r\n                  type: \"success\"\r\n                });\r\n              })\r\n            })\r\n          }\r\n        }\r\n        toggleProcessing();\r\n      })\r\n      .catch(error => {\r\n        if (!error.response) {\r\n          this.$notify({\r\n            title: \"Server error\",\r\n            text: \"Server is currently off. Please try again later...\",\r\n            type: \"error\"\r\n          });\r\n        } else if (error.response.status === 500) {\r\n          this.$notify({\r\n            title: \"Internal Server Error\",\r\n            text: \"Something went wrong on the server! Please try again later...\",\r\n            position: \"bottom right\",\r\n            type: \"error\"\r\n          })\r\n        }\r\n        toggleProcessing();\r\n      })\r\n    },\r\n    isDataEntered() {\r\n      if (!this.isNameEntered) {\r\n        this.nameIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isDescriptionEntered) {\r\n        this.descriptionIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isTypeEntered) {\r\n        this.typeIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isLengthEntered) {\r\n        this.lengthIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isEngineNumberEntered) {\r\n        this.engineNumberIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isEnginePowerEntered) {\r\n        this.enginePowerIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isMaxSpeedEntered) {\r\n        this.maxSpeedIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isCountryEntered) {\r\n        this.countryIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isCityEntered) {\r\n        this.cityIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isStreetEntered) {\r\n        this.streetIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isNumberEntered) {\r\n        this.numberIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isPriceEntered) {\r\n        this.priceIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isCapacityEntered) {\r\n        this.capacityIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isCancellationFeeEntered) {\r\n        this.cancellationFeeIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isPhotoEntered) {\r\n        this.photoIsEntered = false;\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    async isDataCorrect() {\r\n      this.addressIsValid = false;\r\n      this.validateAddress();\r\n    },\r\n    loadImage(name, index) {\r\n      axios.get(\"/Photos/\", {headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        },\r\n        params: {\r\n          path: name,\r\n        },\r\n        responseType: \"blob\"\r\n      })\r\n          .then(response => {\r\n            this.imageUrls[index] = URL.createObjectURL(response.data);\r\n          })\r\n          .catch((error) =>{\r\n            console.log(error);\r\n          });\r\n    },\r\n    validateAddress() {\r\n      toggleProcessing();\r\n      const apiKey = 'VrDrl5BjEA0Whvb-chHbFz96HV4qlCXB-yoiTRRLKno';\r\n      const url = 'https://geocoder.ls.hereapi.com/6.2/geocode.json' +\r\n          '?apiKey=' + apiKey +\r\n          '&housenumber=' + this.boat.address.number +\r\n          '&street=' + this.boat.address.street +\r\n          '&city=' + this.boat.address.city +\r\n          '&country=' + this.boat.address.country;\r\n      fetch(url)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            const responseView = data.Response.View;\r\n            if (responseView.length === 0) {\r\n              this.addressIsValid = false;\r\n            }\r\n            else {\r\n              const location = responseView[0].Result[0].Location.DisplayPosition;\r\n              const address = responseView[0].Result[0].Location.Address;\r\n              this.boat.address.city = this.transliterate(address.City);\r\n              this.boat.address.country = this.transliterate(address.AdditionalData[0].value);\r\n              this.boat.address.street = this.transliterate(address.Street);\r\n              this.boat.address.longitude = location.Longitude;\r\n              this.boat.address.latitude = location.Latitude;\r\n              this.addressIsValid = true;\r\n              if(this.boat.id === null) {\r\n                this.makeRequest();\r\n              }\r\n              else {\r\n                this.updateBoat();\r\n              }\r\n            }\r\n          })\r\n          .catch(() => {\r\n            this.addressIsValid = false;\r\n            toggleProcessing();\r\n          });\r\n    },\r\n    transliterate(word) {\r\n      let letters = {\"Б\":\"B\", \"В\":\"V\", \"Г\":\"G\", \"Д\":\"D\", \"Ђ\":\"Đ\", \"Ж\":\"Ž\", \"З\":\"Z\", \"И\":\"I\", \"К\":\"K\", \"Л\":\"L\", \"Љ\":\"Lj\", \"М\":\"M\", \"Н\":\"N\", \"Њ\":\"Nj\", \"П\":\"P\",\r\n        \"Р\":\"R\", \"С\":\"S\", \"Ћ\":\"Ć\", \"У\":\"U\", \"Ф\":\"F\", \"Х\":\"H\", \"Ц\":\"C\", \"Ч\":\"Č\", \"Џ\":\"Dž\", \"Ш\":\"Š\", \"б\":\"b\", \"в\":\"v\", \"г\":\"g\", \"д\":\"d\", \"ђ\":\"đ\", \"ж\":\"ž\", \"з\":\"z\", \"и\":\"i\", \"к\":\"k\", \"л\":\"l\", \"љ\":\"lj\", \"м\":\"m\", \"н\":\"n\", \"њ\":\"nj\", \"п\":\"p\",\r\n        \"р\":\"r\", \"с\":\"s\", \"т\":\"t\", \"ћ\":\"ć\", \"у\":\"u\", \"ф\":\"f\", \"х\":\"h\", \"ц\":\"c\", \"ч\":\"č\", \"џ\":\"dž\", \"ш\":\"š\"};\r\n      return word.split('').map(function (char) {\r\n        return letters[char] || char;\r\n      }).join(\"\");\r\n    },\r\n    addPhoto(e) {\r\n      e.target.files.forEach(photo => {\r\n        this.photos.push(photo);\r\n        this.imageUrls.push(URL.createObjectURL(photo));\r\n        this.photoIsEntered = true;\r\n      })\r\n    },\r\n    removePhoto(index) {\r\n      this.photos.splice(index, 1);\r\n      this.imageUrls.splice(index, 1);\r\n    },\r\n    addFishingEquipment() {\r\n      if (this.fishingEquipmentPiece.name.trim() !== \"\") {\r\n        if (this.boat.fishingEquipment.indexOf(this.fishingEquipmentPiece.name.trim()) === -1) {\r\n          this.boat.fishingEquipment.push(this.fishingEquipmentPiece);\r\n          this.fishingEquipmentPiece = {name: \"\"};\r\n          this.fishingEquipmentAlreadyExists=false;\r\n        }\r\n        else {\r\n          this.fishingEquipmentAlreadyExists=true;\r\n        }\r\n      }\r\n    },\r\n    removeFishingEquipment(equipmentName) {\r\n      this.boat.fishingEquipment.splice(this.boat.fishingEquipment.indexOf(equipmentName), 1);\r\n    },\r\n    addNavigationEquipment() {\r\n      if (this.navigationEquipmentPiece.name.trim() !== \"\") {\r\n        if (this.boat.navigationEquipment.indexOf(this.navigationEquipmentPiece.name.trim()) === -1) {\r\n          this.boat.navigationEquipment.push(this.navigationEquipmentPiece);\r\n          this.navigationEquipmentPiece = {name: \"\"};\r\n          this.navigationEquipmentAlreadyExists=false;\r\n        }\r\n        else {\r\n          this.navigationEquipmentAlreadyExists=true;\r\n        }\r\n      }\r\n    },\r\n    removeNavigationEquipment(equipmentName) {\r\n      this.boat.navigationEquipment.splice(this.boat.navigationEquipment.indexOf(equipmentName), 1);\r\n    },\r\n    addService() {\r\n      if (this.additionalService.trim() !== \"\") {\r\n        let newService = {};\r\n        newService[\"name\"] = this.additionalService.trim();\r\n        newService[\"price\"] = this.additionalServicePrice===null?0:this.additionalServicePrice;\r\n        if (this.boat.additionalServices.indexOf(newService) === -1) {\r\n          this.boat.additionalServices.push(newService);\r\n          this.additionalService = \"\";\r\n          this.additionalServicePrice = null;\r\n          this.serviceAlreadyExists = false;\r\n        } else {\r\n          this.serviceAlreadyExists = true;\r\n        }\r\n      }\r\n    },\r\n    removeService(service) {\r\n      this.boat.additionalServices.splice(this.boat.additionalServices.indexOf(service), 1);\r\n    },\r\n    addRule() {\r\n      if (this.ruleText.trim() !== \"\" && this.ruleType.trim() !== \"\") {\r\n        if (!this.ruleExists(this.ruleText.trim())) {\r\n          let newRule = {};\r\n          newRule[\"type\"] = this.ruleType;\r\n          newRule[\"rule\"] = this.ruleText;\r\n          this.boat.conductRules.push(newRule);\r\n          this.ruleType = \"\";\r\n          this.ruleText = \"\";\r\n          this.ruleIsValid = true;\r\n          this.ruleAlreadyExists = false;\r\n        } else {\r\n          this.ruleAlreadyExists = true;\r\n        }\r\n      } else {\r\n        this.ruleIsValid = false;\r\n      }\r\n    },\r\n    removeRule(rule) {\r\n      this.boat.conductRules.splice(this.getRuleIndex(rule), 1);\r\n    },\r\n    getRuleIndex(rule) {\r\n      let index = -1;\r\n      this.boat.conductRules.forEach(conductRule => {\r\n        if (conductRule.rule === rule) {\r\n          index = this.boat.conductRules.indexOf(conductRule);\r\n        }\r\n      })\r\n      return index;\r\n    },\r\n    positiveRules(rulesOfConduct) {\r\n      let positiveRules = [];\r\n      rulesOfConduct.forEach(rule => {\r\n        if (rule.type === \"Do\") {\r\n          positiveRules.push(rule.rule);\r\n        }\r\n      });\r\n      return positiveRules;\r\n    },\r\n    negativeRules(rulesOfConduct) {\r\n      let negativeRules = [];\r\n      rulesOfConduct.forEach(rule => {\r\n        if (rule.type === \"DoNot\") {\r\n          negativeRules.push(rule.rule);\r\n        }\r\n      });\r\n      return negativeRules;\r\n    },\r\n    ruleExists(rule) {\r\n      return this.getRuleIndex(rule) !== -1;\r\n    },\r\n    photoExisted(photo) {\r\n      for (let i = 0; i <this.primaryPhotos.length; i++) {\r\n        if (this.primaryPhotos[i] === photo) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.upload-button {\r\n  display: none;\r\n}\r\n\r\nlabel, .tag-container, small {\r\n  max-width: 400px;\r\n}\r\n\r\n.equipment-tag {\r\n  background-color: #008970;\r\n  color: #99EEDF;\r\n  width: fit-content;\r\n  font-size: 12px;\r\n}\r\n\r\n.equipment-tag:hover   {\r\n  background-color: #99EEDF;\r\n  color: #008970;\r\n  width: fit-content;\r\n  font-size: 12px;\r\n}\r\n\r\n.equipment-tag:hover .tag-button {\r\n  background-color: transparent;\r\n  color: #008970;\r\n  border: none;\r\n}\r\n\r\n.tag-button {\r\n  background-color: transparent;\r\n  color: #99EEDF;\r\n  border: none;\r\n}\r\n\r\ntextarea {\r\n  resize: none;\r\n  width: 100%;\r\n  text-align: justify;\r\n  max-width: 400px;\r\n}\r\n\r\ninput {\r\n  max-width: 400px;\r\n}\r\n\r\ninput::placeholder {\r\n  color: grey;\r\n}\r\n\r\nh3 {\r\n  text-align: center;\r\n}\r\n\r\nh4 {\r\n  text-align: center;\r\n}\r\n\r\np {\r\n  color: #e23c52;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}