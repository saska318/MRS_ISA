{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3decdf51\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"row\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-1\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"col-10 pt-5 mb-5\"\n};\nconst _hoisted_4 = {\n  class: \"container-fluid pe-0 ps-0 me-0 ms-0\"\n};\nconst _hoisted_5 = {\n  class: \"align-items-center\"\n};\nconst _hoisted_6 = {\n  class: \"row main-col\"\n};\nconst _hoisted_7 = {\n  class: \"col d-flex justify-content-end pe-0 me-0\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"btn btn-red my-auto mb-1 me-1\",\n  \"data-bs-toggle\": \"modal\",\n  \"data-bs-target\": \"#confirmationDialog\"\n};\nconst _hoisted_9 = {\n  class: \"modal fade\",\n  id: \"confirmationDialog\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"exampleModalLabel\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_10 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_11 = {\n  class: \"modal-content\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"modal-header\"\n}, [/*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"modal-title\",\n  id: \"exampleModalLabel\"\n}, \"Users' Status Change\"), /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\",\n  \"aria-label\": \"Close\"\n})], -1\n/* HOISTED */\n));\n\nconst _hoisted_13 = {\n  class: \"modal-body\"\n};\nconst _hoisted_14 = {\n  class: \"modal-footer\"\n};\n\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-red\",\n  style: {\n    \"margin-right\": \"2vh\"\n  },\n  \"data-bs-dismiss\": \"modal\"\n}, \"No\", -1\n/* HOISTED */\n));\n\nconst _hoisted_16 = /*#__PURE__*/_createTextVNode(\" Create User \");\n\nconst _hoisted_17 = {\n  class: \"row main-col text-center header rounded mb-3\"\n};\n\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"User Type\"), /*#__PURE__*/_createElementVNode(\"th\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Active\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_19 = [\"src\"];\nconst _hoisted_20 = [\"id\", \"data-bs-target\"];\nconst _hoisted_21 = [\"id\"];\nconst _hoisted_22 = {\n  class: \"modal-dialog modal-dialog-centered modal-dialog-scrollable\"\n};\nconst _hoisted_23 = {\n  class: \"modal-content\"\n};\n\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"modal-header\"\n}, [/*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"modal-title\"\n}, \"User Profile\"), /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\",\n  \"aria-label\": \"Close\"\n})], -1\n/* HOISTED */\n));\n\nconst _hoisted_25 = {\n  class: \"modal-body\"\n};\nconst _hoisted_26 = {\n  class: \"row justify-content-center\"\n};\nconst _hoisted_27 = {\n  class: \"row\"\n};\nconst _hoisted_28 = {\n  class: \"col me-lg-3 me-md-2\"\n};\nconst _hoisted_29 = {\n  class: \"row text-center\"\n};\nconst _hoisted_30 = [\"src\"];\nconst _hoisted_31 = {\n  class: \"col\"\n};\nconst _hoisted_32 = {\n  class: \"row text-center\"\n};\nconst _hoisted_33 = {\n  class: \"container-fluid rounded\",\n  style: {\n    \"border\": \"1px solid #008970\",\n    \"color\": \"#008970\"\n  }\n};\n\nconst _hoisted_34 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_35 = {\n  class: \"row pb-5\"\n};\nconst _hoisted_36 = {\n  class: \"col text-start\"\n};\n\nconst _hoisted_37 = /*#__PURE__*/_createTextVNode(\"User Type: \");\n\nconst _hoisted_38 = {\n  style: {\n    \"color\": \"black\"\n  }\n};\n\nconst _hoisted_39 = /*#__PURE__*/_createTextVNode(\"Activity: \");\n\nconst _hoisted_40 = {\n  key: 0,\n  class: \"form-check-input\",\n  type: \"checkbox\",\n  checked: \"\",\n  disabled: \"\"\n};\nconst _hoisted_41 = {\n  key: 1,\n  class: \"form-check-input\",\n  type: \"checkbox\",\n  disabled: \"\"\n};\n\nconst _hoisted_42 = /*#__PURE__*/_createTextVNode(\"Email: \");\n\nconst _hoisted_43 = {\n  style: {\n    \"color\": \"black\"\n  }\n};\n\nconst _hoisted_44 = /*#__PURE__*/_createTextVNode(\"Phone: \");\n\nconst _hoisted_45 = {\n  style: {\n    \"color\": \"black\"\n  }\n};\n\nconst _hoisted_46 = /*#__PURE__*/_createTextVNode(\"Address: \");\n\nconst _hoisted_47 = {\n  style: {\n    \"color\": \"black\"\n  }\n};\nconst _hoisted_48 = [\"value\", \"onUpdate:modelValue\", \"disabled\", \"onChange\"];\nconst _hoisted_49 = {\n  \"aria-label\": \"Page navigation\"\n};\nconst _hoisted_50 = {\n  class: \"pagination justify-content-center mt-3\"\n};\nconst _hoisted_51 = {\n  key: 0,\n  class: \"page-item\"\n};\nconst _hoisted_52 = [\"disabled\"];\nconst _hoisted_53 = {\n  key: 1,\n  class: \"page-item mt-auto me-1 ms-1\"\n};\nconst _hoisted_54 = {\n  class: \"page-item\"\n};\nconst _hoisted_55 = [\"disabled\"];\nconst _hoisted_56 = {\n  key: 2,\n  class: \"page-item\"\n};\nconst _hoisted_57 = [\"disabled\"];\nconst _hoisted_58 = {\n  key: 3,\n  class: \"page-item\"\n};\nconst _hoisted_59 = [\"disabled\"];\nconst _hoisted_60 = {\n  key: 4,\n  class: \"page-item mt-auto me-1 ms-1\"\n};\nconst _hoisted_61 = {\n  key: 5,\n  class: \"page-item\"\n};\nconst _hoisted_62 = [\"disabled\"];\n\nconst _hoisted_63 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-1\"\n}, null, -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [$options.hasChanged ? (_openBlock(), _createElementBlock(\"button\", _hoisted_8, \" Save Changes \")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _createElementVNode(\"div\", _hoisted_13, _toDisplayString($options.modalMessage), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.saveChanges && $options.saveChanges(...args)),\n    \"data-bs-dismiss\": \"modal\"\n  }, \"Yes\")])])])]), _createVNode(_component_router_link, {\n    to: \"/admin/newUser\",\n    class: \"btn btn-default mb-1 d-flex my-auto\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n      class: \"my-auto pe-2\",\n      icon: \"user-plus\"\n    }), _hoisted_16]),\n    _: 1\n    /* STABLE */\n\n  })])]), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"table\", null, [_hoisted_18, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.users, (user, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index,\n      class: _normalizeClass(index % 2 !== 0 ? 'odd' : 'even')\n    }, [_createElementVNode(\"td\", null, [user.photo !== null ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: $data.imageUrls[index],\n      style: {\n        \"height\": \"calc(3vh + 10px)\",\n        \"width\": \"calc(3vh + 10px)\",\n        \"object-fit\": \"cover\",\n        \"object-position\": \"center\"\n      },\n      class: \"img-fluid rounded-circle p-0\",\n      alt: \"\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_19)) : (_openBlock(), _createBlock(_component_font_awesome_icon, {\n      key: 1,\n      icon: \"user\",\n      class: \"rounded-circle\",\n      style: {\n        \"width\": \"3vh\",\n        \"height\": \"3vh\"\n      }\n    }))]), _createElementVNode(\"td\", null, [_createVNode(_component_router_link, {\n      class: \"profile-link\",\n      to: '/admin/user/' + user.id\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(user.name + \" \" + user.surname), 1\n      /* TEXT */\n      )]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"to\"])]), _createElementVNode(\"td\", null, _toDisplayString(this.userRole(user)), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      id: index,\n      class: \"eye-btn border-0 text-decoration-none\",\n      type: \"button\",\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": '#profileModal' + index\n    }, [_createVNode(_component_font_awesome_icon, {\n      class: \"text-decoration-underline\",\n      icon: \"eye\"\n    })], 8\n    /* PROPS */\n    , _hoisted_20), _createElementVNode(\"div\", {\n      class: \"modal fade\",\n      id: 'profileModal' + index,\n      tabindex: \"-1\",\n      \"aria-labelledby\": \"exampleModalLabel\",\n      \"aria-hidden\": \"true\"\n    }, [_createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_hoisted_24, _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"div\", _hoisted_29, [user.photo !== null ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: $data.imageUrls[index],\n      class: \"img-fluid rounded p-0\",\n      alt: \"\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_30)) : (_openBlock(), _createBlock(_component_font_awesome_icon, {\n      key: 1,\n      icon: \"user\",\n      class: \"img-fluid rounded p-0\",\n      style: {\n        \"background-color\": \"#B0B8B4FF\",\n        \"color\": \"white\"\n      }\n    }))])]), _createElementVNode(\"div\", _hoisted_31, [_createElementVNode(\"div\", _hoisted_32, [_createElementVNode(\"div\", _hoisted_33, [_createElementVNode(\"h5\", null, _toDisplayString(user.name + \" \" + user.surname), 1\n    /* TEXT */\n    ), _hoisted_34, _createElementVNode(\"div\", _hoisted_35, [_createElementVNode(\"div\", _hoisted_36, [_createElementVNode(\"h6\", null, [_hoisted_37, _createElementVNode(\"span\", _hoisted_38, _toDisplayString($options.userRole(user)), 1\n    /* TEXT */\n    )]), _createElementVNode(\"h6\", null, [_hoisted_39, user.isActive && !$options.userIsChanged(user.id) || !user.isActive && $options.userIsChanged(user.id) ? (_openBlock(), _createElementBlock(\"input\", _hoisted_40)) : (_openBlock(), _createElementBlock(\"input\", _hoisted_41))]), _createElementVNode(\"h6\", null, [_hoisted_42, _createElementVNode(\"span\", _hoisted_43, _toDisplayString(user.email), 1\n    /* TEXT */\n    )]), _createElementVNode(\"h6\", null, [_hoisted_44, _createElementVNode(\"span\", _hoisted_45, _toDisplayString(user.phone), 1\n    /* TEXT */\n    )]), _createElementVNode(\"h6\", null, [_hoisted_46, _createElementVNode(\"span\", _hoisted_47, _toDisplayString(user.address.street + \" \" + (user.address.number ? user.address.number : \"\") + \", \" + user.address.city + \", \" + user.address.country), 1\n    /* TEXT */\n    )])])])])])])])])])])])], 8\n    /* PROPS */\n    , _hoisted_21)]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      class: \"form-check-input\",\n      type: \"checkbox\",\n      value: !user.isActive,\n      \"onUpdate:modelValue\": $event => user.isActive = $event,\n      disabled: !user.isDeletable,\n      onChange: $event => $options.changedStatus(user)\n    }, null, 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_48), [[_vModelCheckbox, user.isActive]])])], 2\n    /* CLASS */\n    );\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])]), _createElementVNode(\"nav\", _hoisted_49, [_createElementVNode(\"ul\", _hoisted_50, [$data.totalPages > 1 ? (_openBlock(), _createElementBlock(\"li\", _hoisted_51, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    disabled: $data.currentPage === 0,\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.previousPage && $options.previousPage(...args))\n  }, \"Previous\", 8\n  /* PROPS */\n  , _hoisted_52)])) : _createCommentVNode(\"v-if\", true), $data.currentPage > 1 && $data.totalPages > 3 ? (_openBlock(), _createElementBlock(\"li\", _hoisted_53, \"...\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"li\", _hoisted_54, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    disabled: $data.currentPage === 0,\n    onClick: _cache[2] || (_cache[2] = $event => $options.numberedPage(1))\n  }, _toDisplayString($options.button1Content), 9\n  /* TEXT, PROPS */\n  , _hoisted_55)]), $data.totalPages > 1 ? (_openBlock(), _createElementBlock(\"li\", _hoisted_56, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    disabled: $data.currentPage !== 0 && $data.totalPages - $data.currentPage > 1,\n    onClick: _cache[3] || (_cache[3] = $event => $options.numberedPage(2))\n  }, _toDisplayString($options.button2Content), 9\n  /* TEXT, PROPS */\n  , _hoisted_57)])) : _createCommentVNode(\"v-if\", true), $data.totalPages > 2 ? (_openBlock(), _createElementBlock(\"li\", _hoisted_58, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    disabled: $data.totalPages - $data.currentPage === 1,\n    onClick: _cache[4] || (_cache[4] = $event => $options.numberedPage(3))\n  }, _toDisplayString($options.button3Content), 9\n  /* TEXT, PROPS */\n  , _hoisted_59)])) : _createCommentVNode(\"v-if\", true), $data.totalPages - $data.currentPage > 1 && $data.totalPages > 3 && $options.button3Content !== $data.totalPages ? (_openBlock(), _createElementBlock(\"li\", _hoisted_60, \"...\")) : _createCommentVNode(\"v-if\", true), $data.totalPages > 1 ? (_openBlock(), _createElementBlock(\"li\", _hoisted_61, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    disabled: $data.totalPages - $data.currentPage === 1,\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.nextPage && $options.nextPage(...args))\n  }, \"Next\", 8\n  /* PROPS */\n  , _hoisted_62)])) : _createCommentVNode(\"v-if\", true)])])])])]), _hoisted_63])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","id","tabindex","type","style","checked","disabled","_createElementBlock","_hoisted_2","$options","_hoisted_12","_toDisplayString","_hoisted_15","onClick","_createVNode","_component_router_link","to","_component_font_awesome_icon","icon","_hoisted_18","_Fragment","_renderList","users","user","index","key","photo","src","$data","alt","_createBlock","name","surname","userRole","_hoisted_24","_hoisted_34","isActive","email","phone","address","street","number","city","country","value","$event","isDeletable","onChange","_hoisted_52","_hoisted_55","_hoisted_57","_hoisted_59","_hoisted_62","_hoisted_63"],"sourceRoot":"","sources":["C:\\Users\\Saška\\Downloads\\MRS_ISA\\isa_mrs_projekat_front\\src\\components\\Administrator\\AdminPage\\components\\AdminMainViews\\AdminUsersView.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-1\"></div>\r\n    <div class=\"col-10 pt-5 mb-5\">\r\n      <div class=\"container-fluid pe-0 ps-0 me-0 ms-0\">\r\n        <div class=\"align-items-center\">\r\n          <div class=\"row main-col\">\r\n            <div class=\"col d-flex justify-content-end pe-0 me-0\">\r\n              <button v-if=\"hasChanged\" class=\"btn btn-red my-auto mb-1 me-1\" data-bs-toggle=\"modal\" data-bs-target=\"#confirmationDialog\">\r\n                Save Changes\r\n              </button>\r\n              <div class=\"modal fade\" id=\"confirmationDialog\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div class=\"modal-dialog\">\r\n                  <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                      <h5 class=\"modal-title\" id=\"exampleModalLabel\">Users' Status Change</h5>\r\n                      <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                      {{modalMessage}}\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                      <button type=\"button\" class=\"btn btn-red\" style=\"margin-right: 2vh;\" data-bs-dismiss=\"modal\">No</button>\r\n                      <button type=\"button\" class=\"btn\" @click=\"saveChanges\" data-bs-dismiss=\"modal\">Yes</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <router-link to=\"/admin/newUser\" class=\"btn btn-default mb-1 d-flex my-auto\">\r\n                <font-awesome-icon class=\"my-auto pe-2\" icon=\"user-plus\"></font-awesome-icon>\r\n                Create User\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n          <div class=\"row main-col text-center header rounded mb-3\">\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th></th>\r\n                  <th>Name</th>\r\n                  <th>User Type</th>\r\n                  <th></th>\r\n                  <th>Active</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(user, index) in this.users\" :key=\"index\" :class=\"index%2!==0?'odd':'even'\">\r\n                  <td>\r\n                    <img v-if=\"user.photo !== null\" :src=\"imageUrls[index]\" style=\"height: calc(3vh + 10px);width: calc(3vh + 10px); object-fit: cover; object-position: center;\" class=\"img-fluid rounded-circle p-0\" alt=\"\">\r\n                    <font-awesome-icon v-else icon=\"user\" class=\"rounded-circle\" style=\"width: 3vh; height: 3vh\"></font-awesome-icon>\r\n                  </td>\r\n                  <td>\r\n                    <router-link class=\"profile-link\" :to=\"'/admin/user/' + user.id\">{{user.name + \" \" + user.surname}}</router-link>\r\n                  </td>\r\n                  <td>\r\n                    {{this.userRole(user)}}\r\n                  </td>\r\n                  <td>\r\n                    <button :id=\"index\" class=\"eye-btn border-0 text-decoration-none\" type=\"button\" data-bs-toggle=\"modal\" :data-bs-target=\"'#profileModal' + index\">\r\n                      <font-awesome-icon class=\"text-decoration-underline\" icon=\"eye\"></font-awesome-icon>\r\n                    </button>\r\n                    <div class=\"modal fade\" :id=\"'profileModal' + index\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                      <div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n                        <div class=\"modal-content\">\r\n                          <div class=\"modal-header\">\r\n                            <h5 class=\"modal-title\">User Profile</h5>\r\n                            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                          </div>\r\n                          <div class=\"modal-body\">\r\n                            <div class=\"row justify-content-center\">\r\n                              <div class=\"row\">\r\n                                <div class=\"col me-lg-3 me-md-2\">\r\n                                  <div class=\"row text-center\">\r\n                                    <img v-if=\"user.photo !== null\" :src=\"imageUrls[index]\" class=\"img-fluid rounded p-0\" alt=\"\">\r\n                                    <font-awesome-icon v-else icon=\"user\" class=\"img-fluid rounded p-0\" style=\"background-color: #B0B8B4FF; color: white\"></font-awesome-icon>\r\n                                  </div>\r\n                                </div>\r\n                                <div class=\"col\">\r\n                                  <div class=\"row text-center\">\r\n                                    <div class=\"container-fluid rounded\" style=\"border: 1px solid #008970; color: #008970\" >\r\n                                      <h5>{{user.name + \" \" + user.surname}}</h5>\r\n                                      <hr>\r\n                                      <div class=\"row pb-5\">\r\n                                        <div class=\"col text-start\">\r\n                                          <h6>User Type: <span style=\"color: black\">{{userRole(user)}}</span></h6>\r\n                                          <h6>Activity:\r\n                                            <input v-if=\"(user.isActive && !userIsChanged(user.id)) || (!user.isActive && userIsChanged(user.id))\" class=\"form-check-input\" type=\"checkbox\" checked disabled>\r\n                                            <input v-else class=\"form-check-input\" type=\"checkbox\" disabled></h6>\r\n                                          <h6>Email: <span style=\"color: black\">{{user.email}}</span></h6>\r\n                                          <h6>Phone: <span style=\"color: black\">{{user.phone}}</span></h6>\r\n                                          <h6>Address: <span style=\"color: black\">{{user.address.street + \" \" + (user.address.number?user.address.number:\"\") + \", \" + user.address.city + \", \" + user.address.country}}</span></h6>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <input class=\"form-check-input\" type=\"checkbox\" :value=\"!user.isActive\" v-model=\"user.isActive\" :disabled=\"!user.isDeletable\" @change=\"changedStatus(user)\">\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <nav aria-label=\"Page navigation\">\r\n              <ul class=\"pagination justify-content-center mt-3\">\r\n                <li class=\"page-item\" v-if=\"totalPages > 1\"><button class=\"page-link\" :disabled=\"currentPage===0\" @click=\"previousPage\">Previous</button></li>\r\n                <li class=\"page-item mt-auto me-1 ms-1\" v-if=\"currentPage > 1 && totalPages > 3\">...</li>\r\n                <li class=\"page-item\"><button class=\"page-link\" :disabled=\"currentPage === 0\" @click=\"numberedPage(1)\">{{button1Content}}</button></li>\r\n                <li class=\"page-item\" v-if=\"totalPages > 1\"><button class=\"page-link\" :disabled=\"currentPage !== 0 && totalPages - currentPage > 1\" @click=\"numberedPage(2)\">{{button2Content}}</button></li>\r\n                <li class=\"page-item\" v-if=\"totalPages > 2\"><button class=\"page-link\" :disabled=\"totalPages - currentPage === 1\" @click=\"numberedPage(3)\">{{button3Content}}</button></li>\r\n                <li class=\"page-item mt-auto me-1 ms-1\" v-if=\"totalPages - currentPage > 1 && totalPages > 3 && button3Content !== totalPages\">...</li>\r\n                <li class=\"page-item\" v-if=\"totalPages > 1\"><button class=\"page-link\" :disabled=\"totalPages - currentPage === 1\" @click=\"nextPage\">Next</button></li>\r\n              </ul>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    <div class=\"col-1\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {FontAwesomeIcon} from \"@fortawesome/vue-fontawesome\";\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { faUserPlus, faEye } from \"@fortawesome/free-solid-svg-icons\";\r\nimport {useStore} from \"vuex\";\r\nimport axios from \"axios\";\r\nimport store from \"@/store\";\r\nimport {toggleLoading, toggleProcessing} from \"@/components/state\";\r\n\r\nlibrary.add(faUserPlus, faEye);\r\n\r\nexport default {\r\n  name: \"AdminUsersView\",\r\n  components: {FontAwesomeIcon},\r\n  data() {\r\n    return {\r\n      users: [],\r\n      selectedUser: null,\r\n      selectedUsersRole: null,\r\n      changedUsers: [],\r\n      imageUrls: [],\r\n      currentPage: 0,\r\n      totalPages: null,\r\n      pageSize: 10\r\n    }\r\n  },\r\n  methods: {\r\n    loadImage(name, index) {\r\n      axios.get(\"/Photos/\", {headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        },\r\n        params: {\r\n          path: name,\r\n        },\r\n        responseType: \"blob\"\r\n      })\r\n          .then(response => {\r\n            this.imageUrls[index] = URL.createObjectURL(response.data);\r\n          })\r\n          .catch((error) =>{\r\n            console.log(error);\r\n          });\r\n    },\r\n    saveChanges() {\r\n      toggleProcessing();\r\n      let ids = this.changedUsersIds;\r\n      let lwc = {list: ids};\r\n      axios.put(\"/Users/multipleUserStatusChange\",\r\n          lwc,\r\n          {headers: {\r\n          Authorization: \"Bearer \" + store.state.access_token,\r\n        }\r\n      })\r\n      .then((response) => {\r\n        let message = \"You have successfully changed status for users:\";\r\n        response.data.forEach((user) => {message += \" \" + user.name + \" \" + user.surname + \",\"});\r\n        message = message.slice(0, -1);\r\n        message += \".\";\r\n        this.$notify({\r\n          title: \"Status Change Successful\",\r\n          text: message,\r\n          type: \"success\"\r\n        });\r\n        this.changedUsers = [];\r\n        toggleProcessing();\r\n      })\r\n      .catch(() =>{\r\n        this.$notify({\r\n          title: \"Server error\",\r\n          text: \"Something went wrong. Please try again later...\",\r\n          type: \"error\"\r\n        });\r\n        toggleProcessing();\r\n      })\r\n    },\r\n    changedStatus(user) {\r\n      let index = this.changedUsers.findIndex(element => element.id === user.id);\r\n      if (index > -1) {\r\n        this.changedUsers.splice(index, 1);\r\n      } else {\r\n        this.changedUsers.push(user);\r\n      }\r\n    },\r\n    userRole(user) {\r\n      if (user.userType === \"Instructor\") {\r\n        return \"Fishing Instructor\";\r\n      } else if (user.userType === \"VacationRentalOwner\") {\r\n        return \"House Owner\";\r\n      } else if (user.userType === \"BoatOwner\") {\r\n        return \"Boat Owner\";\r\n      } else if (user.userType === \"SuperAdmin\") {\r\n        return \"Supreme Admin\";\r\n      } else {\r\n        return user.userType;\r\n      }\r\n    },\r\n    userIsChanged(userId) {\r\n      let index = this.changedUsers.findIndex(element => element.id === userId);\r\n      return index > -1;\r\n    },\r\n    nextPage() {\r\n      this.currentPage += 1;\r\n      this.refreshPage();\r\n    },\r\n    previousPage() {\r\n      this.currentPage -= 1;\r\n      this.refreshPage();\r\n    },\r\n    numberedPage(buttonNumber) {\r\n      if (buttonNumber === 1) {\r\n        this.currentPage = this.button1Content - 1;\r\n      } else if (buttonNumber === 2) {\r\n        this.currentPage = this.button2Content - 1;\r\n      } else if (buttonNumber === 3) {\r\n        this.currentPage = this.button3Content - 1;\r\n      }\r\n      this.refreshPage();\r\n    },\r\n    refreshPage() {\r\n      toggleLoading();\r\n      axios.get(\"/Users/getUsersPage\", {headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        },\r\n        params: {\r\n          page: this.currentPage,\r\n          pageSize: this.pageSize\r\n        }\r\n      })\r\n          .then(response => {\r\n            this.users = response.data.content;\r\n            this.changedUsers.forEach(user =>\r\n            { this.users.forEach( user1 =>\r\n              { if (user.id === user1.id && user.isActive !== user1.isActive) {\r\n                user1.isActive = user.isActive;\r\n                }\r\n              });\r\n            });\r\n            this.currentPage = response.data.currentPage;\r\n            this.totalPages = response.data.pages;\r\n            toggleLoading();\r\n          })\r\n          .catch(() =>{\r\n            this.$notify({\r\n              title: \"Server error\",\r\n              text: \"Server is currently off. Please try again later...\",\r\n              type: \"error\"\r\n            });\r\n            toggleLoading();\r\n          });\r\n    }\r\n  },\r\n  mounted() {\r\n    toggleLoading();\r\n    const store = useStore();\r\n    axios.get(\"/Users/getUsersPage\", {headers: {\r\n        Authorization: \"Bearer \" + store.state.access_token,\r\n        },\r\n        params: {\r\n          page: this.currentPage,\r\n          pageSize: this.pageSize\r\n        }\r\n      })\r\n    .then(response => {\r\n      this.users = response.data.content;\r\n      this.currentPage = response.data.currentPage;\r\n      this.totalPages = response.data.pages;\r\n      this.users.forEach(user => {\r\n        if (user.photo) {\r\n          const index = this.users.indexOf(user);\r\n          this.loadImage(user.photo, index);\r\n        }\r\n      });\r\n      toggleLoading();\r\n    })\r\n    .catch(() =>{\r\n      this.$notify({\r\n        title: \"Server error\",\r\n        text: \"Server is currently off. Please try again later...\",\r\n        type: \"error\"\r\n      });\r\n      toggleLoading();\r\n    });\r\n  },\r\n  computed: {\r\n    button1Content() {\r\n      return this.currentPage === 0 ? this.currentPage+1: this.totalPages - this.currentPage === 1 ? this.currentPage - 1 : this.currentPage;\r\n    },\r\n    button2Content() {\r\n      return this.currentPage === 0 ? this.currentPage+2: this.totalPages - this.currentPage === 1 ? this.currentPage : this.currentPage+1;\r\n    },\r\n    button3Content() {\r\n      return this.currentPage === 0 ? this.currentPage+3: this.totalPages - this.currentPage === 1 ? this.currentPage + 1 : this.currentPage+2;\r\n    },\r\n    isSuperAdmin() {\r\n      return store.state.isSuperAdmin;\r\n    },\r\n    hasChanged() {\r\n      return this.changedUsers.length > 0;\r\n    },\r\n    changedUsersIds() {\r\n      let ids = [];\r\n      this.changedUsers.forEach(user => {ids.push(user.id)});\r\n      return ids;\r\n    },\r\n    modalMessage() {\r\n      let numberOfDeletedUsers = this.numberOfDeletedUsers;\r\n      let numberOfActivatedUsers = this.numberOfActivatedUsers;\r\n      let deleteMessage = \"\";\r\n      let activateMessage = \"\";\r\n      if (numberOfDeletedUsers > 1) {\r\n        deleteMessage = \"Do you want to delete users:\";\r\n      } else if (numberOfDeletedUsers === 1) {\r\n        deleteMessage = \"Do you want to delete user:\";\r\n      }\r\n      if (numberOfActivatedUsers > 1) {\r\n        activateMessage = \"Do you want to activate users:\";\r\n      } else if (numberOfActivatedUsers === 1) {\r\n        activateMessage = \"Do you want to activate user:\";\r\n      }\r\n      this.changedUsers.forEach(user => {\r\n        if (!user.isActive) {\r\n          deleteMessage += \" \" + user.name + \" \" + user.surname + \",\\n\";\r\n        } else {\r\n          activateMessage += \" \" + user.name + \" \" + user.surname + \",\\n\";\r\n        }\r\n      });\r\n      if (numberOfDeletedUsers > 0) {\r\n        deleteMessage = deleteMessage.slice(0, -2);\r\n        deleteMessage += \"?\";\r\n      }\r\n      if (numberOfActivatedUsers > 0) {\r\n        activateMessage = activateMessage.slice(0, -2);\r\n        activateMessage += \"?\";\r\n      }\r\n      return deleteMessage + \"\\n\" + activateMessage;\r\n    },\r\n    numberOfDeletedUsers() {\r\n      let counter = 0;\r\n      this.changedUsers.forEach(user => {\r\n        if (!user.isActive) {\r\n          counter += 1;\r\n        }\r\n      });\r\n      return counter;\r\n    },\r\n    numberOfActivatedUsers() {\r\n      let counter = 0;\r\n      this.changedUsers.forEach(user => {\r\n        if (user.isActive) {\r\n          counter += 1;\r\n        }\r\n      });\r\n      return counter;\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.rounded-circle {\r\n  background-color:  rgba(176, 184, 180);\r\n  color: white;\r\n  padding: 10px;\r\n}\r\n\r\n.profile-link {\r\n  color: #008970;\r\n}\r\n\r\n.modal-title {\r\n  color: #008970;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}