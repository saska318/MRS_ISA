{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../../../Images/noProfilePic.png';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-84ddbd5e\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"row\"\n};\nconst _hoisted_2 = {\n  class: \"col-12 d-flex justify-content-center align-items-center\"\n};\nconst _hoisted_3 = {\n  class: \"row p-0 m-0\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"reviews\"\n};\nconst _hoisted_5 = {\n  class: \"review-header\"\n};\nconst _hoisted_6 = {\n  class: \"align-items-center\",\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"space-between\"\n  }\n};\nconst _hoisted_7 = {\n  style: {\n    \"display\": \"flex\"\n  }\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  key: 1,\n  class: \"profile-pic rounded-pill\",\n  src: _imports_0,\n  alt: \"\"\n};\nconst _hoisted_10 = {\n  class: \"ms-1\"\n};\nconst _hoisted_11 = {\n  class: \"small\",\n  style: {\n    \"color\": \"gray\"\n  }\n};\nconst _hoisted_12 = {\n  class: \"h3 pe-2\"\n};\nconst _hoisted_13 = {\n  class: \"review-body\",\n  style: {\n    \"text-align\": \"justify\",\n    \"color\": \"black\"\n  }\n};\nconst _hoisted_14 = {\n  key: 0,\n  class: \"ps-1 pe-2\"\n};\nconst _hoisted_15 = {\n  key: 1,\n  class: \"text-center\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", null, [/*#__PURE__*/_createElementVNode(\"i\", null, \"No reviews available.\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_17 = [_hoisted_16];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_star_rating = _resolveComponent(\"star-rating\");\n\n  return $props.reviews ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_star_rating, {\n    class: \"mb-5\",\n    \"text-class\": \"h1 my-0 font-weight-normal\",\n    \"round-start-rating\": false,\n    glow: 5,\n    \"glow-color\": \"#ffd055\",\n    \"star-size\": 75,\n    \"read-only\": true,\n    rating: $props.grade\n  }, null, 8\n  /* PROPS */\n  , [\"rating\"])]), _createElementVNode(\"div\", _hoisted_3, [$options.ownerHasReviews ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.sortedReviews, (review, i) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: i,\n      class: \"review p-2 mb-3\",\n      style: {\n        \"background-color\": \"#e4f6f8\"\n      }\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [$data.images[i] ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      class: \"profile-pic rounded-pill\",\n      src: $data.images[i],\n      alt: \"\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_8)) : (_openBlock(), _createElementBlock(\"img\", _hoisted_9)), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"h6\", null, _toDisplayString($options.getAuthorFullName(review)), 1\n    /* TEXT */\n    ), _createElementVNode(\"p\", _hoisted_11, _toDisplayString($options.formatReviewDate(review.timeStamp)), 1\n    /* TEXT */\n    )])]), _createElementVNode(\"p\", _hoisted_12, _toDisplayString(review.grade + \"★\"), 1\n    /* TEXT */\n    )])]), _createElementVNode(\"div\", _hoisted_13, [review.comment ? (_openBlock(), _createElementBlock(\"p\", _hoisted_14, _toDisplayString(review.comment), 1\n    /* TEXT */\n    )) : _createCommentVNode(\"v-if\", true)])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_15, _hoisted_17))])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"mappings":";OAc6DA,gBAAsC;;;;;;AAb7EC,OAAK,EAAC;;;AACnBA,OAAK,EAAC;;;AAKNA,OAAK,EAAC;;;;AACmBA,OAAK,EAAC;;;AAEzBA,OAAK,EAAC;;;AACJA,OAAK,EAAC;AAAqBC,OAAsD,EAAtD;AAAA;AAAA;AAAA;;;AACzBA,OAAsB,EAAtB;AAAA;AAAA;;;;;AAESD,OAAK,EAAC;AAA2BE,KAAsC,EAAtCH;AAAuCI,KAAG,EAAC;;;AACnFH,OAAK,EAAC;;;AAENA,OAAK,EAAC;AAAQC,OAAoB,EAApB;AAAA;AAAA;;;AAGlBD,OAAK,EAAC;;;AAGRA,OAAK,EAAC;AAAcC,OAA0C,EAA1C;AAAA;AAAA;AAAA;;;;AACED,OAAK,EAAC;;;;AAIzBA,OAAK,EAAC;;;iEAChBI,oBAA2C,OAA3C,EAA2C,IAA3C,EAA2C,cAApCA,oBAA4B,GAA5B,EAA4B,IAA5B,EAAG,uBAAH,CAAoC,CAA3C;;AAAA;;qBAAAC;;;;SA5BKC,gCAAXC,oBA+BM,KA/BN,cA+BM,CA9BJH,oBAIM,KAJN,cAIM,CAHJI,aAEcC,sBAFd,EAEc;AAFDT,SAAK,EAAC,MAEL;AAFY,kBAAW,4BAEvB;AAFqD,0BAAoB,KAEzE;AADAU,QAAI,EAAE,CACN;AADS,kBAAW,SACpB;AAD+B,iBAAW,EAC1C;AAD+C,iBAAW,IAC1D;AADiEC,UAAM,EAAEL;AACzE,GAFd;;AAAA,eAGI,CAJN,CA8BI,EAzBJF,oBAwBM,KAxBN,cAwBM,CAvBOQ,0CAAXL,oBAmBM,KAnBN,cAmBM,oBAlBJA,oBAiBMM,SAjBN,EAiBM,IAjBN,EAiBMC,iBAjB0BC,aAiB1B,EAjBuC,CAAhCC,MAAgC,EAAxBC,CAAwB,KAAvB;yBAAtBV,oBAiBM,KAjBN,EAiBM;AAjB0CW,SAAG,EAAED,CAiB/C;AAjBkDjB,WAAK,EAAC,iBAiBxD;AAjB0EC,WAAkC,EAAlC;AAAA;AAAA;AAiB1E,KAjBN,GACEG,oBAYM,KAZN,cAYM,CAXJA,oBAUM,KAVN,cAUM,CATJA,oBAOM,KAPN,cAOM,CANOe,aAAOF,CAAP,mBAAXV,oBAAgF,KAAhF,EAAgF;YAAA;AAA1DP,WAAK,EAAC,0BAAoD;AAAxBE,SAAG,EAAEiB,aAAOF,CAAP,CAAmB;AAARd,SAAG,EAAC;AAAI,KAAhF;;AAAA,oCACAI,oBAA4F,KAA5F,cAKI,EAJJH,oBAGM,KAHN,eAGM,CAFJA,oBAAwC,IAAxC,EAAwC,IAAxC,EAAwCgB,iBAAjCR,2BAAkBI,MAAlB,CAAiC,CAAxC,EAA+B;AAAA;AAA/B,KAEI,EADJZ,oBAAkF,GAAlF,eAAkFgB,iBAAzCR,0BAAiBI,MAAM,CAACK,SAAxB,CAAyC,CAAlF,EAA0E;AAAA;AAA1E,KACI,CAHN,CAII,CAPN,CASI,EADJjB,oBAA+C,GAA/C,eAA+CgB,iBAAzBJ,MAAM,CAACM,KAAP,GAAY,GAAa,CAA/C,EAAkC;AAAA;AAAlC,KACI,CAVN,CAWI,CAZN,GAaAlB,oBAEM,KAFN,eAEM,CADKY,MAAM,CAACO,yBAAhBhB,oBAAmE,GAAnE,eAAmEa,iBAArBJ,MAAM,CAACO,OAAc,CAAnE,EAA4D;AAAA;AAA5D,0CACI,CAFN,EAdF;GAiBM,CAjBN;;AAAA,GAkBI,EAnBN,oBAoBAhB,oBAEM,KAFN,eAEMiB,WAFN,EAGI,CAxBN,CAyBI,CA/BN","names":["_imports_0","class","style","src","alt","_createElementVNode","_hoisted_16","$props","_createElementBlock","_createVNode","_component_star_rating","glow","rating","$options","_Fragment","_renderList","sortedReviews","review","i","key","$data","_toDisplayString","timeStamp","grade","comment","_hoisted_17"],"sourceRoot":"","sources":["C:\\Users\\Saška\\Downloads\\MRS_ISA\\isa_mrs_projekat_front\\src\\components\\UnregisteredUser\\components\\Instructor\\InstructorProfileReviews.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"reviews\" class=\"row\">\r\n    <div class=\"col-12 d-flex justify-content-center align-items-center\">\r\n      <star-rating class=\"mb-5\" text-class=\"h1 my-0 font-weight-normal\" :round-start-rating=\"false\"\r\n                   :glow=\"5\" glow-color=\"#ffd055\" :star-size=\"75\" :read-only=\"true\" :rating=\"grade\">\r\n      </star-rating>\r\n    </div>\r\n    <div class=\"row p-0 m-0\">\r\n      <div v-if=\"ownerHasReviews\" class=\"reviews\">\r\n        <div v-for=\"(review, i) in this.sortedReviews\" :key=\"i\" class=\"review p-2 mb-3\" style=\"background-color: #e4f6f8;\">\r\n          <div class=\"review-header\">\r\n            <div class=\"align-items-center\" style=\"display:flex; justify-content: space-between; \">\r\n              <div style=\"display: flex;\">\r\n                <img v-if=\"images[i]\" class=\"profile-pic rounded-pill\" :src=\"images[i]\" alt=\"\"/>\r\n                <img v-else class=\"profile-pic rounded-pill\" src=\"../../../Images/noProfilePic.png\" alt=\"\"/>\r\n                <div class=\"ms-1\">\r\n                  <h6>{{ getAuthorFullName(review) }}</h6>\r\n                  <p class=\"small\" style=\"color: gray;\">{{ formatReviewDate(review.timeStamp) }}</p>\r\n                </div>\r\n              </div>\r\n              <p class=\"h3 pe-2\">{{ review.grade + \"★\" }}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"review-body\" style=\"text-align: justify; color: black;\">\r\n            <p v-if=\"review.comment\" class=\"ps-1 pe-2\">{{ review.comment }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"text-center\">\r\n        <label><i>No reviews available.</i></label>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StarRating from \"vue-star-rating\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"InstructorProfileReviews\",\r\n  props: [\"reviews\", \"grade\"],\r\n  components: {StarRating},\r\n  data() {\r\n    return {\r\n      images: [],\r\n      sortedReviews: [],\r\n    }\r\n  },\r\n  computed: {\r\n    ownerHasReviews() {\r\n      return this.reviews.length > 0;\r\n    }\r\n  },\r\n  methods: {\r\n    getAuthorFullName(review) {\r\n      return review.author.name + \" \" + review.author.surname;\r\n    },\r\n    formatReviewDate(reviewTime) {\r\n      let date = new Date(reviewTime);\r\n      return date.getDate() + '.' + (date.getMonth() + 1) + '.' +  date.getFullYear() + '. at '\r\n          + date.getHours() + ':' + ( (date.getMinutes()<10?'0':'') + date.getMinutes() );\r\n    },\r\n  },\r\n  mounted() {\r\n    this.sortedReviews = this.reviews;\r\n    this.sortedReviews = this.sortedReviews.sort((a, b) => new Date(b.timeStamp) > new Date(a.timeStamp) ? 1: -1);\r\n    this.images = [];\r\n    for(let i=0; i<this.sortedReviews.length; i++) {\r\n      if(!this.reviews[i].author.photo) { this.images[i] = null; continue; }\r\n      axios.get(\"/Photos/\", {\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        },\r\n        params: {\r\n          path: this.reviews[i].author.photo,\r\n        },\r\n        responseType: \"blob\"\r\n      })\r\n      .then(response => {\r\n        this.images[i] = URL.createObjectURL(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\nhr {\r\n  flex-grow: 1;\r\n}\r\n\r\n.review .profile-pic {\r\n  width: 50px;\r\n  height: 50px;\r\n  object-fit: cover;\r\n  object-position: center;\r\n}\r\n\r\ndiv.review {\r\n  border-radius: 25px;\r\n  border: 1px solid darkgray;\r\n}\r\n\r\ndiv.review:hover {\r\n  border: 3px solid black;\r\n}\r\n\r\ndiv.review {\r\n  background-color: white\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}