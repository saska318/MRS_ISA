{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8407be7c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"row\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"col-8 pt-5 mb-5\"\n};\nconst _hoisted_4 = {\n  class: \"container px-4 py-3 rounded form\",\n  spellcheck: \"false\"\n};\nconst _hoisted_5 = {\n  class: \"container-fluid\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Edit personal data\", -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"row\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_8 = {\n  class: \"row main justify-content-center\"\n};\nconst _hoisted_9 = {\n  class: \"row main\"\n};\nconst _hoisted_10 = {\n  class: \"col main\"\n};\nconst _hoisted_11 = {\n  class: \"row\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-4\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_13 = {\n  class: \"col-6\"\n};\nconst _hoisted_14 = {\n  class: \"row\"\n};\n\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\"\n}, \"Name\", -1\n/* HOISTED */\n));\n\nconst _hoisted_16 = {\n  key: 0\n};\nconst _hoisted_17 = {\n  class: \"row\"\n};\n\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"surname\"\n}, \"Surname\", -1\n/* HOISTED */\n));\n\nconst _hoisted_19 = {\n  key: 0\n};\nconst _hoisted_20 = {\n  class: \"row\"\n};\n\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\"\n}, \"Email\", -1\n/* HOISTED */\n));\n\nconst _hoisted_22 = {\n  key: 0\n};\nconst _hoisted_23 = {\n  class: \"row\"\n};\n\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"phone\"\n}, \"Phone\", -1\n/* HOISTED */\n));\n\nconst _hoisted_25 = {\n  key: 0\n};\n\nconst _hoisted_26 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_27 = {\n  class: \"col main\"\n};\nconst _hoisted_28 = {\n  class: \"row\"\n};\n\nconst _hoisted_29 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_30 = {\n  class: \"col-6\"\n};\nconst _hoisted_31 = {\n  class: \"row\"\n};\n\nconst _hoisted_32 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"country\"\n}, \"Country\", -1\n/* HOISTED */\n));\n\nconst _hoisted_33 = {\n  key: 0\n};\nconst _hoisted_34 = {\n  key: 1\n};\nconst _hoisted_35 = {\n  class: \"row\"\n};\n\nconst _hoisted_36 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"city\"\n}, \"City\", -1\n/* HOISTED */\n));\n\nconst _hoisted_37 = {\n  key: 0\n};\nconst _hoisted_38 = {\n  key: 1\n};\nconst _hoisted_39 = {\n  class: \"row\"\n};\n\nconst _hoisted_40 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"street\"\n}, \"Street\", -1\n/* HOISTED */\n));\n\nconst _hoisted_41 = {\n  key: 0\n};\nconst _hoisted_42 = {\n  key: 1\n};\nconst _hoisted_43 = {\n  class: \"row\"\n};\n\nconst _hoisted_44 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"number\"\n}, \"Number\", -1\n/* HOISTED */\n));\n\nconst _hoisted_45 = {\n  key: 0\n};\nconst _hoisted_46 = {\n  key: 1\n};\n\nconst _hoisted_47 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-4\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_48 = {\n  class: \"d-flex pt-3 justify-content-center\"\n};\n\nconst _hoisted_49 = /*#__PURE__*/_createTextVNode(\"Cancel\");\n\nconst _hoisted_50 = /*#__PURE__*/_createTextVNode(\"Cancel\");\n\nconst _hoisted_51 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_vue_tel_input = _resolveComponent(\"vue-tel-input\");\n\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return this.user ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    type: \"text\",\n    id: \"name\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.user.name = $event),\n    placeholder: \"Name\",\n    onInput: _cache[1] || (_cache[1] = $event => $data.nameIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.name]]), !$data.nameIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_16, \"'Name' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    type: \"text\",\n    id: \"surname\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.user.surname = $event),\n    placeholder: \"Surname\",\n    onInput: _cache[3] || (_cache[3] = $event => $data.surnameIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.surname]]), !$data.surnameIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_19, \"'Surname' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_20, [_hoisted_21, _withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control\",\n    disabled: \"\",\n    type: \"email\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.user.email = $event),\n    placeholder: \"Email\",\n    onInput: _cache[5] || (_cache[5] = $event => $data.emailIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.email]]), !$data.emailIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_22, \"'Email' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_23, [_hoisted_24, _createVNode(_component_vue_tel_input, {\n    modelValue: $data.user.phone,\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.user.phone = $event),\n    id: \"phone\",\n    mode: \"international\",\n    defaultCountry: \"RS\",\n    onlyCountries: $data.onlyCountries,\n    onInput: $options.onTelephoneInput\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\", \"onlyCountries\", \"onInput\"]), !$data.phoneIsValid ? (_openBlock(), _createElementBlock(\"p\", _hoisted_25, \"Invalid phone number.\")) : _createCommentVNode(\"v-if\", true)])]), _hoisted_26])]), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"div\", _hoisted_28, [_hoisted_29, _createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"div\", _hoisted_31, [_hoisted_32, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.user.address.country = $event),\n    class: \"form-control\",\n    type: \"text\",\n    id: \"country\",\n    placeholder: \"Country\",\n    onInput: _cache[8] || (_cache[8] = $event => $data.countryIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.address.country]]), !$data.countryIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_33, \"'Country' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true), !$data.addressIsValid ? (_openBlock(), _createElementBlock(\"p\", _hoisted_34, \"Invalid address data.\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_35, [_hoisted_36, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.user.address.city = $event),\n    class: \"form-control\",\n    type: \"text\",\n    id: \"city\",\n    placeholder: \"City\",\n    onInput: _cache[10] || (_cache[10] = $event => $data.cityIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.address.city]]), !$data.cityIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_37, \"'City' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true), !$data.addressIsValid ? (_openBlock(), _createElementBlock(\"p\", _hoisted_38, \"Invalid address data.\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_39, [_hoisted_40, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.user.address.street = $event),\n    class: \"form-control\",\n    type: \"text\",\n    id: \"street\",\n    placeholder: \"Street\",\n    onInput: _cache[12] || (_cache[12] = $event => $data.streetIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.address.street]]), !$data.streetIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_41, \"'Street' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true), !$data.addressIsValid ? (_openBlock(), _createElementBlock(\"p\", _hoisted_42, \"Invalid address data.\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_43, [_hoisted_44, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.user.address.number = $event),\n    class: \"form-control\",\n    type: \"text\",\n    id: \"number\",\n    placeholder: \"House Number\",\n    onInput: _cache[14] || (_cache[14] = $event => $data.numberIsEntered = true)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.user.address.number]]), !$data.numberIsEntered ? (_openBlock(), _createElementBlock(\"p\", _hoisted_45, \"'Number' is a mandatory field.\")) : _createCommentVNode(\"v-if\", true), !$data.addressIsValid ? (_openBlock(), _createElementBlock(\"p\", _hoisted_46, \"Invalid address data.\")) : _createCommentVNode(\"v-if\", true)])]), _hoisted_47])])])]), _createElementVNode(\"div\", _hoisted_48, [$options.isVacationRentalOwner ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 0,\n    to: \"/vacationRentalOwner/profile\",\n    class: \"btn btn-red mt-3 me-1\"\n  }, {\n    default: _withCtx(() => [_hoisted_49]),\n    _: 1\n    /* STABLE */\n\n  })) : $options.isBoatOwner ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 1,\n    to: \"/boatOwner/profile\",\n    class: \"btn btn-red mt-3 me-1\"\n  }, {\n    default: _withCtx(() => [_hoisted_50]),\n    _: 1\n    /* STABLE */\n\n  })) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn mt-3\",\n    onClick: _cache[15] || (_cache[15] = (...args) => $options.submit && $options.submit(...args))\n  }, \"Submit\")])])])]), _hoisted_51])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","spellcheck","for","user","_createElementBlock","_hoisted_2","_hoisted_6","_hoisted_7","_hoisted_12","_hoisted_15","type","id","$data","name","$event","placeholder","onInput","_hoisted_16","_hoisted_18","surname","_hoisted_19","_hoisted_21","disabled","email","_hoisted_22","_hoisted_24","_createVNode","_component_vue_tel_input","phone","mode","defaultCountry","onlyCountries","$options","_hoisted_25","_hoisted_26","_hoisted_29","_hoisted_32","address","country","_hoisted_33","_hoisted_34","_hoisted_36","city","_hoisted_37","_hoisted_38","_hoisted_40","street","_hoisted_41","_hoisted_42","_hoisted_44","number","_hoisted_45","_hoisted_46","_hoisted_47","_createBlock","_component_router_link","to","onClick","_hoisted_51"],"sourceRoot":"","sources":["C:\\Users\\Saška\\Downloads\\MRS_ISA\\isa_mrs_projekat_front\\src\\components\\VacationRentalOwner\\VacationRentalOwnerPage\\components\\EditPersonalData.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\" v-if=\"this.user\">\r\n    <div class=\"col-2\"></div>\r\n    <div class=\"col-8 pt-5 mb-5\">\r\n      <div class=\"container px-4 py-3 rounded form\" spellcheck=\"false\" >\r\n        <div class=\"container-fluid\">\r\n          <h3>Edit personal data</h3>\r\n          <div class=\"row\"></div>\r\n          <div class=\"row main justify-content-center\">\r\n            <div class=\"row main\">\r\n              <div class=\"col main\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-4\"></div>\r\n                  <div class=\"col-6\">\r\n                    <div class=\"row\">\r\n                      <label for=\"name\">Name</label>\r\n                      <input class=\"form-control\" type=\"text\" id=\"name\" v-model=\"user.name\" placeholder=\"Name\" @input=\"nameIsEntered=true\">\r\n                      <p v-if='!nameIsEntered'>'Name' is a mandatory field.</p>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <label for=\"surname\">Surname</label>\r\n                      <input class=\"form-control\" type=\"text\" id=\"surname\" v-model=\"user.surname\" placeholder=\"Surname\" @input=\"surnameIsEntered=true\">\r\n                      <p v-if='!surnameIsEntered'>'Surname' is a mandatory field.</p>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <label for=\"email\">Email</label>\r\n                      <input class=\"form-control\" disabled type=\"email\" id=\"email\" v-model=\"user.email\" placeholder=\"Email\" @input=\"emailIsEntered=true\">\r\n                      <p v-if='!emailIsEntered'>'Email' is a mandatory field.</p>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <label for=\"phone\">Phone</label>\r\n                      <vue-tel-input v-model=\"user.phone\" id=\"phone\" mode=\"international\" defaultCountry=\"RS\" :onlyCountries=onlyCountries @input=\"onTelephoneInput\"></vue-tel-input>\r\n                      <p v-if='!phoneIsValid'>Invalid phone number.</p>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-2\"></div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col main\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-2\"></div>\r\n                  <div class=\"col-6\">\r\n                    <div class=\"row\">\r\n                      <label for=\"country\">Country</label>\r\n                      <input v-model=\"user.address.country\" class=\"form-control\" type=\"text\" id=\"country\" placeholder=\"Country\" @input=\"countryIsEntered=true\">\r\n                      <p v-if='!countryIsEntered'>'Country' is a mandatory field.</p>\r\n                      <p v-if='!addressIsValid'>Invalid address data.</p>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <label for=\"city\">City</label>\r\n                      <input v-model=\"user.address.city\" class=\"form-control\" type=\"text\" id=\"city\" placeholder=\"City\" @input=\"cityIsEntered=true\">\r\n                      <p v-if='!cityIsEntered'>'City' is a mandatory field.</p>\r\n                      <p v-if='!addressIsValid'>Invalid address data.</p>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <label for=\"street\">Street</label>\r\n                      <input v-model=\"user.address.street\" class=\"form-control\" type=\"text\" id=\"street\" placeholder=\"Street\" @input=\"streetIsEntered=true\">\r\n                      <p v-if='!streetIsEntered'>'Street' is a mandatory field.</p>\r\n                      <p v-if='!addressIsValid'>Invalid address data.</p>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                      <label for=\"number\">Number</label>\r\n                      <input v-model=\"user.address.number\" class=\"form-control\"  type=\"text\" id=\"number\" placeholder=\"House Number\" @input=\"numberIsEntered=true\">\r\n                      <p v-if='!numberIsEntered'>'Number' is a mandatory field.</p>\r\n                      <p v-if='!addressIsValid'>Invalid address data.</p>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-4\">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex pt-3 justify-content-center\">\r\n            <router-link v-if=\"isVacationRentalOwner\" to=\"/vacationRentalOwner/profile\" class=\"btn btn-red mt-3 me-1\">Cancel</router-link>\r\n            <router-link v-else-if=\"isBoatOwner\" to=\"/boatOwner/profile\" class=\"btn btn-red mt-3 me-1\">Cancel</router-link>\r\n            <button type=\"button\" class=\"btn mt-3\" @click=\"submit\">Submit</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-2\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { VueTelInput }  from 'vue3-tel-input';\r\nimport 'vue3-tel-input/dist/vue3-tel-input.css';\r\nimport axios from \"axios\";\r\nimport {toggleProcessing} from \"@/components/state\";\r\nexport default {\r\n  name: \"EditPersonalData\",\r\n  components: {VueTelInput},\r\n  data(){\r\n    return {\r\n      onlyCountries: ['RS', 'BA', 'HR', 'ME', 'SI', 'MK'],\r\n      phoneInput: null,\r\n      user: {\r\n        name: null,\r\n        surname: null,\r\n        phone: null,\r\n        email: null,\r\n        address: {\r\n          street: null,\r\n          number: null,\r\n          city: null,\r\n          country: null,\r\n          latitude: null,\r\n          longitude: null\r\n        }\r\n      },\r\n      nameIsEntered: true,\r\n      surnameIsEntered: true,\r\n      emailIsEntered: true,\r\n      countryIsEntered: true,\r\n      cityIsEntered: true,\r\n      streetIsEntered: true,\r\n      numberIsEntered: true,\r\n      phoneIsEntered: true,\r\n      addressIsValid: true,\r\n      phoneIsValid: true,\r\n    }\r\n  },\r\n  computed: {\r\n    isNameEntered() {\r\n      return Boolean(this.user.name);\r\n    },\r\n    isSurnameEntered() {\r\n      return Boolean(this.user.surname);\r\n    },\r\n    isEmailEntered() {\r\n      return Boolean(this.user.email);\r\n    },\r\n    isCountryEntered() {\r\n      return Boolean(this.user.address.country);\r\n    },\r\n    isCityEntered() {\r\n      return Boolean(this.user.address.city);\r\n    },\r\n    isStreetEntered() {\r\n      return Boolean(this.user.address.street);\r\n    },\r\n    isNumberEntered() {\r\n      return Boolean(this.user.address.number);\r\n    },\r\n    isVacationRentalOwner() {\r\n      return this.$store.getters.user === \"vacationRentalOwner\";\r\n    },\r\n    isBoatOwner() {\r\n      return this.$store.getters.user === \"boatOwner\";\r\n    }\r\n  },\r\n  methods: {\r\n    submit(){\r\n      if (this.isDataEntered()) {\r\n        this.isDataCorrect();\r\n      }\r\n    },\r\n    editData() {\r\n      axios.put(\"/Users/editUser\", this.user, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        }\r\n      })\r\n          .then(() => {\r\n            this.$notify({\r\n              title: \"Successful edit\",\r\n              text: \"You have successfully edited your personal data.\",\r\n              position: \"bottom right\",\r\n              type: \"success\"\r\n            });\r\n            toggleProcessing();\r\n            this.$router.push(\"/\");\r\n          })\r\n          .catch(error => {\r\n            if (!error.response) {\r\n              this.$notify({\r\n                title: \"Server error\",\r\n                text: \"Server is currently off. Please try again later...\",\r\n                type: \"error\"\r\n              });\r\n              toggleProcessing();\r\n            } else if (error.response.status === 500) {\r\n              this.$notify({\r\n                title: \"Internal Server Error\",\r\n                text: \"Something went wrong on the server! Please try again later...\",\r\n                position: \"bottom right\",\r\n                type: \"error\"\r\n              });\r\n              toggleProcessing();\r\n            }\r\n          })\r\n    },\r\n    isDataEntered() {\r\n      if (!this.isNameEntered) {\r\n        this.nameIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isSurnameEntered) {\r\n        this.surnameIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isEmailEntered) {\r\n        this.emailIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isCountryEntered) {\r\n        this.countryIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isCityEntered) {\r\n        this.cityIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isStreetEntered) {\r\n        this.streetIsEntered = false;\r\n        return false;\r\n      }\r\n      if (!this.isNumberEntered) {\r\n        this.numberIsEntered = false;\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    async isDataCorrect() {\r\n      if (!this.isPhoneValid()){\r\n        this.phoneIsValid = false;\r\n        return false;\r\n      } else {\r\n        this.validateAddress();\r\n      }\r\n    },\r\n    onTelephoneInput(phone, phoneObject) {\r\n      this.phoneIsEntered = true;\r\n      if (phoneObject?.valid) {\r\n        this.phoneIsValid = true;\r\n        this.user.phone = phoneObject.number;\r\n      } else if (phoneObject) {\r\n        this.user.phone = null;\r\n      }\r\n    },\r\n    isPhoneValid() {\r\n      return Boolean(this.user.phone);\r\n    },\r\n    validateAddress() {\r\n      toggleProcessing();\r\n      const apiKey = 'VrDrl5BjEA0Whvb-chHbFz96HV4qlCXB-yoiTRRLKno';\r\n      const url = 'https://geocoder.ls.hereapi.com/6.2/geocode.json' +\r\n          '?apiKey=' + apiKey +\r\n          '&housenumber=' + this.user.address.number +\r\n          '&street=' + this.user.address.street +\r\n          '&city=' + this.user.address.city +\r\n          '&country=' + this.user.address.country;\r\n      fetch(url)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            const responseView = data.Response.View;\r\n            if (responseView.length === 0) {\r\n              this.addressIsValid = false;\r\n            }\r\n            else {\r\n              const location = responseView[0].Result[0].Location.DisplayPosition;\r\n              const address = responseView[0].Result[0].Location.Address;\r\n              this.user.address.city = this.transliterate(address.City);\r\n              this.user.address.country = this.transliterate(address.AdditionalData[0].value);\r\n              this.user.address.street = this.transliterate(address.Street);\r\n              this.user.address.longitude = location.Longitude;\r\n              this.user.address.latitude = location.Latitude;\r\n              this.addressIsValid = true;\r\n              this.editData();\r\n            }\r\n          })\r\n          .catch(() => {\r\n            this.addressIsValid = false;\r\n          });\r\n    },\r\n    transliterate(word) {\r\n      let letters = {\"Б\":\"B\", \"В\":\"V\", \"Г\":\"G\", \"Д\":\"D\", \"Ђ\":\"Đ\", \"Ж\":\"Ž\", \"З\":\"Z\", \"И\":\"I\", \"К\":\"K\", \"Л\":\"L\", \"Љ\":\"Lj\", \"М\":\"M\", \"Н\":\"N\", \"Њ\":\"Nj\", \"П\":\"P\",\r\n        \"Р\":\"R\", \"С\":\"S\", \"Ћ\":\"Ć\", \"У\":\"U\", \"Ф\":\"F\", \"Х\":\"H\", \"Ц\":\"C\", \"Ч\":\"Č\", \"Џ\":\"Dž\", \"Ш\":\"Š\", \"б\":\"b\", \"в\":\"v\", \"г\":\"g\", \"д\":\"d\", \"ђ\":\"đ\", \"ж\":\"ž\", \"з\":\"z\", \"и\":\"i\", \"к\":\"k\", \"л\":\"l\", \"љ\":\"lj\", \"м\":\"m\", \"н\":\"n\", \"њ\":\"nj\", \"п\":\"p\",\r\n        \"р\":\"r\", \"с\":\"s\", \"т\":\"t\", \"ћ\":\"ć\", \"у\":\"u\", \"ф\":\"f\", \"х\":\"h\", \"ц\":\"c\", \"ч\":\"č\", \"џ\":\"dž\", \"ш\":\"š\"};\r\n      return word.split('').map(function (char) {\r\n        return letters[char] || char;\r\n      }).join(\"\");\r\n    }\r\n  },\r\n  mounted(){\r\n    toggleProcessing();\r\n    axios.get(\"/Users/getUser\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n      }\r\n    })\r\n        .then(response => {\r\n          this.user = response.data;\r\n          toggleProcessing();\r\n        })\r\n        .catch(() =>{\r\n          this.$notify({\r\n            title: \"Server error\",\r\n            text: \"Server is currently off. Please try again later...\",\r\n            type: \"error\"\r\n          });\r\n          toggleProcessing();\r\n        })\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\ntextarea {\r\n  resize: none;\r\n  width: 100%;\r\n  text-align: justify;\r\n}\r\ninput[type='text'], input[type='email'] {\r\n  width: 100%;\r\n}\r\ninput::placeholder {\r\n  color: grey;\r\n}\r\nh3 {\r\n  text-align: center;\r\n}\r\np {\r\n  color: #e23c52;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}