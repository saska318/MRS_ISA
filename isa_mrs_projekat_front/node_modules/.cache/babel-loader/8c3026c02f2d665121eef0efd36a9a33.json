{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-200e2031\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"row\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"col-8 pt-5\"\n};\nconst _hoisted_4 = {\n  class: \"px-4 py-3 rounded content-center form\"\n};\nconst _hoisted_5 = {\n  class: \"row\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = {\n  class: \"col-8\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"form-text\"\n}, [/*#__PURE__*/_createElementVNode(\"h3\", null, \"Income Rate Settings\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"boatRate\"\n}, \"Boat Reservation:\", -1\n/* HOISTED */\n));\n\nconst _hoisted_11 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nconst _hoisted_12 = {\n  class: \"form-group\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"adventureRate\"\n}, \"Adventure Reservation:\", -1\n/* HOISTED */\n));\n\nconst _hoisted_14 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nconst _hoisted_15 = {\n  class: \"form-group\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"houseRate\"\n}, \"Vacation House Reservation:\", -1\n/* HOISTED */\n));\n\nconst _hoisted_17 = {\n  key: 0,\n  style: {\n    \"color\": \"red\"\n  }\n};\nconst _hoisted_18 = {\n  class: \"text-center pt-3\"\n};\n\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-2\"\n}, null, -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    step: \"any\",\n    min: \"0\",\n    max: \"100\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.boatRate.value = $event),\n    id: \"boatRate\",\n    class: \"form-control col-sm-auto col-lg-4\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.boatRate.value]]), !$data.boatRateCorrect ? (_openBlock(), _createElementBlock(\"p\", _hoisted_11, _toDisplayString($data.boatRateMessage), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    step: \"any\",\n    min: \"0\",\n    max: \"100\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.adventureRate.value = $event),\n    id: \"adventureRate\",\n    class: \"form-control col-sm-auto col-lg-4\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.adventureRate.value]]), !$data.adventureRateCorrect ? (_openBlock(), _createElementBlock(\"p\", _hoisted_14, _toDisplayString($data.adventureRateMessage), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    step: \"any\",\n    min: \"0\",\n    max: \"100\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.houseRate.value = $event),\n    id: \"houseRate\",\n    class: \"form-control col-sm-auto col-lg-4\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.houseRate.value]]), !$data.houseRateCorrect ? (_openBlock(), _createElementBlock(\"p\", _hoisted_17, _toDisplayString($data.houseRateMessage), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"button\", {\n    class: \"btn\",\n    onClick: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.confirmed && $options.confirmed(...args), [\"prevent\"]))\n  }, \" Confirm \")])]), _hoisted_19])])]), _hoisted_20]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","for","style","_createElementBlock","_hoisted_2","_hoisted_6","_hoisted_8","_hoisted_10","type","step","min","max","$data","value","$event","id","_toDisplayString","_hoisted_13","_hoisted_16","onClick","$options","_hoisted_19","_hoisted_20"],"sourceRoot":"","sources":["C:\\Users\\Sa≈°ka\\Downloads\\ISA_MRS\\isa_mrs_projekat_front\\src\\components\\Administrator\\AdminPage\\components\\AdminMainViews\\AdminIncomeRateComponents\\IncomeRateChangeForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-2\"></div>\r\n    <div class=\"col-8 pt-5\">\r\n      <form class=\"px-4 py-3 rounded content-center form\">\r\n        <div class=\"row\">\r\n          <div class=\"col-2\"></div>\r\n          <div class=\"col-8\">\r\n            <div class=\"form-text\">\r\n              <h3>Income Rate Settings</h3>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"boatRate\">Boat Reservation:</label>\r\n              <input type=\"number\" step=\"any\" min=\"0\" max=\"100\" v-model=\"boatRate.value\" id=\"boatRate\" class=\"form-control col-sm-auto col-lg-4\">\r\n              <p style=\"color:red\" v-if='!boatRateCorrect'>{{boatRateMessage}}</p>\r\n\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"adventureRate\">Adventure Reservation:</label>\r\n              <input type=\"number\" step=\"any\" min=\"0\" max=\"100\" v-model=\"adventureRate.value\" id=\"adventureRate\" class=\"form-control col-sm-auto col-lg-4\">\r\n              <p style=\"color:red\" v-if='!adventureRateCorrect'>{{adventureRateMessage}}</p>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"houseRate\">Vacation House Reservation:</label>\r\n              <input type=\"number\" step=\"any\" min=\"0\" max=\"100\" v-model=\"houseRate.value\" id=\"houseRate\" class=\"form-control col-sm-auto col-lg-4\">\r\n              <p style=\"color:red\" v-if='!houseRateCorrect'>{{houseRateMessage}}</p>\r\n            </div>\r\n            <div class=\"text-center pt-3\">\r\n              <button class=\"btn\" @click.prevent='confirmed'>\r\n                Confirm\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-2\"></div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <div class=\"col-2\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {useStore} from \"vuex\";\r\nimport axios from \"axios\";\r\nimport store from \"@/store\";\r\n\r\nexport default {\r\n  name: \"IncomeRateChangeForm\",\r\n  data() {\r\n    return {\r\n      boatRate: {\r\n        value: 0,\r\n        feeType: null,\r\n      },\r\n      adventureRate: {\r\n        value: 0,\r\n        feeType: null,\r\n      },\r\n      houseRate: {\r\n        value: 0,\r\n        feeType: null,\r\n      },\r\n      boatRateCorrect: true,\r\n      boatRateMessage: null,\r\n      adventureRateCorrect: true,\r\n      adventureRateMessage: null,\r\n      houseRateCorrect: true,\r\n      houseRateMessage: null\r\n    }\r\n  },\r\n  mounted() {\r\n    const store = useStore();\r\n    axios.get(\"/Profits/fees\", {headers: {\r\n        Authorization: \"Bearer \" + store.state.access_token,\r\n      }}\r\n    ).then(response => {\r\n      const fees = response.data;\r\n      fees.forEach((fee) => {\r\n        let result = fee.value;\r\n        if (fee.rentalObjectType === \"Boat\") {\r\n          this.boatRate.value = result;\r\n        } else if (fee.rentalObjectType === \"Adventure\") {\r\n          this.adventureRate.value = result;\r\n        } else {\r\n          this.houseRate.value = result;\r\n        }\r\n      });\r\n    });\r\n  },\r\n  computed: {\r\n    body() {\r\n      return [\r\n        {\r\n          rentalObjectType: \"Boat\",\r\n          value: this.boatRate.value\r\n        },\r\n        {\r\n          rentalObjectType: \"Adventure\",\r\n          value: this.adventureRate.value\r\n        },\r\n        {\r\n          rentalObjectType: \"VacationRental\",\r\n          value: this.houseRate.value\r\n        }\r\n      ];\r\n    },\r\n    accessToken() {\r\n      return store.state.access_token;\r\n    }\r\n  },\r\n  methods: {\r\n    confirmed() {\r\n      this.checkAdventure();\r\n      this.checkBoat();\r\n      this.checkHouse();\r\n      if (this.boatRateCorrect && this.houseRateCorrect && this.adventureRateCorrect) {\r\n        const fees = this.body;\r\n        console.log(fees);\r\n        axios.post(\"/Profits/fees\", {fees}, {\r\n          headers: {\r\n            Authorization: \"Bearer \" + this.accessToken\r\n          }\r\n        })\r\n        .then(() => {\r\n          this.$notify({\r\n            title: \"Income Rate Change Status\",\r\n            text: \"Income rate change was successful.\",\r\n            position: \"bottom right\",\r\n            type: \"success\"\r\n          });\r\n          this.$router.push({name:\"AdminDashboard\"});\r\n        })\r\n        .catch((error) =>{\r\n          if (error.response.status===400) {\r\n            this.$notify({\r\n              title: \"Bad Request\",\r\n              text: \"Data provided to the server was not valid!\" ,\r\n              type: \"warn\"\r\n            })\r\n          } else if (error.response.status===500) {\r\n            this.$notify({\r\n              title: \"Internal Server Error\",\r\n              text: \"Something went wrong on the server! Please try again later...\",\r\n              type: \"error\"\r\n            })\r\n          }\r\n        });\r\n      }\r\n    },\r\n    checkAdventure() {\r\n      if (this.adventureRate.value < 0 || this.adventureRate.value > 100) {\r\n        this.adventureRateCorrect = false;\r\n        this.adventureRateMessage = \"Value must be between 0 and 100!\"\r\n      } else {\r\n        this.adventureRateCorrect = true;\r\n        this.adventureRateMessage = null;\r\n      }\r\n    },\r\n    checkBoat() {\r\n      if (this.boatRate.value < 0 || this.boatRate.value > 100) {\r\n        this.boatRateCorrect = false;\r\n        this.boatRateMessage = \"Value must be between 0 and 100!\"\r\n      } else {\r\n        this.boatRateCorrect = true;\r\n        this.boatRateMessage = null;\r\n      }\r\n    },\r\n    checkHouse() {\r\n      if (this.houseRate.value < 0 || this.houseRate.value > 100) {\r\n        this.houseRateCorrect = false;\r\n        this.houseRateMessage = \"Value must be between 0 and 100!\"\r\n      } else {\r\n        this.houseRateCorrect = true;\r\n        this.houseRateMessage = null;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\nh3 {\r\n  text-align: center;\r\n}\r\n\r\np {\r\n  color: #e23c52;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}