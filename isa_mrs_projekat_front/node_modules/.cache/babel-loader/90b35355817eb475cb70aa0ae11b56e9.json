{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createBlock as _createBlock, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-37c20c3a\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"row\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-1\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"col-10\"\n};\nconst _hoisted_4 = {\n  class: \"row justify-content-between mt-5\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"ID\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Name\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-end pe-5\"\n}, \"Grade\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_6 = {\n  class: \"text-end pe-5\"\n};\nconst _hoisted_7 = {\n  style: {\n    \"background-color\": \"#6c757d\",\n    \"color\": \"white\"\n  }\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", {\n  class: \"fw-bolder text-start\"\n}, \"Average:\", -1\n/* HOISTED */\n));\n\nconst _hoisted_9 = {\n  colspan: \"3\",\n  class: \"fw-bolder text-end pe-5\"\n};\nconst _hoisted_10 = {\n  class: \"row\"\n};\nconst _hoisted_11 = {\n  class: \"container d-flex justify-content-center p-3 rounded shadow mt-5 mb-5\"\n};\nconst _hoisted_12 = {\n  class: \"row\"\n};\nconst _hoisted_13 = {\n  class: \"container d-flex justify-content-center p-3 rounded shadow mt-5 mb-5\"\n};\nconst _hoisted_14 = {\n  class: \"row\"\n};\nconst _hoisted_15 = {\n  class: \"container d-flex justify-content-center p-3 rounded shadow mt-5 mb-5\"\n};\nconst _hoisted_16 = {\n  class: \"row container-fluid pe-0 ps-0 me-0 ms-0 mb-5 mt-5\"\n};\nconst _hoisted_17 = {\n  class: \"col-4 text-center\"\n};\nconst _hoisted_18 = {\n  class: \"col-8\"\n};\nconst _hoisted_19 = {\n  class: \"align-items-center\"\n};\nconst _hoisted_20 = {\n  class: \"row main-col text-center header rounded mb-3\"\n};\n\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"ID\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Type\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Time Stamp\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"text-end pe-5\"\n}, \"Value\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_22 = {\n  class: \"text-end pe-5\"\n};\nconst _hoisted_23 = {\n  style: {\n    \"background-color\": \"#6c757d\",\n    \"color\": \"white\"\n  }\n};\n\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", {\n  class: \"fw-bolder text-start\"\n}, \"Total:\", -1\n/* HOISTED */\n));\n\nconst _hoisted_25 = {\n  colspan: \"3\",\n  class: \"fw-bolder text-end pe-5\"\n};\n\nconst _hoisted_26 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-1\"\n}, null, -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Line = _resolveComponent(\"Line\");\n\n  const _component_date_picker = _resolveComponent(\"date-picker\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"table\", null, [_hoisted_5, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.grades, (grade, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index,\n      class: _normalizeClass(index % 2 !== 0 ? 'odd' : 'even')\n    }, [_createElementVNode(\"td\", null, _toDisplayString(grade.rentalObject.id), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(grade.rentalObject.name), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_6, _toDisplayString(grade.grade === \"0\" ? \"/\" : grade.grade), 1\n    /* TEXT */\n    )], 2\n    /* CLASS */\n    );\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _createElementVNode(\"tr\", _hoisted_7, [_hoisted_8, _createElementVNode(\"td\", _hoisted_9, _toDisplayString($options.averageGrade.toFixed(1)), 1\n  /* TEXT */\n  )])])])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [(_openBlock(), _createBlock(_component_Line, {\n    \"chart-data\": $data.chartData1,\n    key: $data.chartData1.datasets[0].data\n  }, null, 8\n  /* PROPS */\n  , [\"chart-data\"]))])]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [(_openBlock(), _createBlock(_component_Line, {\n    \"chart-data\": $data.chartData2,\n    key: $data.chartData2.datasets[0].data\n  }, null, 8\n  /* PROPS */\n  , [\"chart-data\"]))])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [(_openBlock(), _createBlock(_component_Line, {\n    \"chart-data\": $data.chartData3,\n    key: $data.chartData3.datasets[0].data\n  }, null, 8\n  /* PROPS */\n  , [\"chart-data\"]))])]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createVNode(_component_date_picker, {\n    mode: \"range\",\n    modelValue: $data.range,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.range = $event),\n    \"is-range\": \"\"\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"]), _createElementVNode(\"button\", {\n    class: \"btn mt-2\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.generateReport && $options.generateReport(...args))\n  }, \"Generate Report\")]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"table\", null, [_hoisted_21, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.incomes, (income, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index,\n      class: _normalizeClass(index % 2 !== 0 ? 'odd' : 'even')\n    }, [_createElementVNode(\"td\", null, _toDisplayString(income.id), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(income.type), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(income.timeStamp.replace('T', ' ')), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_22, _toDisplayString(income.value) + \"$\", 1\n    /* TEXT */\n    )], 2\n    /* CLASS */\n    );\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _createElementVNode(\"tr\", _hoisted_23, [_hoisted_24, _createElementVNode(\"td\", _hoisted_25, _toDisplayString($options.totalIncome.toFixed(1)) + \"$\", 1\n  /* TEXT */\n  )])])])])])])])]), _hoisted_26]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","style","colspan","_createElementBlock","_hoisted_2","_hoisted_5","_Fragment","_renderList","grades","grade","index","key","_toDisplayString","rentalObject","id","name","_hoisted_8","$options","toFixed","_createBlock","_component_Line","$data","datasets","data","_createVNode","_component_date_picker","mode","$event","onClick","_hoisted_21","incomes","income","type","timeStamp","replace","value","_hoisted_24","_hoisted_26"],"sourceRoot":"","sources":["C:\\Users\\Saška\\Downloads\\ISA_MRS\\isa_mrs_projekat_front\\src\\components\\FishingInstructor\\FishingInstructorPage\\components\\InstructorMainViews\\InstructorBusinessReports.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-1\"></div>\r\n    <div class=\"col-10\">\r\n      <div class=\"row justify-content-between mt-5\">\r\n        <table>\r\n          <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Name</th>\r\n            <th class=\"text-end pe-5\">Grade</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          <tr v-for=\"(grade, index) in this.grades\" :key=\"index\" :class=\"index%2!==0?'odd':'even'\">\r\n            <td>{{grade.rentalObject.id}}</td>\r\n            <td>{{grade.rentalObject.name}}</td>\r\n            <td class=\"text-end pe-5\">{{grade.grade===\"0\"?\"/\":grade.grade}}</td>\r\n          </tr>\r\n          <tr style=\"background-color: #6c757d; color: white\">\r\n            <td class=\"fw-bolder text-start\">Average:</td>\r\n            <td colspan=\"3\" class=\"fw-bolder text-end pe-5\">{{averageGrade.toFixed(1)}}</td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"container d-flex justify-content-center p-3 rounded shadow mt-5 mb-5\">\r\n          <Line :chart-data=\"chartData1\" :key=\"chartData1.datasets[0].data\"></Line>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"container d-flex justify-content-center p-3 rounded shadow mt-5 mb-5\">\r\n          <Line :chart-data=\"chartData2\" :key=\"chartData2.datasets[0].data\"></Line>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"container d-flex justify-content-center p-3 rounded shadow mt-5 mb-5\">\r\n          <Line :chart-data=\"chartData3\" :key=\"chartData3.datasets[0].data\"></Line>\r\n        </div>\r\n      </div>\r\n      <div class=\"row container-fluid pe-0 ps-0 me-0 ms-0 mb-5 mt-5\">\r\n        <div class=\"col-4 text-center\">\r\n          <date-picker mode=\"range\" v-model=\"range\" is-range></date-picker>\r\n          <button class=\"btn mt-2\" @click=\"generateReport\">Generate Report</button>\r\n        </div>\r\n        <div class=\"col-8\">\r\n          <div class=\"align-items-center\">\r\n            <div class=\"row main-col text-center header rounded mb-3\">\r\n              <table>\r\n                <thead>\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>Type</th>\r\n                  <th>Time Stamp</th>\r\n                  <th class=\"text-end pe-5\">Value</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr v-for=\"(income, index) in this.incomes\" :key=\"index\" :class=\"index%2!==0?'odd':'even'\">\r\n                  <td>{{income.id}}</td>\r\n                  <td>{{income.type}}</td>\r\n                  <td>{{income.timeStamp.replace('T', ' ')}}</td>\r\n                  <td class=\"text-end pe-5\">{{income.value}}$</td>\r\n                </tr>\r\n                <tr style=\"background-color: #6c757d; color: white\">\r\n                  <td class=\"fw-bolder text-start\">Total:</td>\r\n                  <td colspan=\"3\" class=\"fw-bolder text-end pe-5\">{{totalIncome.toFixed(1)}}$</td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-1\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {DatePicker} from \"v-calendar\";\r\nimport { Line } from 'vue-chartjs';\r\nimport { Chart as ChartJS, Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale, LineElement, PointElement, LineController } from 'chart.js';\r\nimport {useStore} from \"vuex\";\r\nimport axios from \"axios\";\r\nimport {toggleLoading} from \"@/components/state\";\r\nimport store from \"@/store\";\r\n\r\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale, LineElement, PointElement, LineController)\r\n\r\nexport default {\r\n  name: \"InstructorBusinessReports\",\r\n  components: {DatePicker, Line},\r\n  data() {\r\n    return {\r\n      incomes: [],\r\n      range: {\r\n        start: new Date(new Date().setFullYear(new Date().getFullYear() - 1)),\r\n        end: new Date()\r\n      },\r\n      grades: [],\r\n      chartData1: {\r\n        labels: [],\r\n        datasets: [\r\n          {\r\n            label: 'Reservations last year',\r\n            backgroundColor: '#4650dd',\r\n            borderColor: 'rgb(70, 80, 221, 0.4)',\r\n            data: []\r\n          }\r\n        ]\r\n      },\r\n      chartData2: {\r\n        labels: [],\r\n        datasets: [\r\n          {\r\n            label: 'Reservations last month',\r\n            backgroundColor: '#4650dd',\r\n            borderColor: 'rgb(70, 80, 221, 0.4)',\r\n            data: []\r\n          }\r\n        ]\r\n      },\r\n      chartData3: {\r\n        labels: [],\r\n        datasets: [\r\n          {\r\n            label: 'Reservations last week',\r\n            backgroundColor: '#4650dd',\r\n            borderColor: 'rgb(70, 80, 221, 0.4)',\r\n            data: []\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    toggleLoading();\r\n    const store = useStore();\r\n    axios.get(\"/Profits/instructorDashboard\", {headers: {\r\n        Authorization: \"Bearer \" + store.getters.access_token,\r\n      }\r\n    })\r\n    .then((response) => {\r\n      const dashboardData = response.data;\r\n      this.grades = dashboardData.rentalGrades;\r\n      const nodes1 = dashboardData.yearlyGraph.nodes;\r\n      const nodes2 = dashboardData.monthlyGraph.nodes;\r\n      const nodes3 = dashboardData.weeklyGraph.nodes;\r\n      let dataset1 = [];\r\n      let dataset2 = [];\r\n      let dataset3 = [];\r\n      for (let i = 0; i < nodes1.length; i++) {\r\n        this.chartData1.labels.push(nodes1[i].month);\r\n        dataset1.push(nodes1[i].value);\r\n      }\r\n      for (let i = 0; i < nodes2.length; i++) {\r\n        this.chartData2.labels.push(nodes2[i].month);\r\n        dataset2.push(nodes2[i].value);\r\n      }\r\n      for (let i = 0; i < nodes3.length; i++) {\r\n        this.chartData3.labels.push(nodes3[i].month);\r\n        dataset3.push(nodes3[i].value);\r\n      }\r\n      this.chartData1.datasets[0].data = dataset1;\r\n      this.chartData2.datasets[0].data = dataset2;\r\n      this.chartData3.datasets[0].data = dataset3;\r\n      this.generateReport();\r\n      toggleLoading();\r\n    })\r\n    .catch((e) => {\r\n      console.log(e);\r\n      this.$notify({\r\n        title: \"Server error\",\r\n        text: \"Server is currently off. Please try again later...\",\r\n        type: \"error\"\r\n      });\r\n      toggleLoading();\r\n    })\r\n  },\r\n  methods: {\r\n    generateReport() {\r\n      toggleLoading();\r\n      const start = this.range.start.toISOString().slice(0, 19);\r\n      const end = this.range.end.toISOString().slice(0, 19);\r\n      axios.get(\"/Profits/instructorReport\", {headers: {\r\n          Authorization: \"Bearer \" + store.getters.access_token,\r\n        },\r\n        params: {\r\n          start: start,\r\n          end: end\r\n        }\r\n      })\r\n          .then((response) => {\r\n            this.incomes = response.data;\r\n            toggleLoading();\r\n          })\r\n          .catch(() => {\r\n            this.$notify({\r\n              title: \"Server error\",\r\n              text: \"Server is currently off. Please try again later...\",\r\n              type: \"error\"\r\n            });\r\n            toggleLoading();\r\n          });\r\n    }\r\n  },\r\n  computed: {\r\n    averageGrade() {\r\n      let gradeTotal = 0;\r\n      let count = 0;\r\n      this.grades.forEach(grade => {\r\n        if (grade !== \"0\") {\r\n          count += 1;\r\n          gradeTotal += parseFloat(grade.grade);\r\n        }\r\n      })\r\n      return count===0?count:gradeTotal/count;\r\n    },\r\n    totalIncome() {\r\n      let income = 0;\r\n      this.incomes.forEach(i => {\r\n        income += i.value;\r\n      })\r\n      return income;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n p {\r\n   color: ;\r\n }\r\n</style>"]},"metadata":{},"sourceType":"module"}