{"ast":null,"code":"import { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faMinus, faPlus, faPlusCircle, faX, faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { DatePicker } from \"v-calendar\";\nimport axios from \"axios\";\nimport store from \"@/store\";\nlibrary.add(faPlus, faMinus, faX, faPlusCircle, faArrowRight);\nexport default {\n  name: \"BoatSpecialOffer\",\n  components: {\n    FontAwesomeIcon,\n    DatePicker\n  },\n\n  data() {\n    return {\n      discount: null,\n      capacity: null,\n      services: [],\n      initDate: null,\n      termDate: null,\n      range: {\n        start: null,\n        end: null\n      },\n      service: {\n        name: null\n      },\n      discountIsEntered: true,\n      capacityIsEntered: true,\n      serviceAlreadyExists: false\n    };\n  },\n\n  methods: {\n    submit() {\n      this.range.start.setTime(this.range.start.getTime());\n      this.range.end.setTime(this.range.end.getTime());\n      this.initDate = this.range.start;\n      this.termDate = this.range.end;\n      axios.post(\"/RentalObjects/addSpecialOfferBoat\", {\n        rentalId: this.$route.params.id,\n        initDate: this.initDate,\n        termDate: this.termDate,\n        capacity: this.capacity,\n        discount: this.discount,\n        includedServices: this.services\n      }, {\n        headers: {\n          Authorization: \"Bearer \" + store.getters.access_token\n        }\n      }).then(() => {\n        this.$notify({\n          title: \"Successful creation\",\n          text: \"You have successfully added a special offer.\",\n          position: \"bottom right\",\n          type: \"success\"\n        });\n      }).catch(() => {\n        this.$notify({\n          title: \"Server error\",\n          text: \"Server is currently off. Please try again later...\",\n          type: \"error\"\n        });\n      });\n    },\n\n    addService() {\n      if (this.service.name.trim() !== \"\") {\n        if (this.services.indexOf(this.service.name.trim()) === -1) {\n          this.services.push(this.service);\n          this.service = {\n            name: \"\"\n          };\n          this.serviceAlreadyExists = false;\n        } else {\n          this.serviceAlreadyExists = true;\n        }\n      }\n    },\n\n    removeService(service) {\n      this.services.splice(this.services.indexOf(service), 1);\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["FontAwesomeIcon","library","faMinus","faPlus","faPlusCircle","faX","faArrowRight","DatePicker","axios","store","add","name","components","data","discount","capacity","services","initDate","termDate","range","start","end","service","discountIsEntered","capacityIsEntered","serviceAlreadyExists","methods","submit","setTime","getTime","post","rentalId","$route","params","id","includedServices","headers","Authorization","getters","access_token","then","$notify","title","text","position","type","catch","addService","trim","indexOf","push","removeService","splice"],"sourceRoot":"","sources":["C:\\Users\\Sa≈°ka\\Downloads\\ISA_MRS\\isa_mrs_projekat_front\\src\\components\\BoatOwner\\BoatOwnerPage\\components\\BoatOwnerMainView\\BoatSpecialOffer.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-2\"></div>\r\n    <div class=\"col-8 pt-5 mb-5\">\r\n      <div class=\"container px-4 py-3 rounded form\" spellcheck=\"false\" >\r\n        <div class=\"container-fluid\">\r\n          <h3>Special Offer</h3>\r\n          <div class=\"row main justify-content-center\">\r\n            <div class=\"row main\">\r\n              <div class=\"col-2\"></div>\r\n              <div class=\"col-8\">\r\n\r\n                <div class=\"row justify-content-center mt-4\">\r\n                  <label class=\"ms-3\">Init Date</label>\r\n                  <div class=\"container p-0 m-0 text-center\" style=\"max-width: 400px\">\r\n                    <date-picker v-model=\"range\" is-range mode=\"dateTime\" is24hr :firstDayOfWeek=2>\r\n                    </date-picker>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"cancellation\">Discount</label>\r\n                  </div>\r\n                  <input v-model=\"discount\" type=\"number\" step=\"any\" min=\"0\" max=\"100\"  id=\"cancellation\" class=\"form-control\" placeholder=\"Discount in %\" @input=\"discountIsEntered=true\">\r\n                  <p v-if='!discountIsEntered'>'Discount' is a mandatory field.</p>\r\n                </div>\r\n\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"capacity\">Capacity</label>\r\n                  </div>\r\n                  <input v-model=\"capacity\" type=\"number\" step=\"any\" min=\"0\"  id=\"capacity\" class=\"form-control\" placeholder=\"Max people\" @input=\"capacityIsEntered=true\">\r\n                  <p v-if='!capacityIsEntered'>'Capacity' is a mandatory field.</p>\r\n                </div>\r\n\r\n                <div class=\"row mt-4 justify-content-center\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <label for=\"services\">Included Services</label>\r\n                  </div>\r\n                  <input class=\"form-control\" v-model=\"service.name\" type=\"text\" id=\"services\" placeholder=\"E.g. Fishing rod\" @keyup.enter=\"addService\">\r\n                  <div class=\"row justify-content-center\">\r\n                    <small class=\"form-text text-muted\">\r\n                      Press Enter to add service\r\n                    </small>\r\n                  </div>\r\n                  <div class=\"row tag-container\">\r\n                    <p v-if='serviceAlreadyExists'>Service already exists.</p>\r\n                    <div class=\"equipment-tag rounded-pill mt-1 ms-1 p-1\" v-for=\"(pieceOfEquipment, index) in services\" :key=\"index\">\r\n                      {{pieceOfEquipment.name}}\r\n                      <button class=\"tag-button text-center\" @click=\"removeService(pieceOfEquipment)\"><font-awesome-icon icon=\"x\" style=\"width: 9px; height: 9px\"></font-awesome-icon></button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n              <div class=\"col-2\"></div>\r\n              <div class=\"d-flex pt-3 justify-content-center\">\r\n                <router-link to=\"/boatOwner/boats\" class=\"btn btn-red mt-3 me-1\">Cancel</router-link>\r\n                <button type=\"button\" class=\"btn mt-3\" @click.prevent=\"submit\">Submit</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-2\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {FontAwesomeIcon} from \"@fortawesome/vue-fontawesome\";\r\nimport {library} from \"@fortawesome/fontawesome-svg-core\";\r\nimport {faMinus, faPlus, faPlusCircle, faX, faArrowRight} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {DatePicker} from \"v-calendar\"\r\nimport axios from \"axios\";\r\nimport store from \"@/store\";\r\n\r\nlibrary.add(faPlus, faMinus, faX, faPlusCircle, faArrowRight);\r\n\r\nexport default {\r\n  name: \"BoatSpecialOffer\",\r\n  components: {FontAwesomeIcon,DatePicker},\r\n  data() {\r\n    return {\r\n      discount: null,\r\n      capacity: null,\r\n      services: [],\r\n      initDate: null,\r\n      termDate: null,\r\n      range: {\r\n        start: null,\r\n        end: null\r\n      },\r\n      service: {name: null},\r\n      discountIsEntered: true,\r\n      capacityIsEntered: true,\r\n      serviceAlreadyExists: false\r\n    }\r\n  },\r\n  methods: {\r\n    submit() {\r\n      this.range.start.setTime(this.range.start.getTime());\r\n      this.range.end.setTime(this.range.end.getTime());\r\n      this.initDate = this.range.start;\r\n      this.termDate = this.range.end;\r\n      axios.post(\"/RentalObjects/addSpecialOfferBoat\", {rentalId: this.$route.params.id, initDate: this.initDate, termDate: this.termDate, capacity: this.capacity, discount: this.discount, includedServices: this.services}, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + store.getters.access_token,\r\n        }\r\n      })\r\n          .then(() => {\r\n            this.$notify( {\r\n              title: \"Successful creation\",\r\n              text: \"You have successfully added a special offer.\",\r\n              position: \"bottom right\",\r\n              type: \"success\"\r\n            });\r\n          })\r\n          .catch(() => {\r\n            this.$notify({\r\n              title: \"Server error\",\r\n              text: \"Server is currently off. Please try again later...\",\r\n              type: \"error\"\r\n            });\r\n          })\r\n\r\n    },\r\n    addService() {\r\n      if (this.service.name.trim() !== \"\") {\r\n        if (this.services.indexOf(this.service.name.trim()) === -1) {\r\n          this.services.push(this.service);\r\n          this.service = {name: \"\"};\r\n          this.serviceAlreadyExists=false;\r\n        }\r\n        else {\r\n          this.serviceAlreadyExists=true;\r\n        }\r\n      }\r\n    },\r\n    removeService(service) {\r\n      this.services.splice(this.services.indexOf(service), 1);\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\nlabel, .tag-container, small {\r\n  max-width: 400px;\r\n}\r\n\r\n.equipment-tag {\r\n  background-color: #008970;\r\n  font-weight: bold;\r\n  color: white;\r\n  border: 2px solid #008970;\r\n  width: fit-content;\r\n  font-size: 12px;\r\n}\r\n\r\n.equipment-tag:hover   {\r\n  background-color: white;\r\n  color: #008970;\r\n  border: 2px solid #008970;\r\n  width: fit-content;\r\n  font-size: 12px;\r\n}\r\n\r\n.equipment-tag:hover .tag-button {\r\n  background-color: transparent;\r\n  color: #008970;\r\n  border: none;\r\n}\r\n\r\n.tag-button {\r\n  background-color: transparent;\r\n  color: white;\r\n  border: none;\r\n}\r\n\r\ntextarea {\r\n  resize: none;\r\n  width: 100%;\r\n  text-align: justify;\r\n  max-width: 400px;\r\n}\r\n\r\ninput {\r\n  max-width: 400px;\r\n}\r\n\r\ninput::placeholder {\r\n  color: grey;\r\n}\r\n\r\nh3 {\r\n  text-align: center;\r\n}\r\n\r\nh4 {\r\n  text-align: center;\r\n}\r\n\r\np {\r\n  color: #e23c52;\r\n}\r\n\r\n.input-group-text {\r\n  background-color: transparent;\r\n  border-right: none;\r\n  color: #008970;\r\n  display: table;\r\n}\r\n\r\n.input-group-text font-awesome-icon {\r\n  display: table-cell;\r\n  vertical-align: middle;\r\n}\r\n\r\n.input-group {\r\n  max-width: 400px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}