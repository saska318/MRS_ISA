{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2c00d858\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"card col-xl-3 col-lg-4 col-md-6 col-sm-10 col-xs-12 px-3 mb-5\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = {\n  class: \"card-body pt-1 pb-0\",\n  style: {\n    \"color\": \"black\"\n  }\n};\nconst _hoisted_4 = {\n  class: \"align-items-center text-start pb-3\",\n  style: {\n    \"display\": \"flex\"\n  }\n};\nconst _hoisted_5 = [\"title\"];\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", {\n  class: \"ms-1\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = {\n  key: 0,\n  class: \"row\"\n};\nconst _hoisted_8 = {\n  class: \"col main-col d-flex justify-content-center\",\n  title: \"Capacity\"\n};\nconst _hoisted_9 = {\n  class: \"h5\"\n};\nconst _hoisted_10 = {\n  class: \"col main-col d-flex justify-content-center\",\n  title: \"Number of rooms\"\n};\nconst _hoisted_11 = {\n  class: \"h5\"\n};\nconst _hoisted_12 = {\n  id: \"beds\",\n  class: \"col main-col d-flex justify-content-center\",\n  title: \"\"\n};\nconst _hoisted_13 = {\n  class: \"h5\"\n};\nconst _hoisted_14 = {\n  key: 1,\n  class: \"p-1 text-center\",\n  style: {\n    \"text-align\": \"left\"\n  }\n};\nconst _hoisted_15 = {\n  class: \"h5\"\n};\nconst _hoisted_16 = {\n  class: \"row mt-1\"\n};\nconst _hoisted_17 = {\n  class: \"col d-flex justify-content-center\"\n};\nconst _hoisted_18 = {\n  class: \"h5\"\n};\nconst _hoisted_19 = {\n  class: \"col d-flex justify-content-center\"\n};\nconst _hoisted_20 = {\n  class: \"h5\"\n};\nconst _hoisted_21 = {\n  class: \"row\"\n};\nconst _hoisted_22 = [\"title\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\"      <ThePhoto v-if=\\\"rental.displayPhoto\\\" class=\\\"card-img-top\\\" :photo=\\\"rental.displayPhoto\\\" alt=\\\"\\\"/>\"), _createVNode(_component_router_link, {\n    to: $options.getPath,\n    class: \"link\",\n    onClick: $options.setRentalIdAndType\n  }, {\n    default: _withCtx(() => [$props.rental.displayPhoto ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      class: \"card-img-top\",\n      alt: \"\",\n      src: $data.photo\n    }, null, 8\n    /* PROPS */\n    , _hoisted_2)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", null, [_createElementVNode(\"h1\", {\n      style: {\n        \"color\": \"black\"\n      },\n      class: \"card-title cut-text\",\n      title: $props.rental.name\n    }, _toDisplayString($props.rental.name), 9\n    /* TEXT, PROPS */\n    , _hoisted_5)]), _hoisted_6]), $options.isVacationRental ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"p\", _hoisted_9, [_createVNode(_component_font_awesome_icon, {\n      class: \"me-1\",\n      icon: \"user\"\n    }), _createTextVNode(_toDisplayString($props.rental.capacity), 1\n    /* TEXT */\n    )])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"p\", _hoisted_11, [_createVNode(_component_font_awesome_icon, {\n      class: \"me-1\",\n      icon: \"door-open\"\n    }), _createTextVNode(_toDisplayString($options.getNumberOfRooms), 1\n    /* TEXT */\n    )])]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"p\", _hoisted_13, [_createVNode(_component_font_awesome_icon, {\n      class: \"me-1\",\n      icon: \"bed\",\n      title: this.bedsPerRoom\n    }, null, 8\n    /* PROPS */\n    , [\"title\"]), _createTextVNode(_toDisplayString($options.getNumberOfBeds), 1\n    /* TEXT */\n    )])])])) : _createCommentVNode(\"v-if\", true), !$options.isVacationRental ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_createElementVNode(\"p\", _hoisted_15, [_createVNode(_component_font_awesome_icon, {\n      class: \"me-1\",\n      icon: \"user\"\n    }), _createTextVNode(_toDisplayString(\"Capacity: \" + $props.rental.capacity), 1\n    /* TEXT */\n    )])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"p\", _hoisted_18, _toDisplayString(\"Grade: \" + $options.getRentalGrade), 1\n    /* TEXT */\n    )]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"p\", _hoisted_20, _toDisplayString(\"Price: $\" + $props.rental.price), 1\n    /* TEXT */\n    )])]), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"p\", {\n      class: \"h5 cut-text\",\n      style: {\n        \"cursor\": \"pointer\",\n        \"color\": \"#008970\"\n      },\n      title: $options.getAddress\n    }, [_createVNode(_component_font_awesome_icon, {\n      class: \"me-1\",\n      icon: \"location-dot\",\n      style: {\n        \"color\": \"#008970\"\n      }\n    }), _createElementVNode(\"small\", null, _toDisplayString($options.getAddress), 1\n    /* TEXT */\n    )], 8\n    /* PROPS */\n    , _hoisted_22)])])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"to\", \"onClick\"])]);\n}","map":{"version":3,"mappings":"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","names":["class","style","_createElementVNode","title","id","_createElementBlock","_createCommentVNode","_createVNode","_component_router_link","to","$options","onClick","$props","displayPhoto","alt","src","$data","name","_hoisted_5","_hoisted_6","_component_font_awesome_icon","icon","capacity","bedsPerRoom","_toDisplayString","price"],"sourceRoot":"","sources":["C:\\Users\\Saška\\Downloads\\ISA_MRS\\isa_mrs_projekat_front\\src\\components\\UnregisteredUser\\components\\Rental\\RentalCardView.vue"],"sourcesContent":["<template>\r\n\r\n    <div class=\"card col-xl-3 col-lg-4 col-md-6 col-sm-10 col-xs-12 px-3 mb-5\">\r\n<!--      <ThePhoto v-if=\"rental.displayPhoto\" class=\"card-img-top\" :photo=\"rental.displayPhoto\" alt=\"\"/>-->\r\n      <router-link :to=\"getPath\" class=\"link\" @click=\"setRentalIdAndType\">\r\n\r\n\r\n\r\n        <img v-if=\"rental.displayPhoto\" class=\"card-img-top\" alt=\"\" :src=\"photo\"/>\r\n        <div class=\"card-body pt-1 pb-0\" style=\"color: black\">\r\n          <div class=\"align-items-center text-start pb-3\" style=\"display: flex;\">\r\n            <div>\r\n              <h1 style=\"color: black\" class=\"card-title cut-text\" :title=\"rental.name\">{{ rental.name }}</h1>\r\n            </div>\r\n            <hr class=\"ms-1\">\r\n          </div>\r\n          <div v-if=\"isVacationRental\" class=\"row\">\r\n            <div class=\"col main-col d-flex justify-content-center\" title=\"Capacity\">\r\n              <p class=\"h5\">\r\n                <font-awesome-icon class=\"me-1\" icon=\"user\"></font-awesome-icon>{{ rental.capacity }}\r\n              </p>\r\n            </div>\r\n            <div class=\"col main-col d-flex justify-content-center\" title=\"Number of rooms\">\r\n              <p class=\"h5\">\r\n                <font-awesome-icon class=\"me-1\" icon=\"door-open\"></font-awesome-icon>{{ getNumberOfRooms }}\r\n              </p>\r\n            </div>\r\n            <div id=\"beds\" class=\"col main-col d-flex justify-content-center\" title=\"\">\r\n              <p class=\"h5\">\r\n                <font-awesome-icon class=\"me-1\" icon=\"bed\" :title=\"this.bedsPerRoom\"></font-awesome-icon>{{ getNumberOfBeds }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"!isVacationRental\" class=\"p-1 text-center\" style=\"text-align: left;\">\r\n            <p class=\"h5\">\r\n              <font-awesome-icon class=\"me-1\" icon=\"user\"></font-awesome-icon>{{ \"Capacity: \" + rental.capacity }}\r\n            </p>\r\n          </div>\r\n\r\n          <div class=\"row mt-1\">\r\n            <div class=\"col d-flex justify-content-center\">\r\n              <p class=\"h5\">{{ \"Grade: \" + getRentalGrade }}</p>\r\n            </div>\r\n            <div class=\"col d-flex justify-content-center\">\r\n              <p class=\"h5\">{{ \"Price: $\" + rental.price }}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <p class=\"h5 cut-text\" style=\"cursor: pointer; color: #008970;\" :title=\"getAddress\">\r\n              <font-awesome-icon class=\"me-1\" icon=\"location-dot\" style=\"color: #008970\"></font-awesome-icon>\r\n              <small>{{ getAddress }}</small>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n      </router-link>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {FontAwesomeIcon} from \"@fortawesome/vue-fontawesome\";\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faDoorOpen } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faBed } from \"@fortawesome/free-solid-svg-icons\";\r\nimport {useStore} from \"vuex\";\r\nimport axios from \"axios\";\r\n\r\nlibrary.add(faUser);\r\nlibrary.add(faDoorOpen);\r\nlibrary.add(faBed);\r\n\r\nexport default {\r\n  name: \"CardView\",\r\n  components: {\r\n    FontAwesomeIcon,\r\n  },\r\n  props: [\"rental\"],\r\n  data() {\r\n    return {\r\n      path: \"/client/RentalProfile\",\r\n      photo: null,\r\n      bedsPerRoom: null,\r\n    }\r\n  },\r\n  computed: {\r\n    getAddress() {\r\n      return this.rental.address.city + ', ' + this.rental.address.country;\r\n    },\r\n    getPath() {\r\n      const store = useStore();\r\n      let path = \"/RentalProfile/\" + this.rental.rentalObjectType + \"-\" + this.rental.id;\r\n      if (store.state.email) return \"/client\" + path;\r\n      return \"/RentalProfile\" + path;\r\n    },\r\n    isVacationRental() {\r\n      return this.rental.rentalObjectType === \"VacationRental\";\r\n    },\r\n    getNumberOfRooms() {\r\n      return (this.rental.rooms).length;\r\n    },\r\n    getNumberOfBeds() {\r\n      let beds = 0;\r\n      this.rental.rooms.forEach(room => {\r\n        beds += room.beds;\r\n      });\r\n      return beds;\r\n    },\r\n    getRentalGrade() {\r\n      if (this.rental.grade === \"0\" || !this.rental.grade) return \"/\";\r\n      return this.rental.grade + \"★\";\r\n    },\r\n  },\r\n  mounted() {\r\n    if(this.isVacationRental) this.numOfBedsPerRoom();\r\n    axios.get(\"/Photos/\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n      },\r\n      params: {\r\n        path: this.rental.displayPhoto.photo,\r\n      },\r\n      responseType: \"blob\"\r\n    })\r\n        .then(response => {\r\n          this.photo = URL.createObjectURL(response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n  },\r\n  methods: {\r\n    numOfBedsPerRoom() {\r\n      let result = \"Beds per room: \";\r\n      for(let i=0; i<this.rental.rooms.length; i++) {\r\n        result += this.rental.rooms[i].beds;\r\n        if(i === this.rental.rooms.length - 1)\r\n          break\r\n        result += \" + \";\r\n      }\r\n      this.bedsPerRoom = result;\r\n    },\r\n    setRentalIdAndType() {\r\n      this.$store.dispatch(\"rentalId\", this.rental.id);\r\n      this.$store.dispatch(\"rentalType\", this.rental.rentalObjectType);\r\n      this.$store.dispatch(\"grade\", this.rental.grade);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.cut-text {\r\n  width: 100%;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 1;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n}\r\ndiv.card img {\r\n  height: 25vh;\r\n  object-fit: cover;\r\n  object-position: center;\r\n  border-top-left-radius: 40px;\r\n  border-top-right-radius: 40px;\r\n  /*border: 1px solid black;*/\r\n  /*border-bottom: none;*/\r\n}\r\n\r\n  a {\r\n    text-decoration: none;\r\n    color: black;\r\n  }\r\n\r\n  hr {\r\n    flex-grow: 1;\r\n  }\r\n\r\n  div.card {\r\n    border: none;\r\n  }\r\n\r\n  div.card-body {\r\n    border: 1px solid black;\r\n    border-bottom-left-radius: 40px;\r\n    border-bottom-right-radius: 40px;\r\n    box-shadow: 0 0.3rem 1rem rgb(0 0 0 / 30%);\r\n  }\r\n\r\n  .card-img-top {\r\n    box-shadow: -0.06em 0 1rem rgb(0 0 0 / 30%);\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}