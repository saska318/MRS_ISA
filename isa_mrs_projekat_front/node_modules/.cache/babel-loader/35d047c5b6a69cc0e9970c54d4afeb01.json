{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-1\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  class: \"col-10 pt-5 mb-5\"\n};\nconst _hoisted_4 = {\n  class: \"row container-fluid pe-0 ps-0 me-0 ms-0\"\n};\nconst _hoisted_5 = {\n  class: \"col-4 text-center\"\n};\nconst _hoisted_6 = {\n  class: \"rounded shadow p-3\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"h3\", {\n  style: {\n    \"color\": \"#008970\"\n  },\n  class: \"mb-3\"\n}, \"Loyalty Program\", -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"client\",\n  style: {\n    \"color\": \"#008970\"\n  }\n}, \"Client Points Per Reservation\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"owner\",\n  style: {\n    \"color\": \"#008970\"\n  }\n}, \"Owner Points Per Reservation\", -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = [\"disabled\"];\nconst _hoisted_11 = {\n  class: \"modal fade\",\n  id: \"confirmationDialog1\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"exampleModalLabel1\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_12 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_13 = {\n  class: \"modal-content\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"modal-header\"\n}, [/*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"modal-title\",\n  id: \"exampleModalLabel1\"\n}, \"Loyalty Program Update\"), /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\",\n  \"aria-label\": \"Close\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"modal-body\"\n}, \" Do you want to change loyalty program? \", -1\n/* HOISTED */\n);\n\nconst _hoisted_16 = {\n  class: \"modal-footer\"\n};\n\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-red\",\n  style: {\n    \"margin-right\": \"2vh\"\n  },\n  \"data-bs-dismiss\": \"modal\"\n}, \"No\", -1\n/* HOISTED */\n);\n\nconst _hoisted_18 = {\n  class: \"col-8\"\n};\nconst _hoisted_19 = {\n  class: \"align-items-center\"\n};\nconst _hoisted_20 = {\n  class: \"row main-col\"\n};\nconst _hoisted_21 = {\n  class: \"col d-flex justify-content-end pe-0 me-0\"\n};\n\nconst _hoisted_22 = /*#__PURE__*/_createTextVNode(\" Add Category \");\n\nconst _hoisted_23 = {\n  class: \"row main-col text-center header rounded mb-3\"\n};\n\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Icon\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Points\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Client Discount\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Owner Bonus\"), /*#__PURE__*/_createElementVNode(\"th\")])], -1\n/* HOISTED */\n);\n\nconst _hoisted_25 = [\"src\"];\nconst _hoisted_26 = [\"data-bs-target\"];\nconst _hoisted_27 = [\"id\", \"aria-labelledby\"];\nconst _hoisted_28 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_29 = {\n  class: \"modal-content\"\n};\nconst _hoisted_30 = {\n  class: \"modal-header\"\n};\nconst _hoisted_31 = [\"id\"];\n\nconst _hoisted_32 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\",\n  \"aria-label\": \"Close\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_33 = {\n  class: \"modal-body\"\n};\nconst _hoisted_34 = {\n  class: \"modal-footer\"\n};\n\nconst _hoisted_35 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-red\",\n  style: {\n    \"margin-right\": \"2vh\"\n  },\n  \"data-bs-dismiss\": \"modal\"\n}, \"No\", -1\n/* HOISTED */\n);\n\nconst _hoisted_36 = [\"onClick\"];\n\nconst _hoisted_37 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-1\"\n}, null, -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.clientPoints = $event),\n    type: \"number\",\n    min: 0,\n    id: \"client\",\n    class: \"form-control mb-2\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.clientPoints]]), _hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.ownerPoints = $event),\n    type: \"number\",\n    min: 0,\n    id: \"owner\",\n    class: \"form-control\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.ownerPoints]]), _createElementVNode(\"button\", {\n    type: \"button\",\n    disabled: $data.primaryValue1 === $data.clientPoints && $data.primaryValue2 === $data.ownerPoints,\n    class: \"btn mt-2\",\n    \"data-bs-toggle\": \"modal\",\n    \"data-bs-target\": \"#confirmationDialog1\"\n  }, \"Update\", 8\n  /* PROPS */\n  , _hoisted_10), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _hoisted_15, _createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn\",\n    onClick: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.updateProgram && $options.updateProgram(...args), [\"prevent\"])),\n    \"data-bs-dismiss\": \"modal\"\n  }, \"Yes\")])])])])])]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_createVNode(_component_router_link, {\n    to: \"/admin/loyaltyProgram/newCategory\",\n    class: \"btn btn-default mb-1 d-flex my-auto\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n      class: \"my-auto pe-2\",\n      icon: \"plus\"\n    }), _hoisted_22]),\n    _: 1\n    /* STABLE */\n\n  })])]), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"table\", null, [_hoisted_24, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.categories, (category, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index,\n      class: _normalizeClass(index % 2 !== 0 ? 'odd' : 'even')\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      src: $data.imageUrls[index],\n      style: {\n        \"height\": \"50px\",\n        \"width\": \"50px\",\n        \"object-fit\": \"cover\",\n        \"object-position\": \"center\"\n      },\n      class: \"img-fluid rounded p-0\",\n      alt: \"\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_25)]), _createElementVNode(\"td\", null, _toDisplayString(category.name), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(category.requiredPoints), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(category.clientDiscount.toFixed(2)) + \"%\", 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(category.ownerBenefit.toFixed(2)) + \"%\", 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-red\",\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": '#confirmationDialog' + category.id\n    }, [_createVNode(_component_font_awesome_icon, {\n      icon: \"trash\"\n    })], 8\n    /* PROPS */\n    , _hoisted_26), _createElementVNode(\"div\", {\n      class: \"modal fade\",\n      id: 'confirmationDialog' + category.id,\n      tabindex: \"-1\",\n      \"aria-labelledby\": 'exampleModalLabel' + category.id,\n      \"aria-hidden\": \"true\"\n    }, [_createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"h5\", {\n      class: \"modal-title\",\n      id: 'exampleModalLabel' + category.id\n    }, \"Category Deletion\", 8\n    /* PROPS */\n    , _hoisted_31), _hoisted_32]), _createElementVNode(\"div\", _hoisted_33, \" Do you want to delete user category '\" + _toDisplayString(category.name) + \"'? \", 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_34, [_hoisted_35, _createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"btn\",\n      onClick: $event => $options.deleteCategory(category.id),\n      \"data-bs-dismiss\": \"modal\"\n    }, \"Yes\", 8\n    /* PROPS */\n    , _hoisted_36)])])])], 8\n    /* PROPS */\n    , _hoisted_27)])], 2\n    /* CLASS */\n    );\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])])])])]), _hoisted_37])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","style","for","id","tabindex","type","_createElementBlock","_hoisted_2","_hoisted_7","_hoisted_8","$data","$event","min","_hoisted_9","disabled","_hoisted_10","_hoisted_14","_hoisted_15","_hoisted_17","onClick","$options","_createVNode","_component_router_link","to","_component_font_awesome_icon","icon","_hoisted_24","_Fragment","_renderList","categories","category","index","key","src","alt","_toDisplayString","name","requiredPoints","clientDiscount","toFixed","ownerBenefit","_hoisted_31","_hoisted_32","_hoisted_35","_hoisted_36","_hoisted_37"],"sourceRoot":"","sources":["C:\\Users\\Saška\\Downloads\\ISA_MRS\\isa_mrs_projekat_front\\src\\components\\Administrator\\AdminPage\\components\\AdminMainViews\\AdminLoyaltyProgramComponents\\LoyaltyProgramView.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-1\"></div>\r\n    <div class=\"col-10 pt-5 mb-5\">\r\n      <div class=\"row container-fluid pe-0 ps-0 me-0 ms-0\">\r\n        <div class=\"col-4 text-center\">\r\n          <div class=\"rounded shadow p-3\">\r\n            <h3 style=\"color: #008970\" class=\"mb-3\">Loyalty Program</h3>\r\n            <label for=\"client\" style=\"color: #008970\">Client Points Per Reservation</label>\r\n            <input v-model=\"clientPoints\" type=\"number\" :min=0 id=\"client\" class=\"form-control mb-2\">\r\n            <label for=\"owner\" style=\"color: #008970\">Owner Points Per Reservation</label>\r\n            <input v-model=\"ownerPoints\" type=\"number\" :min=0 id=\"owner\" class=\"form-control\">\r\n            <button type=\"button\" :disabled=\"primaryValue1===clientPoints&&primaryValue2===ownerPoints\" class=\"btn mt-2\" data-bs-toggle=\"modal\" data-bs-target=\"#confirmationDialog1\">Update</button>\r\n            <div class=\"modal fade\" id=\"confirmationDialog1\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel1\" aria-hidden=\"true\">\r\n              <div class=\"modal-dialog\">\r\n                <div class=\"modal-content\">\r\n                  <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel1\">Loyalty Program Update</h5>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                  </div>\r\n                  <div class=\"modal-body\">\r\n                    Do you want to change loyalty program?\r\n                  </div>\r\n                  <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-red\" style=\"margin-right: 2vh;\" data-bs-dismiss=\"modal\">No</button>\r\n                    <button type=\"button\" class=\"btn\" @click.prevent=\"updateProgram\" data-bs-dismiss=\"modal\">Yes</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-8\">\r\n          <div class=\"align-items-center\">\r\n            <div class=\"row main-col\">\r\n              <div class=\"col d-flex justify-content-end pe-0 me-0\">\r\n                <router-link to=\"/admin/loyaltyProgram/newCategory\" class=\"btn btn-default mb-1 d-flex my-auto\">\r\n                  <font-awesome-icon class=\"my-auto pe-2\" icon=\"plus\"></font-awesome-icon>\r\n                  Add Category\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n            <div class=\"row main-col text-center header rounded mb-3\">\r\n              <table>\r\n                <thead>\r\n                <tr>\r\n                  <th>Icon</th>\r\n                  <th>Name</th>\r\n                  <th>Points</th>\r\n                  <th>Client Discount</th>\r\n                  <th>Owner Bonus</th>\r\n                  <th></th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr v-for=\"(category, index) in this.categories\" :key=\"index\" :class=\"index%2!==0?'odd':'even'\">\r\n                  <td>\r\n                    <img :src=\"imageUrls[index]\" style=\"height: 50px;width: 50px; object-fit: cover; object-position: center;\" class=\"img-fluid rounded p-0\" alt=\"\">\r\n                  </td>\r\n                  <td>{{category.name}}</td>\r\n                  <td>{{category.requiredPoints}}</td>\r\n                  <td>{{category.clientDiscount.toFixed(2)}}%</td>\r\n                  <td>{{category.ownerBenefit.toFixed(2)}}%</td>\r\n                  <td>\r\n                    <button class=\"btn btn-red\" data-bs-toggle=\"modal\" :data-bs-target=\"'#confirmationDialog'+category.id\" ><font-awesome-icon icon=\"trash\"></font-awesome-icon></button>\r\n                    <div class=\"modal fade\" :id=\"'confirmationDialog'+category.id\" tabindex=\"-1\" :aria-labelledby=\"'exampleModalLabel'+category.id\" aria-hidden=\"true\">\r\n                      <div class=\"modal-dialog\">\r\n                        <div class=\"modal-content\">\r\n                          <div class=\"modal-header\">\r\n                            <h5 class=\"modal-title\" :id=\"'exampleModalLabel'+category.id\">Category Deletion</h5>\r\n                            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                          </div>\r\n                          <div class=\"modal-body\">\r\n                            Do you want to delete user category '{{category.name}}'?\r\n                          </div>\r\n                          <div class=\"modal-footer\">\r\n                            <button type=\"button\" class=\"btn btn-red\" style=\"margin-right: 2vh;\" data-bs-dismiss=\"modal\">No</button>\r\n                            <button type=\"button\" class=\"btn\" @click=\"deleteCategory(category.id)\" data-bs-dismiss=\"modal\">Yes</button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-1\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {FontAwesomeIcon} from \"@fortawesome/vue-fontawesome\";\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { faPlus, faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport {useStore} from \"vuex\";\r\nimport axios from \"axios\";\r\nimport {toggleLoading, toggleProcessing} from \"@/components/state\";\r\n\r\nlibrary.add(faPlus, faTrash);\r\n\r\nexport default {\r\n  name: \"LoyaltyProgramView\",\r\n  components: {FontAwesomeIcon},\r\n  data() {\r\n    return {\r\n      primaryValue1: null,\r\n      primaryValue2: null,\r\n      categories: [],\r\n      clientPoints: null,\r\n      ownerPoints: null,\r\n      imageUrls: []\r\n    }\r\n  },\r\n  mounted() {\r\n    toggleLoading();\r\n    const store = useStore();\r\n    axios.get(\"/LoyaltyProgram/getProgram\", {headers: {\r\n        Authorization: \"Bearer \" + store.getters.access_token,\r\n      }\r\n    })\r\n    .then(response => {\r\n      this.categories = response.data.loyaltyCategories;\r\n      this.clientPoints = response.data.clientPointsPerReservation;\r\n      this.ownerPoints = response.data.ownerPointsPerReservation;\r\n      this.primaryValue1 = response.data.clientPointsPerReservation;\r\n      this.primaryValue2 = response.data.ownerPointsPerReservation;\r\n      this.categories.forEach(category => {\r\n        this.loadImage(category.icon, this.categories.indexOf(category));\r\n      });\r\n      toggleLoading();\r\n    })\r\n    .catch(() =>{\r\n      this.$notify({\r\n        title: \"Server error\",\r\n        text: \"Server is currently off. Please try again later...\",\r\n        type: \"error\"\r\n      });\r\n      toggleLoading();\r\n    });\r\n  },\r\n  methods: {\r\n    loadImage(name, index) {\r\n      axios.get(\"/Photos/\", {headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        },\r\n        params: {\r\n          path: name,\r\n        },\r\n        responseType: \"blob\"\r\n      })\r\n      .then(response => {\r\n        this.imageUrls[index] = URL.createObjectURL(response.data);\r\n      })\r\n      .catch((error) =>{\r\n        console.log(error);\r\n      });\r\n    },\r\n    deleteCategory(categoryId) {\r\n      axios.delete(\"/LoyaltyProgram/deleteCategory\", {headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        },\r\n        params: {\r\n          id: categoryId\r\n        }\r\n      })\r\n      .then((response) => {\r\n        this.categories = response.data.loyaltyCategories;\r\n        this.clientPoints = response.data.clientPointsPerReservation;\r\n        this.ownerPoints = response.data.ownerPointsPerReservation;\r\n        this.categories.forEach(category => {\r\n          this.loadImage(category.icon, this.categories.indexOf(category));\r\n        });\r\n      })\r\n      .catch(() =>{\r\n        this.$notify({\r\n          title: \"Server error\",\r\n          text: \"Server is currently off. Please try again later...\",\r\n          type: \"error\"\r\n        });\r\n      })\r\n    },\r\n    updateProgram() {\r\n      toggleProcessing();\r\n      const cp = this.clientPoints;\r\n      const op = this.ownerPoints;\r\n      axios.put(\"/LoyaltyProgram/updateProgram\", null, {\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        },\r\n        params: {\r\n          clientPointsPerReservation: cp,\r\n          ownerPointsPerReservation: op\r\n        }\r\n      })\r\n      .then(response => {\r\n        this.categories = response.data.loyaltyCategories;\r\n        this.clientPoints = response.data.clientPointsPerReservation;\r\n        this.ownerPoints = response.data.ownerPointsPerReservation;\r\n        this.primaryValue1 = response.data.clientPointsPerReservation;\r\n        this.primaryValue2 = response.data.ownerPointsPerReservation;\r\n        this.categories.forEach(category => {\r\n          this.loadImage(category.icon, this.categories.indexOf(category));\r\n        });\r\n        this.$notify( {\r\n          title: \"Successful update\",\r\n          text: \"You have successfully updated the loyalty program.\",\r\n          position: \"bottom right\",\r\n          type: \"success\"\r\n        });\r\n        toggleProcessing();\r\n      })\r\n      .catch(() =>{\r\n        this.$notify({\r\n          title: \"Server error\",\r\n          text: \"Server is currently off. Please try again later...\",\r\n          type: \"error\"\r\n        });\r\n        toggleProcessing()\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}