{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-a7aaf282\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"row\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-1\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  class: \"col-10 pt-5 mb-5\"\n};\nconst _hoisted_4 = {\n  class: \"container-fluid pe-0 ps-0 me-0 ms-0\"\n};\nconst _hoisted_5 = {\n  class: \"align-items-center\"\n};\nconst _hoisted_6 = {\n  class: \"row main-col\"\n};\nconst _hoisted_7 = {\n  class: \"col d-flex justify-content-start ps-0 ms-0 me-0 pe-0\"\n};\nconst _hoisted_8 = {\n  class: \"col mb-1\"\n};\nconst _hoisted_9 = {\n  class: \"d-flex flex-row justify-content-end\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"btn btn-red mb-1 me-1\",\n  \"data-bs-toggle\": \"modal\",\n  \"data-bs-target\": \"#confirmationDialog\"\n};\nconst _hoisted_11 = {\n  class: \"modal fade\",\n  id: \"confirmationDialog\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"exampleModalLabel\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_12 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_13 = {\n  class: \"modal-content\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"modal-header\"\n}, [/*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"modal-title\",\n  id: \"exampleModalLabel\"\n}, \"Rental Objects' Status Change\"), /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn-close\",\n  \"data-bs-dismiss\": \"modal\",\n  \"aria-label\": \"Close\"\n})], -1\n/* HOISTED */\n));\n\nconst _hoisted_15 = {\n  class: \"modal-body\"\n};\nconst _hoisted_16 = {\n  class: \"modal-footer\"\n};\n\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-red\",\n  style: {\n    \"margin-right\": \"2vh\"\n  },\n  \"data-bs-dismiss\": \"modal\"\n}, \"No\", -1\n/* HOISTED */\n));\n\nconst _hoisted_18 = /*#__PURE__*/_createTextVNode(\" Create new \");\n\nconst _hoisted_19 = {\n  class: \"row main-col text-center header rounded mb-3\"\n};\nconst _hoisted_20 = [\"src\"];\nconst _hoisted_21 = {\n  class: \"card-body\"\n};\nconst _hoisted_22 = {\n  class: \"card-title\"\n};\n\nconst _hoisted_23 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", {\n  class: \"ms-1\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_24 = {\n  class: \"row\"\n};\n\nconst _hoisted_25 = /*#__PURE__*/_createTextVNode(\" Active: \");\n\nconst _hoisted_26 = [\"value\", \"onUpdate:modelValue\", \"onChange\", \"disabled\"];\nconst _hoisted_27 = {\n  \"aria-label\": \"Page navigation\"\n};\nconst _hoisted_28 = {\n  class: \"pagination justify-content-center mt-3\"\n};\nconst _hoisted_29 = {\n  key: 0,\n  class: \"page-item\"\n};\nconst _hoisted_30 = [\"disabled\"];\nconst _hoisted_31 = {\n  key: 1,\n  class: \"page-item mt-auto me-1 ms-1\"\n};\nconst _hoisted_32 = {\n  class: \"page-item\"\n};\nconst _hoisted_33 = [\"disabled\"];\nconst _hoisted_34 = {\n  key: 2,\n  class: \"page-item\"\n};\nconst _hoisted_35 = [\"disabled\"];\nconst _hoisted_36 = {\n  key: 3,\n  class: \"page-item\"\n};\nconst _hoisted_37 = [\"disabled\"];\nconst _hoisted_38 = {\n  key: 4,\n  class: \"page-item mt-auto me-1 ms-1\"\n};\nconst _hoisted_39 = {\n  key: 5,\n  class: \"page-item\"\n};\nconst _hoisted_40 = [\"disabled\"];\n\nconst _hoisted_41 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-1\"\n}, null, -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [$options.hasChanged ? (_openBlock(), _createElementBlock(\"button\", _hoisted_10, \" Save Changes \")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _createElementVNode(\"div\", _hoisted_15, _toDisplayString($options.modalMessage), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.saveChanges && $options.saveChanges(...args)),\n    \"data-bs-dismiss\": \"modal\"\n  }, \"Yes\")])])])])]), _createVNode(_component_router_link, {\n    to: \"/vacationRentalOwner/newCottage\",\n    class: \"btn btn-default mb-1 d-flex my-auto\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_font_awesome_icon, {\n      class: \"my-auto pe-2\",\n      icon: \"plus\"\n    }), _hoisted_18]),\n    _: 1\n    /* STABLE */\n\n  })])]), _createElementVNode(\"div\", _hoisted_19, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.cottages, (rentalObject, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"card\",\n      key: index,\n      style: {\n        \"width\": \"275px\",\n        \"margin\": \"0.5%\",\n        \"border-color\": \"#008970\"\n      }\n    }, [rentalObject.photos.length !== 0 ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: $data.imageUrls[index],\n      style: {\n        \"width\": \"100%\"\n      },\n      class: \"img-fluid rounded border-1\",\n      alt: \"\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_20)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_21, [_createVNode(_component_router_link, {\n      to: \"#\",\n      style: {\n        \"color\": \"#008970\"\n      }\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"h4\", _hoisted_22, _toDisplayString(rentalObject.name), 1\n      /* TEXT */\n      ), _hoisted_23]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1024\n    /* DYNAMIC_SLOTS */\n    ), _createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"h5\", null, [_createVNode(_component_font_awesome_icon, {\n      class: \"my-auto\",\n      icon: \"location-dot\"\n    }), _createTextVNode(\": \" + _toDisplayString(rentalObject.address.city + \", \" + rentalObject.address.country), 1\n    /* TEXT */\n    )]), _createElementVNode(\"h5\", null, [_createVNode(_component_font_awesome_icon, {\n      class: \"my-auto\",\n      icon: \"dollar-sign\"\n    }), _createTextVNode(\": \" + _toDisplayString(rentalObject.price + \"$\"), 1\n    /* TEXT */\n    )]), _createElementVNode(\"h5\", null, [_hoisted_25, _withDirectives(_createElementVNode(\"input\", {\n      class: \"form-check-input\",\n      type: \"checkbox\",\n      value: !rentalObject.isActive,\n      \"onUpdate:modelValue\": $event => rentalObject.isActive = $event,\n      onChange: $event => $options.changeStatus(rentalObject),\n      disabled: !rentalObject.isDeletable\n    }, null, 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_26), [[_vModelCheckbox, rentalObject.isActive]])])])])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _createElementVNode(\"nav\", _hoisted_27, [_createElementVNode(\"ul\", _hoisted_28, [$data.totalPages > 1 ? (_openBlock(), _createElementBlock(\"li\", _hoisted_29, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    disabled: $data.currentPage === 0,\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.previousPage && $options.previousPage(...args))\n  }, \"Previous\", 8\n  /* PROPS */\n  , _hoisted_30)])) : _createCommentVNode(\"v-if\", true), $data.currentPage > 1 && $data.totalPages > 3 ? (_openBlock(), _createElementBlock(\"li\", _hoisted_31, \"...\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"li\", _hoisted_32, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    disabled: $data.currentPage === 0,\n    onClick: _cache[2] || (_cache[2] = $event => $options.numberedPage(1))\n  }, _toDisplayString($options.button1Content), 9\n  /* TEXT, PROPS */\n  , _hoisted_33)]), $data.totalPages > 1 ? (_openBlock(), _createElementBlock(\"li\", _hoisted_34, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    disabled: $data.currentPage !== 0 && $data.totalPages - $data.currentPage > 1,\n    onClick: _cache[3] || (_cache[3] = $event => $options.numberedPage(2))\n  }, _toDisplayString($options.button2Content), 9\n  /* TEXT, PROPS */\n  , _hoisted_35)])) : _createCommentVNode(\"v-if\", true), $data.totalPages > 2 ? (_openBlock(), _createElementBlock(\"li\", _hoisted_36, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    disabled: $data.totalPages - $data.currentPage === 1,\n    onClick: _cache[4] || (_cache[4] = $event => $options.numberedPage(3))\n  }, _toDisplayString($options.button3Content), 9\n  /* TEXT, PROPS */\n  , _hoisted_37)])) : _createCommentVNode(\"v-if\", true), $data.totalPages - $data.currentPage > 1 && $data.totalPages > 3 && $options.button3Content !== $data.totalPages ? (_openBlock(), _createElementBlock(\"li\", _hoisted_38, \"...\")) : _createCommentVNode(\"v-if\", true), $data.totalPages > 1 ? (_openBlock(), _createElementBlock(\"li\", _hoisted_39, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    disabled: $data.totalPages - $data.currentPage === 1,\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.nextPage && $options.nextPage(...args))\n  }, \"Next\", 8\n  /* PROPS */\n  , _hoisted_40)])) : _createCommentVNode(\"v-if\", true)])])])])]), _hoisted_41])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","id","tabindex","type","style","_createElementBlock","_hoisted_2","$options","_hoisted_14","_toDisplayString","_hoisted_17","onClick","_createVNode","_component_router_link","to","_component_font_awesome_icon","icon","_Fragment","_renderList","cottages","rentalObject","index","key","photos","length","src","$data","alt","name","_hoisted_23","address","city","country","price","value","isActive","$event","onChange","disabled","isDeletable","_hoisted_30","_hoisted_33","_hoisted_35","_hoisted_37","_hoisted_40","_hoisted_41"],"sourceRoot":"","sources":["C:\\Users\\Sa≈°ka\\Downloads\\MRS_ISA\\isa_mrs_projekat_front\\src\\components\\VacationRentalOwner\\VacationRentalOwnerPage\\components\\AllCottagesView\\AllCottagesView.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-1\"></div>\r\n    <div class=\"col-10 pt-5 mb-5\">\r\n      <div class=\"container-fluid pe-0 ps-0 me-0 ms-0\">\r\n        <div class=\"align-items-center\">\r\n          <div class=\"row main-col\">\r\n            <div class=\"col d-flex justify-content-start ps-0 ms-0 me-0 pe-0\">\r\n              <div class=\"col mb-1\">\r\n                <div class=\"d-flex flex-row justify-content-end\">\r\n                  <button v-if=\"hasChanged\" class=\"btn btn-red mb-1 me-1\" data-bs-toggle=\"modal\" data-bs-target=\"#confirmationDialog\">\r\n                    Save Changes\r\n                  </button>\r\n                </div>\r\n                <div class=\"modal fade\" id=\"confirmationDialog\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                  <div class=\"modal-dialog\">\r\n                    <div class=\"modal-content\">\r\n                      <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Rental Objects' Status Change</h5>\r\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                      </div>\r\n                      <div class=\"modal-body\">\r\n                        {{modalMessage}}\r\n                      </div>\r\n                      <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-red\" style=\"margin-right: 2vh;\" data-bs-dismiss=\"modal\">No</button>\r\n                        <button type=\"button\" class=\"btn\" @click=\"saveChanges\" data-bs-dismiss=\"modal\">Yes</button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <router-link to=\"/vacationRentalOwner/newCottage\" class=\"btn btn-default mb-1 d-flex my-auto\">\r\n                <font-awesome-icon class=\"my-auto pe-2\" icon=\"plus\"></font-awesome-icon>\r\n                Create new\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n          <div class=\"row main-col text-center header rounded mb-3\">\r\n            <div class=\"card\" v-for=\"(rentalObject, index) in this.cottages\" :key=\"index\" style=\"width:275px; margin: 0.5%; border-color: #008970\">\r\n              <img v-if=\"rentalObject.photos.length !== 0\" :src=\"imageUrls[index]\" style=\"width:100%\" class=\"img-fluid rounded border-1\" alt=\"\">\r\n              <div class=\"card-body\">\r\n                <router-link to=\"#\" style=\"color: #008970\">\r\n                <h4 class=\"card-title\">{{ rentalObject.name }}</h4>\r\n                  <hr class=\"ms-1\">\r\n                </router-link>\r\n                <div class=\"row\">\r\n                  <h5>\r\n                    <font-awesome-icon class=\"my-auto\" icon=\"location-dot\"></font-awesome-icon>:\r\n                    {{rentalObject.address.city + \", \" + rentalObject.address.country}}\r\n                  </h5>\r\n                  <h5>\r\n                    <font-awesome-icon class=\"my-auto\" icon=\"dollar-sign\"></font-awesome-icon>:\r\n                    {{rentalObject.price + \"$\"}}\r\n                  </h5>\r\n                  <h5>\r\n                    Active: <input class=\"form-check-input\" type=\"checkbox\" :value=\"!rentalObject.isActive\" v-model=\"rentalObject.isActive\" @change=\"changeStatus(rentalObject)\" :disabled=\"!rentalObject.isDeletable\">\r\n                  </h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <nav aria-label=\"Page navigation\">\r\n              <ul class=\"pagination justify-content-center mt-3\">\r\n                <li class=\"page-item\" v-if=\"totalPages > 1\"><button class=\"page-link\" :disabled=\"currentPage===0\" @click=\"previousPage\">Previous</button></li>\r\n                <li class=\"page-item mt-auto me-1 ms-1\" v-if=\"currentPage > 1 && totalPages > 3\">...</li>\r\n                <li class=\"page-item\"><button class=\"page-link\" :disabled=\"currentPage === 0\" @click=\"numberedPage(1)\">{{button1Content}}</button></li>\r\n                <li class=\"page-item\" v-if=\"totalPages > 1\"><button class=\"page-link\" :disabled=\"currentPage !== 0 && totalPages - currentPage > 1\" @click=\"numberedPage(2)\">{{button2Content}}</button></li>\r\n                <li class=\"page-item\" v-if=\"totalPages > 2\"><button class=\"page-link\" :disabled=\"totalPages - currentPage === 1\" @click=\"numberedPage(3)\">{{button3Content}}</button></li>\r\n                <li class=\"page-item mt-auto me-1 ms-1\" v-if=\"totalPages - currentPage > 1 && totalPages > 3 && button3Content !== totalPages\">...</li>\r\n                <li class=\"page-item\" v-if=\"totalPages > 1\"><button class=\"page-link\" :disabled=\"totalPages - currentPage === 1\" @click=\"nextPage\">Next</button></li>\r\n              </ul>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-1\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from \"axios\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/vue-fontawesome\";\r\nimport {library} from \"@fortawesome/fontawesome-svg-core\";\r\nimport {faAngleDoubleLeft, faAngleDoubleRight, faAngleLeft, faAngleRight, faFrown, faPlus, faLocationDot, faDollarSign}\r\n  from \"@fortawesome/free-solid-svg-icons\";\r\nimport {useStore} from \"vuex\";\r\nimport {toggleLoading, toggleProcessing} from \"@/components/state\";\r\n\r\nlibrary.add(faAngleRight, faAngleLeft, faFrown, faAngleDoubleRight, faAngleDoubleLeft, faPlus, faLocationDot, faDollarSign);\r\n\r\nexport default {\r\n  name: \"AllCottagesView\",\r\n  components: {\r\n    FontAwesomeIcon\r\n  },\r\n  data() {\r\n    return {\r\n      cottages: [],\r\n      totalPages: null,\r\n      currentPage: 0,\r\n      pageSize: 10,\r\n      imageUrls: [],\r\n      changedRentals: []\r\n    }\r\n  },\r\n  mounted() {\r\n    toggleLoading();\r\n    const store = useStore();\r\n    axios.get(\"/RentalObjects/getVacationRentalsOwner\", {headers: {\r\n        Authorization: \"Bearer \" + store.state.access_token,\r\n      },\r\n      params: {\r\n        page: this.currentPage,\r\n        pageSize: this.pageSize,\r\n        field: \"name\",\r\n      }},\r\n    ).then(response => {\r\n      this.cottages = response.data.content;\r\n      this.currentPage = response.data.currentPage;\r\n      this.totalPages = response.data.pages;\r\n      this.cottages.forEach(rentalObject => {\r\n        console.log(rentalObject.name);\r\n        if (rentalObject.photos.length > 0) {\r\n          const index = this.cottages.indexOf(rentalObject);\r\n          this.loadImage(rentalObject.photos[0].photo, index);\r\n        }\r\n      });\r\n      toggleLoading();\r\n    })\r\n        .catch(() =>{\r\n          this.$notify({\r\n            title: \"Server error\",\r\n            text: \"Something went wrong. Please try again later...\",\r\n            type: \"error\"\r\n          });\r\n        })\r\n  },\r\n  methods: {\r\n    saveChanges() {\r\n      toggleProcessing();\r\n      let ids = this.changedRentalsIds;\r\n      let lwc = {list: ids};\r\n      axios.put(\"/RentalObjects/multipleRentalsStatusChange\",\r\n          lwc,\r\n          {headers: {\r\n              Authorization: \"Bearer \" + this.$store.state.access_token,\r\n            }\r\n          })\r\n          .then((response) => {\r\n            let message = \"You have successfully changed status for rental objects:\";\r\n            response.data.forEach((rentalObject) => {message += \" \" + rentalObject.name + \",\"});\r\n            message = message.slice(0, -1);\r\n            message += \".\";\r\n            this.$notify({\r\n              title: \"Status Change Successful\",\r\n              text: message,\r\n              type: \"success\"\r\n            });\r\n            this.changedRentals = [];\r\n            toggleProcessing();\r\n          })\r\n          .catch(() =>{\r\n            this.$notify({\r\n              title: \"Server error\",\r\n              text: \"Something went wrong. Please try again later...\",\r\n              type: \"error\"\r\n            });\r\n            toggleProcessing();\r\n          })\r\n    },\r\n    changeStatus(rentalObject) {\r\n      let index = this.changedRentals.findIndex(element => element.id === rentalObject.id);\r\n      if (index > -1) {\r\n        this.changedRentals.splice(index, 1);\r\n      } else {\r\n        this.changedRentals.push(rentalObject);\r\n      }\r\n    },\r\n    previousPage() {\r\n      this.currentPage -= 1;\r\n      this.refreshPage();\r\n    },\r\n    nextPage() {\r\n      this.currentPage += 1;\r\n      this.refreshPage();\r\n    },\r\n    numberedPage(buttonNumber) {\r\n      if (buttonNumber === 1) {\r\n        this.currentPage = this.button1Content - 1;\r\n      } else if (buttonNumber === 2) {\r\n        this.currentPage = this.button2Content - 1;\r\n      } else if (buttonNumber === 3) {\r\n        this.currentPage = this.button3Content - 1;\r\n      }\r\n      this.refreshPage();\r\n    },\r\n    refreshPage() {\r\n      toggleProcessing();\r\n      axios.get(\"/RentalObjects/getVacationRentalsOwner\", {headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        },\r\n        params: {\r\n          page: this.currentPage,\r\n          pageSize: this.pageSize,\r\n          field: \"name\"\r\n        }\r\n      })\r\n          .then(response => {\r\n            this.cottages = response.data.content;\r\n            this.currentPage = response.data.currentPage;\r\n            this.totalPages = response.data.pages;\r\n            this.cottages.forEach(rentalObject => {\r\n              if (rentalObject.photos.length > 0) {\r\n                const index = this.cottages.indexOf(rentalObject);\r\n                this.loadImage(rentalObject.photos[0].photo, index);\r\n              }\r\n            });\r\n            toggleProcessing();\r\n          })\r\n          .catch(() =>{\r\n            this.$notify({\r\n              title: \"Server error\",\r\n              text: \"Server is currently off. Please try again later...\",\r\n              type: \"error\"\r\n            });\r\n            toggleProcessing();\r\n          });\r\n    },\r\n    loadImage(name, index) {\r\n      axios.get(\"/Photos/\", {headers: {\r\n          Authorization: \"Bearer \" + this.$store.getters.access_token,\r\n        },\r\n        params: {\r\n          path: name,\r\n        },\r\n        responseType: \"blob\"\r\n      })\r\n          .then(response => {\r\n            this.imageUrls[index] = URL.createObjectURL(response.data);\r\n          })\r\n          .catch((error) =>{\r\n            console.log(error);\r\n          });\r\n    },\r\n    rulesOfConduct(rulesOfConduct) {\r\n      let pairsOfRules = [];\r\n      let positiveRules = this.positiveRules(rulesOfConduct);\r\n      let negativeRules = this.negativeRules(rulesOfConduct);\r\n      let size = Math.max(positiveRules.length, negativeRules.length);\r\n      for (let i = 0; i < size; i++) {\r\n        pairsOfRules.push({\r\n          \"Do\": i+1<=positiveRules.length?positiveRules[i]:\"\",\r\n          \"DoNot\": i+1<=negativeRules.length?negativeRules[i]:\"\"\r\n        });\r\n      }\r\n      return pairsOfRules;\r\n    },\r\n    positiveRules(rulesOfConduct) {\r\n      let positiveRules = [];\r\n      rulesOfConduct.forEach(rule => {\r\n        if (rule.type === \"Do\") {\r\n          positiveRules.push(rule.rule);\r\n        }\r\n      });\r\n      return positiveRules;\r\n    },\r\n    negativeRules(rulesOfConduct) {\r\n      let negativeRules = [];\r\n      rulesOfConduct.forEach(rule => {\r\n        if (rule.type === \"DoNot\") {\r\n          negativeRules.push(rule.rule);\r\n        }\r\n      });\r\n      return negativeRules;\r\n    }\r\n  },\r\n  computed: {\r\n    changedRentalsIds() {\r\n      let ids = [];\r\n      this.changedRentals.forEach(rentalObject => {ids.push(rentalObject.id)});\r\n      return ids;\r\n    },\r\n    hasChanged() {\r\n      return this.changedRentals.length > 0;\r\n    },\r\n    button1Content() {\r\n      return this.currentPage === 0 ? this.currentPage+1: this.totalPages - this.currentPage === 1 ? this.currentPage - 1 : this.currentPage;\r\n    },\r\n    button2Content() {\r\n      return this.currentPage === 0 ? this.currentPage+2: this.totalPages - this.currentPage === 1 ? this.currentPage : this.currentPage+1;\r\n    },\r\n    button3Content() {\r\n      return this.currentPage === 0 ? this.currentPage+3: this.totalPages - this.currentPage === 1 ? this.currentPage + 1 : this.currentPage+2;\r\n    },\r\n    modalMessage() {\r\n      let numberOfDeletedRentals = this.numberOfDeletedRentals;\r\n      let numberOfActivatedRentals = this.numberOfActivatedRentals;\r\n      let deleteMessage = \"\";\r\n      let activateMessage = \"\";\r\n      if (numberOfDeletedRentals > 1) {\r\n        deleteMessage = \"Do you want to delete vacation rentals:\";\r\n      } else if (numberOfDeletedRentals === 1) {\r\n        deleteMessage = \"Do you want to delete vacation rental:\";\r\n      }\r\n      if (numberOfActivatedRentals > 1) {\r\n        activateMessage = \"Do you want to activate vacation rentals:\";\r\n      } else if (numberOfActivatedRentals === 1) {\r\n        activateMessage = \"Do you want to activate vacation rental:\";\r\n      }\r\n      this.changedRentals.forEach(rentalObject => {\r\n        if (!rentalObject.isActive) {\r\n          deleteMessage += \" \" + rentalObject.name + \",\\n\";\r\n        } else {\r\n          activateMessage += \" \" + rentalObject.name + \",\\n\";\r\n        }\r\n      });\r\n      if (numberOfDeletedRentals > 0) {\r\n        deleteMessage = deleteMessage.slice(0, -2);\r\n        deleteMessage += \"?\";\r\n      }\r\n      if (numberOfActivatedRentals > 0) {\r\n        activateMessage = activateMessage.slice(0, -2);\r\n        activateMessage += \"?\";\r\n      }\r\n      return deleteMessage + \"\\n\" + activateMessage;\r\n    },\r\n    numberOfDeletedRentals() {\r\n      let counter = 0;\r\n      this.changedRentals.forEach(rentalObject => {\r\n        if (!rentalObject.isActive) {\r\n          counter += 1;\r\n        }\r\n      });\r\n      return counter;\r\n    },\r\n    numberOfActivatedRentals() {\r\n      let counter = 0;\r\n      this.changedRentals.forEach(rentalObject => {\r\n        if (rentalObject.isActive) {\r\n          counter += 1;\r\n        }\r\n      });\r\n      return counter;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ndiv.card {\r\n  border-radius: 10px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}